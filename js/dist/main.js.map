{"version":3,"sources":["custom.js","lines-bsas.js","video.js","queue.js","maps_binary5yr.js","maps-substance.js","lines-death.js","lines-fent.js","blocks-bar.js","blocks-gender.js","bars-age.js","bars-race.js"],"names":["parallax","speed","document","querySelectorAll","window","onscroll","i","length","$offset","$","offset","$windowYOffset","height","pageYOffset","top","extraY","elBackgrounPos","style","backgroundPosition","collapseNavbar","addClass","removeClass","BoldText","elem","currElem","fontWeight","opioidsY2000","d","d3","select","attr","classed","opioidsY2015","InitPxVideo","options","video_timecode_min","tc","tcpair","split","videosub_tcsecs","video_timecode_max","undefined","seconds","tc1","tc2","Math","floor","adjustManualCaptions","obj","subcount","captions","movie","currentTime","toFixed","showCaptionContainerAndButton","captionsBtnContainer","className","isCaptionDefault","captionsContainer","captionsBtn","setAttribute","browserSniff","nameOffset","verOffset","ix","nAgt","navigator","appVersion","userAgent","browserName","appName","fullVersion","parseFloat","majorVersion","parseInt","indexOf","substring","lastIndexOf","toLowerCase","toUpperCase","isNaN","launchFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullScreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","call","fullScreenStyles","fullscreen","mozFullScreen","webkitIsFullScreen","fullScreenBtn","checked","container","controls","movieWidth","movieHeight","exitFullScreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","ariaAnnounce","msg","announce","getElementById","innerHTML","resetVideo","video","src","getElementsByTagName","getAttribute","isTextTracks","pause","btnPlay","btnPause","div","createElement","id","overflow","textIndent","body","appendChild","arBrowserInfo","browserMajorVersion","isSmartphoneOrTablet","test","debug","console","log","videoTitle","playAriaLabel","videoId","getElementsByClassName","removeAttribute","randomNum","random","GLOBAL_STRINGS","kind","captionSrc","children","childNodes","nodeName","captionExists","captionsOnDefault","seekInterval","btnRestart","btnRewind","btnForward","btnVolume","btnMute","progressBar","progressBarSpan","duration","txtSeconds","fullScreenBtnContainer","textTracks","addEventListener","play","focus","click","e","$target","target","data","which_container","which_video","which_btnPlay","which_btnPause","targetTime","announcePos","round","announceMsg","volume","this","value","muted","onkeypress","keyCode","preventDefault","secs","mins","slice","percent","pos","offsetWidth","currClass","track","tracks","j","mode","activeCues","hasOwnProperty","text","currentCaption","xhr","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","record","records","req","responseText","r","shift","open","send","removeChild","queue","parallelism","pop","popping","started","tasks","active","t","a","push","callback","apply","error","remaining","NaN","notify","await","all","concat","q","noop","Infinity","defer","arguments","f","awaitAll","version","define","amd","module","exports","scroll","ready","bind","event","href","stop","animate","scrollTop","location","hash","on","tab","newTabHeight","querySelector","clientHeight","parent","each","$id","$current","html","find","load","response","asignVal_svg","val","val_svg","words","trim","potentialWidow","newWords","join","Vis","visualize","states","forEach","wrapper","visualizationWrapper","append","createMap","geo","selector","eventName","selectAll","el","shape","key","$maps_sub","width","features","enter","path","values","properties","TOWN","palette","self","town_value","geoData","format","node","parentNode","TOWN_1","fill-opacity","generateLegend_map_sub","scale","szDivId","szCaption","legendHeight","legendWidth","$maps_sub_svg","$maps_sub_legends","legendData","domain","range","s","domainStrings","unitWidth","json","projection","conicConformal","parallels","rotate","translate","colors_5yr","threshold","opChgScale","date","setupData","years","keys","dataset","OMRs","y","year","rate","Geography","FullName","rates","xScale","extent","dateFormat","parse","yScale","max","groups","$lines_death","lines","inArray","Massachusetts","UnitedStates","mouseoverFunc","mouseoutFunc","mousemoveFunc","updateDimensions","dimensions","rootNode","clientWidth","margin","left","render","right","bottom","xAxis_death","orient","ticks","tickFormat","innerTickSize","yAxis_death","$lines_death_x_axis_label","$lines_death_y_axis_label","$lines_death_y_axis","line_death","x","defined","$lines_death_x_axis","$lines_death_ma_label","$lines_death_usa_label","svg","symbol","type","size","tooltip_death","y0","mouse","y1","invert","percentVal","x0","offsetY","time","linear","axis","line","csv","quarter","date2","Date","setMonth","getMonth","ceil","tooltipFent","pageY","pageX","updateWidth","rangePoints","x2","xAxis_fent","xAxis2_fent","yAxis_fent","label","x_axis","x_axis2","x_axis2_text","y_axis","$svg","wrapper_width","wrapper_height","$lines","$lines_hit_area","$legend","componentWidth","renderLegend","legendItems","legendItemsTranslate","lineHeight","item","$item","seriesColors","seriesLineDash","seriesLineStrokes","rootSelector","chartData","FentanylHeroin","Fentanyl","Heroin","Methadone","yearformat","seriesPointShapes","seriesPointWidth","seriesPointFill","xLabel","ordinal","color","lineStroke","lineDash","pointShape","pointWidth","pointFill","months","tickSize","tickPadding","formatPercent","$lines_fent","varSeries","filter","seriesData","map","name","min","c","series","xAxis_bsas","outerTickSize","yAxis_bsas","age","$x_axis","$y_axis","$lines_bsas","$eventOverlay","$lines_bsas_x_axis_label","$lines_bsas_y_axis_label","renderLines","updateDots","w","setupLegend","opioids","circle","alcohol","marijuana","other","top_offset","line_height","legend_pos_dot","legend_pos_text","setupLines","current_town","y_circle_alcohol","transition","delay","string_select","value_select","town_names","abington","acton","acushnet","adams","agawam","alford","amesbury","amherst","andover","aquinnah","arlington","ashburnham","ashby","ashfield","ashland","athol","attleboro","auburn","avon","ayer","barnstable","barre","becket","bedford","belchertown","bellingham","belmont","berkley","berlin","bernardston","beverly","billerica","blackstone","blandford","bolton","boston","bourne","boxborough","boxford","boylston","braintree","brewster","bridgewater","brimfield","brockton","brookfield","brookline","buckland","burlington","cambridge","canton","carlisle","carver","charlemont","charlton","chatham","chelmsford","chelsea","cheshire","chester","chesterfield","chicopee","chilmark","clarksburg","clinton","cohasset","colrain","concord","conway","cummington","dalton","danvers","dartmouth","dedham","deerfield","dennis","dighton","douglas","dover","dracut","dudley","dunstable","duxbury","eastbridgewater","eastbrookfield","eastham","easthampton","eastlongmeadow","easton","edgartown","egremont","erving","essex","everett","fairhaven","fallriver","falmouth","fitchburg","florida","foxborough","framingham","franklin","freetown","gardner","georgetown","gill","gloucester","goshen","gosnold","grafton","granby","granville","greatbarrington","greenfield","groton","groveland","hadley","halifax","hamilton","hampden","hancock","hanover","hanson","hardwick","harvard","harwich","hatfield","haverhill","hawley","heath","hingham","hinsdale","holbrook","holden","holland","holliston","holyoke","hopedale","hopkinton","hubbardston","hudson","hull","huntington","ipswich","kingston","lakeville","lancaster","lanesborough","lawrence","lee","leicester","lenox","leominster","leverett","lexington","leyden","lincoln","littleton","longmeadow","lowell","ludlow","lunenburg","lynn","lynnfield","malden","manchester","mansfield","marblehead","marion","marlborough","marshfield","mashpee","mattapoisett","maynard","medfield","medford","medway","melrose","mendon","merrimac","methuen","middleborough","middlefield","middleton","milford","millbury","millis","millville","milton","monroe","monson","montague","monterey","montgomery","mountwashington","nahant","nantucket","natick","needham","newashford","newbedford","newbraintree","newbury","newburyport","newmarlborough","newsalem","newton","norfolk","northadams","northampton","northandover","northattleborough","northborough","northbridge","northbrookfield","northfield","northreading","norton","norwell","norwood","oakbluffs","oakham","orange","orleans","otis","oxford","palmer","paxton","peabody","pelham","pembroke","pepperell","peru","petersham","phillipston","pittsfield","plainfield","plainville","plymouth","plympton","princeton","provincetown","quincy","randolph","raynham","reading","rehoboth","revere","richmond","rochester","rockland","rockport","rowe","rowley","royalston","russell","rutland","salem","salisbury","sandisfield","sandwich","saugus","savoy","scituate","seekonk","sharon","sheffield","shelburne","sherborn","shirley","shrewsbury","shutesbury","somerset","somerville","southampton","southborough","southbridge","southhadley","southwick","spencer","springfield","sterling","stockbridge","stoneham","stoughton","stow","sturbridge","sudbury","sunderland","sutton","swampscott","swansea","taunton","templeton","tewksbury","tisbury","tolland","topsfield","townsend","truro","tyngsborough","tyringham","upton","uxbridge","wakefield","wales","walpole","waltham","ware","wareham","warren","warwick","washington","watertown","wayland","webster","wellesley","wellfleet","wendell","wenham","westborough","westboylston","westbridgewater","westbrookfield","westfield","westford","westhampton","westminster","westnewbury","weston","westport","westspringfield","weststockbridge","westtisbury","westwood","weymouth","whately","whitman","wilbraham","williamsburg","williamstown","wilmington","winchendon","winchester","windsor","winthrop","woburn","worcester","worthington","wrentham","yarmouth","bisectAge","bisector","category10","none","mousemove","i_alcohol","d0_alcohol","d1_alcohol","d_alcohol","focusalcohol","i_marijuana","d0_marijuana","d1_marijuana","d_marijuana","focusmarijuana","i_opioids","d0_opioids","d1_opioids","d_opioids","focusopioids","i_other","d0_other","d1_other","d_other","focusother","autocomplete","source","request","matches","acItem","term","ui","asignVal_substance","Yes","empty","makeChart_substance","No","data_substance","blockArray_substance","noOfBlocks_No","noOfBlocks_Yes","blockArray","addBlocks_substance","addBlock_substance","person_path","person_svg_No","b","person_svg_Yes","draw","colors","xMax","group","rangeRoundBands","colours","bar_groups","$bar","rects","stroke","stroke-width","rangeBand","prescription","heroin","fentanyl","both","methadone","buprenorphine","count","alias","dl_blocks_bar","substance","sub","time_period","o","stack","layout","n","substance_html","asignVal_gender","option","makeChart_gender","eval","table_html","data_gender","multi","index","noOfBlocks_gender","blockArray_gender","addBlocks_gender","addBlock_gender","noOfBlocks","person_svg","$option","$value","$bars_age","drawGraph","column","sort","redraw","chart_title","toTitle","rangeBands","bars","gender_age","age_bars_legend","exit","ease","remove","gender","dataLabels","axisLabels","numberFormat","percentageFormat","rateFormat","titleLookup","percentOpiodDeaths","deathRate","numberOpioidDeaths","age_bar_color","age_bar_label","selected","thisButton","wrap","word","reverse","lineNumber","dy","tspan","getComputedTextLength","x1","xAxis_bars","yAxis_bars","xAxis","yAxis","yAxisLabel","legendRect","legendText","bar","raceth","errorBarArea2014all","min2014","max2014","interpolate","errorBarArea2015all","min2015","max2015","errorBarArea2014white","errorBarArea2015white","errorBarArea2014black","errorBarArea2015black","errorBarArea2014hisp","errorBarArea2015hisp","errorBars2014all","errorBars2015all","errorBars2014white","errorBars2015white","errorBars2014black","errorBars2015black","errorBars2014hisp","errorBars2015hisp","linemult","linepad","2014","2015","area","divtooltip_raceeth","$bars_race","elements","l","elementData","__data__","legend","PLAY","PAUSE","TOGGLE_FULL_SCREEN","MUTE","RESTART","CAPTIONS","REWIND","FORWARD"],"mappings":"AAQA,QAAAA,UAAAC,GAEA,GAAAD,GAAAE,SAAAC,iBAAA,YAGAC,QAAAC,SAAA,WACA,IAAA,GAAAC,GAAA,EAAAA,EAAAN,EAAAO,OAAAD,IAAA,CAIA,GAAAE,GAAAC,EAAAT,EAAAM,IAAAI,SAGAC,GADAP,OAAAQ,OACAR,OAAAS,YAAAL,EAAAM,KAMAC,GAAA,GAAA,IAAA,IAAA,GAAA,GAAA,IAEAC,IAEAA,GAAAV,GAAA,QAAAS,EAAAT,GAAAK,EAAAV,GAAA,IAIAD,EAAAM,GAAAW,MAAAC,mBAAAF,EAAAV,KAWA,QAAAa,kBACAV,EAAA,WAAAC,SAAAI,IAAA,GACAL,EAAA,qBAAAW,SAAA,oBAEAX,EAAA,qBAAAY,YAAA,oBAsIA,QAAAC,UAAAC,GAIAA,GAAAC,WAEAA,WAEAA,SAAAP,MAAAQ,WAAA,WAEAD,SAAAD,EAEAA,EAAAN,MAAAQ,WAAA,UC86BA,QAAAC,cAAAC,EAAArB,GACAsB,GAAAC,OAAA,yBAAAC,KAAA,IAAA,GAAAb,MAAA,eAAA,KAAAA,MAAA,eAAA,KACAW,GAAAC,OAAA,yBAAAC,KAAA,IAAA,IAAAb,MAAA,eAAA,IAAAA,MAAA,eAAA,KAAAA,MAAA,SAAA,WACAW,GAAAC,OAAA,aAAAE,QAAA,UAAA,GAGA,QAAAC,cAAAL,EAAArB,GACAsB,GAAAC,OAAA,yBAAAC,KAAA,IAAA,GAAAb,MAAA,eAAA,KAAAA,MAAA,eAAA,KACAW,GAAAC,OAAA,yBAAAC,KAAA,IAAA,IAAAb,MAAA,eAAA,IAAAA,MAAA,eAAA,KAAAA,MAAA,SAAA,WACAW,GAAAC,OAAA,aAAAE,QAAA,UAAA,GChnCA,QAAAE,aAAAC,GAEA,YAGA,SAAAC,GAAAC,GACA,GAAAC,KAEA,OADAA,GAAAD,EAAAE,MAAA,SACAC,EAAAF,EAAA,IAGA,QAAAG,GAAAJ,GACA,GAAAC,KAEA,OADAA,GAAAD,EAAAE,MAAA,SACAC,EAAAF,EAAA,IAGA,QAAAE,GAAAH,GACA,GAAA,OAAAA,GAAAK,SAAAL,EACA,MAAA,EAEA,IAEAM,GAFAC,KACAC,IAKA,OAHAD,GAAAP,EAAAE,MAAA,KACAM,EAAAD,EAAA,GAAAL,MAAA,KACAI,EAAAG,KAAAC,MAAA,GAAAF,EAAA,GAAA,IAAAC,KAAAC,MAAA,GAAAF,EAAA,IAAAC,KAAAC,MAAAF,EAAA,IAMA,QAAAG,GAAAC,GAEA,IADAA,EAAAC,SAAA,EACAT,EAAAQ,EAAAE,SAAAF,EAAAC,UAAA,IAAAD,EAAAG,MAAAC,YAAAC,QAAA,IAEA,GADAL,EAAAC,WACAD,EAAAC,SAAAD,EAAAE,SAAA3C,OAAA,EAAA,CACAyC,EAAAC,SAAAD,EAAAE,SAAA3C,OAAA,CACA,QAMA,QAAA+C,GAAAN,GACAA,EAAAO,qBAAAC,UAAA,8CACAR,EAAAS,mBACAT,EAAAU,kBAAAF,UAAA,yBACAR,EAAAW,YAAAC,aAAA,UAAA,YAKA,QAAAC,KACA,GAKAC,GACAC,EACAC,EANAC,GADAC,UAAAC,WACAD,UAAAE,WACAC,EAAAH,UAAAI,QACAC,EAAA,GAAAC,WAAAN,UAAAC,YACAM,EAAAC,SAAAR,UAAAC,WAAA,GAuDA,OAjDAD,WAAAC,WAAAQ,QAAA,iBAAA,GAAAT,UAAAC,WAAAQ,QAAA,YAAA,GACAN,EAAA,KACAE,EAAA,QAGAR,EAAAE,EAAAU,QAAA,YAAA,GACAN,EAAA,KACAE,EAAAN,EAAAW,UAAAb,EAAA,KAGAA,EAAAE,EAAAU,QAAA,cAAA,GACAN,EAAA,SACAE,EAAAN,EAAAW,UAAAb,EAAA,KAGAA,EAAAE,EAAAU,QAAA,cAAA,GACAN,EAAA,SACAE,EAAAN,EAAAW,UAAAb,EAAA,IACAA,EAAAE,EAAAU,QAAA,eAAA,IACAJ,EAAAN,EAAAW,UAAAb,EAAA,MAIAA,EAAAE,EAAAU,QAAA,eAAA,GACAN,EAAA,UACAE,EAAAN,EAAAW,UAAAb,EAAA,KAGAD,EAAAG,EAAAY,YAAA,KAAA,IAAAd,EAAAE,EAAAY,YAAA,QACAR,EAAAJ,EAAAW,UAAAd,EAAAC,GACAQ,EAAAN,EAAAW,UAAAb,EAAA,GACAM,EAAAS,eAAAT,EAAAU,gBACAV,EAAAH,UAAAI,WAIAN,EAAAO,EAAAI,QAAA,SAAA,IACAJ,EAAAA,EAAAK,UAAA,EAAAZ,KAEAA,EAAAO,EAAAI,QAAA,SAAA,IACAJ,EAAAA,EAAAK,UAAA,EAAAZ,IAGAS,EAAAC,SAAA,GAAAH,EAAA,IACAS,MAAAP,KACAF,EAAA,GAAAC,WAAAN,UAAAC,YACAM,EAAAC,SAAAR,UAAAC,WAAA,MAGAE,EAAAI,GAKA,QAAAQ,GAAA1D,GACA,KAAAA,EAAA2D,mBACA3D,EAAA4D,sBAAA5D,EAAA6D,yBAAA7D,EAAA8D,qBAAA,CACA,GAAAC,GAAA/D,EAAAgE,mBAAAhE,EAAAiE,qBAAAjE,EAAAkE,sBAAAlE,EAAAmE,uBACAJ,GAAAK,KAAApE,IAKA,QAAAqE,KACA1F,SAAA2F,YAAA3F,SAAA4F,eAAA5F,SAAA6F,oBAAA7F,SAAAmF,qBACArC,EAAAgD,cAAAC,SAAA,EAGAjD,EAAAkD,UAAA1C,UAAAR,EAAAkD,UAAA1C,UAAA,gCACAR,EAAAmD,SAAA3C,UAAA,2CACAR,EAAAU,kBAAAF,UAAA,2CACAR,EAAAG,MAAAS,aAAA,QAAA,QACAZ,EAAAG,MAAAS,aAAA,SAAA,UAEAZ,EAAAgD,cAAAC,SAAA,EAGAjD,EAAAkD,UAAA1C,UAAAR,EAAAkD,UAAA1C,UAAA,qBACAR,EAAAmD,SAAA3C,UAAA,oBACAR,EAAAU,kBAAAF,UAAA,oBACAR,EAAAG,MAAAS,aAAA,QAAAZ,EAAAoD,YACApD,EAAAG,MAAAS,aAAA,SAAAZ,EAAAqD,cAKA,QAAAC,KAEA,GAAAA,GAAApG,SAAAqG,gBAAArG,SAAAsG,kBAAAtG,SAAAuG,qBAAAvG,SAAAwG,oBACAJ,GAAAX,KAAAzF,UAeA,QAAAyG,GAAAC,GACA,GAAAC,GAAA3G,SAAA4G,eAAA,yBACAD,KACAA,EAAAE,UAAA,MAAAH,EAAA,QAmLA,QAAAI,KAGAhE,EAAAiE,MAAAC,IAAAlE,EAAAkD,UAAAiB,qBAAA,UAAA,GAAAC,aAAA,OACApE,EAAAqE,eACArE,EAAAC,SAAA,GAEAD,EAAAG,MAAAC,YAAA,EACAJ,EAAAG,MAAAmE,QACAtE,EAAAuE,QAAA/D,UAAA,qCACAR,EAAAwE,SAAAhE,UAAA,uBA3MA,WACA,GAAAiE,GAAAvH,SAAAwH,cAAA,MACAD,GAAAE,GAAA,yBACAF,EAAA7D,aAAA,OAAA,SACA6D,EAAA7D,aAAA,cAAA,QACA6D,EAAAxG,MAAA2G,SAAA,SACAH,EAAAxG,MAAA4G,WAAA,YACA3H,SAAA4H,KAAAC,YAAAN,KAYA,IAAAzE,KAQA,IANAA,EAAAgF,cAAAnE,IACAb,EAAAqB,YAAArB,EAAAgF,cAAA,GACAhF,EAAAiF,oBAAAjF,EAAAgF,cAAA,GAIA,OAAAhF,EAAAqB,cAAA,IAAArB,EAAAiF,qBAAA,IAAAjF,EAAAiF,qBACA,OAAA,CAKA,IADAjF,EAAAkF,qBAAA,6CAAAC,KAAAjE,UAAAE,WACApB,EAAAkF,qBACA,OAAA,CAIA,oBAAAhG,GAAA,QACAA,EAAAkG,OAAA,GAEApF,EAAAoF,MAAAlG,EAAAkG,MAGAlG,EAAAkG,OACAC,QAAAC,IAAAtF,EAAAqB,YAAA,IAAArB,EAAAiF,qBAIA,mBAAA/F,GAAA,YAAA,KAAAA,EAAAqG,WACAvF,EAAAwF,cAAA,OAEAxF,EAAAwF,cAAA,eAAAtG,EAAAqG,WAIAvF,EAAAkD,UAAAhG,SAAA4G,eAAA5E,EAAAuG,SACAzF,EAAAG,MAAAH,EAAAkD,UAAAiB,qBAAA,SAAA,GACAnE,EAAAmD,SAAAnD,EAAAkD,UAAAwC,uBAAA,qBAAA,GAGA1F,EAAAG,MAAAwF,gBAAA,YAGA3F,EAAA4F,UAAA/F,KAAAC,MAAA,IAAAD,KAAAgG,UAGA3G,EAAAkG,OACAC,QAAAC,IAAA,mCAEAtF,EAAAmD,SAAAY,UACA,+JAEA+B,eAAA,QAAA,2BAAAA,eAAA,QAAA,0DACAA,eAAA,OAAA,sIACA9F,EAAAwF,cAAA,YAAAM,eAAA,KAAA,2BAAAA,eAAA,KAAA,8DACAA,eAAA,MAAA,2BAAAA,eAAA,MAAA,2DACAA,eAAA,QAAA,gLAGAA,eAAA,KAAA,qDACA9F,EAAA4F,UAAA,2CACA5F,EAAA4F,UAAA,iBAAA5F,EAAA4F,UAAA,2BAAAE,eAAA,KAAA,0CAEA9F,EAAA4F,UAAA,qDAAA5F,EAAA4F,UAAA,gIACAE,eAAA,SAAA,gEACA9F,EAAA4F,UAAA,8CACA5F,EAAA4F,UAAA,2BAAAE,eAAA,SAAA,0FAEAA,eAAA,mBAAA,oEACA9F,EAAA4F,UAAA,gDACA5F,EAAA4F,UAAA,2BAAAE,eAAA,mBAAA,wJAmCA,KAAA,GAHAC,GADAC,EAAA,GAEAC,EAAAjG,EAAAG,MAAA+F,WAEA5I,EAAA,EAAAA,EAAA2I,EAAA1I,OAAAD,IACA,UAAA2I,EAAA3I,GAAA6I,SAAArE,gBACAiE,EAAAE,EAAA3I,GAAA8G,aAAA,QACA,aAAA2B,IACAC,EAAAC,EAAA3I,GAAA8G,aAAA,QA+RA,IAzRApE,EAAAoG,eAAA,EACA,KAAAJ,GACAhG,EAAAoG,eAAA,EACAlH,EAAAkG,OACAC,QAAAC,IAAA,4BAGApG,EAAAkG,OACAC,QAAAC,IAAA,6BAAAU,GAKA,mBAAA9G,GAAA,oBACAA,EAAAmH,mBAAA,GAEArG,EAAAS,iBAAAvB,EAAAmH,kBAGA,mBAAAnH,GAAA,eACAA,EAAAoH,aAAA,IAEAtG,EAAAsG,aAAApH,EAAAoH,aAGAtG,EAAAiE,MAAAjE,EAAAkD,UAAAiB,qBAAA,SAAA,GACAnE,EAAAuE,QAAAvE,EAAAkD,UAAAwC,uBAAA,iBAAA,GACA1F,EAAAwE,SAAAxE,EAAAkD,UAAAwC,uBAAA,kBAAA,GACA1F,EAAAuG,WAAAvG,EAAAkD,UAAAwC,uBAAA,oBAAA,GACA1F,EAAAwG,UAAAxG,EAAAkD,UAAAwC,uBAAA,mBAAA,GACA1F,EAAAyG,WAAAzG,EAAAkD,UAAAwC,uBAAA,oBAAA,GACA1F,EAAA0G,UAAA1G,EAAAkD,UAAAwC,uBAAA,mBAAA,GACA1F,EAAA2G,QAAA3G,EAAAkD,UAAAwC,uBAAA,iBAAA,GACA1F,EAAA4G,YAAA5G,EAAAkD,UAAAwC,uBAAA,qBAAA,GACA1F,EAAA6G,gBAAA7G,EAAA4G,YAAAzC,qBAAA,QAAA,GACAnE,EAAAU,kBAAAV,EAAAkD,UAAAwC,uBAAA,qBAAA,GACA1F,EAAAW,YAAAX,EAAAkD,UAAAwC,uBAAA,wBAAA,GACA1F,EAAAO,qBAAAP,EAAAkD,UAAAwC,uBAAA,mCAAA,GACA1F,EAAA8G,SAAA9G,EAAAkD,UAAAwC,uBAAA,qBAAA,GACA1F,EAAA+G,WAAA/G,EAAAkD,UAAAwC,uBAAA,cACA1F,EAAAgD,cAAAhD,EAAAkD,UAAAwC,uBAAA,0BAAA,GACA1F,EAAAgH,uBAAAhH,EAAAkD,UAAAwC,uBAAA,qCAAA,GAGA1F,EAAA+G,WAAA,GAAAhD,UAAA/D,EAAAsG,aACAtG,EAAA+G,WAAA,GAAAhD,UAAA/D,EAAAsG,aAGAtG,EAAAqE,cAAA,EACArE,EAAAG,MAAA8G,aACAjH,EAAAqE,cAAA,GAKArE,EAAAG,MAAA+G,iBAAA,QAAAlD,GAAA,GAkBAhE,EAAAuE,QAAA2C,iBAAA,QAAA,WACAlH,EAAAG,MAAAgH,OACAnH,EAAAuE,QAAA/D,UAAA,qBACAR,EAAAwE,SAAAhE,UAAA,sCACAR,EAAAwE,SAAA4C,UACA,GAGA3J,EAAA,kBAAA4J,MAAA,SAAAC,GACA,GAAAC,GAAA9J,EAAA6J,EAAAE,QAAAC,KAAA,SACApC,SAAAC,IAAAiC,EACA,IAAAG,GAAAxK,SAAA4G,eAAAyD,GACAI,EAAAD,EAAAvD,qBAAA,SAAA,GACAyD,EAAAF,EAAAhC,uBAAA,iBAAA,GACAmC,EAAAH,EAAAhC,uBAAA,kBAAA,EACAiC,GAAAR,OACAS,EAAApH,UAAA,qBACAqH,EAAArH,UAAA,wCAMAR,EAAAwE,SAAA0C,iBAAA,QAAA,WACAlH,EAAAG,MAAAmE,QACAtE,EAAAuE,QAAA/D,UAAA,qCACAR,EAAAwE,SAAAhE,UAAA,sBACAR,EAAAuE,QAAA6C,UACA,GAGApH,EAAAuG,WAAAW,iBAAA,QAAA,WAEAlH,EAAAG,MAAAC,YAAA,EAGAJ,EAAAqE,eACArE,EAAAC,SAAA,GAIAD,EAAAG,MAAAgH,OACAnH,EAAAuE,QAAA/D,UAAA,qBACAR,EAAAwE,SAAAhE,UAAA,wCAGA,GAGAR,EAAAwG,UAAAU,iBAAA,QAAA,WACA,GAAAY,GAAA9H,EAAAG,MAAAC,YAAAJ,EAAAsG,YACAwB,GAAA,EACA9H,EAAAG,MAAAC,YAAA,EAEAJ,EAAAG,MAAAC,YAAA0H,EAGA9H,EAAAqE,cACAtE,EAAAC,EAIA,IAAA+H,GAAAlI,KAAAmI,MAAAF,GAAA,EAAAjI,KAAAmI,MAAAF,GAAA,EACAG,EAAA,aAAAF,EAAA,UACApE,GAAAsE,KACA,GAGAjI,EAAAyG,WAAAS,iBAAA,QAAA,WACA,GAAAY,GAAA9H,EAAAG,MAAAC,YAAAJ,EAAAsG,YACAwB,GAAA9H,EAAAG,MAAA2G,SACA9G,EAAAG,MAAAC,YAAAJ,EAAAG,MAAA2G,SAEA9G,EAAAG,MAAAC,YAAA0H,EAGA9H,EAAAqE,cACAtE,EAAAC,EAGA,IAAAiI,GAAA,cAAApI,KAAAmI,MAAAF,GAAA,UACAnE,GAAAsE,KACA,GAGAjI,EAAA0G,UAAAQ,iBAAA,SAAA,WACAlH,EAAAG,MAAA+H,OAAA1G,WAAA2G,KAAAC,MAAA,MACA,GAGApI,EAAA2G,QAAAO,iBAAA,QAAA,WACAlH,EAAAG,MAAAkI,SAAA,EACArI,EAAAG,MAAAkI,OAAA,EAEArI,EAAAG,MAAAkI,OAAA,IAEA,GAEArI,EAAA2G,QAAA2B,WAAA,SAAAhB,GACA,IAAAA,EAAAiB,UACAjB,EAAAkB,iBACA,GAAAL,KAAAlF,QACAkF,KAAAlF,SAAA,EAEAkF,KAAAlF,SAAA,EAEAjD,EAAAG,MAAAkI,SAAA,EACArI,EAAAG,MAAAkI,OAAA,EAEArI,EAAAG,MAAAkI,OAAA,IAMArI,EAAAG,MAAA+G,iBAAA,aAAA,WACAlH,EAAAyI,KAAA/G,SAAA1B,EAAAG,MAAAC,YAAA,IACAJ,EAAA0I,KAAAhH,SAAA1B,EAAAG,MAAAC,YAAA,GAAA,IAGAJ,EAAAyI,MAAA,IAAAzI,EAAAyI,MAAAE,OAAA,GACA3I,EAAA0I,MAAA,IAAA1I,EAAA0I,MAAAC,OAAA,GAGA3I,EAAA8G,SAAA/C,UAAA/D,EAAA0I,KAAA,IAAA1I,EAAAyI,OACA,GAGAzI,EAAAG,MAAA+G,iBAAA,aAAA,WACAlH,EAAA4I,QAAA,IAAA5I,EAAAG,MAAA2G,SAAA9G,EAAAG,MAAAC,YACAJ,EAAA4I,QAAA,IACA5I,EAAA4G,YAAAwB,MAAApI,EAAA4I,QACA5I,EAAA6G,gBAAA9C,UAAA/D,EAAA4I,WAEA,GAGA5I,EAAA4G,YAAAM,iBAAA,QAAA,SAAAI,GAEAtH,EAAA6I,IAAAvB,EAAA,QAAAa,KAAAW,YACA9I,EAAAG,MAAAC,YAAAJ,EAAA6I,IAAA7I,EAAAG,MAAA2G,SAGA9G,EAAAqE,cACAtE,EAAAC,KAKAA,EAAAgD,cAAAkE,iBAAA,QAAA,WACAiB,KAAAlF,QACAhB,EAAAjC,EAAAkD,WAEAI,MAEA,GACAtD,EAAAgD,cAAAsF,WAAA,SAAAhB,GACA,IAAAA,EAAAiB,UACAjB,EAAAkB,iBACA,GAAAL,KAAAlF,SACAkF,KAAAlF,SAAA,EACAK,MAEA6E,KAAAlF,SAAA,EACAhB,EAAAjC,EAAAkD,cAMAlD,EAAAG,MAAA+G,iBAAA,QAAA,WACAlH,EAAAU,kBAAAqD,UAAA,KAQA/D,EAAAW,YAAAuG,iBAAA,QAAA,WAOA,GANAiB,KAAAlF,QACAjD,EAAAU,kBAAAF,UAAA,gCAEAR,EAAAU,kBAAAF,UAAA,yBAGAtD,SAAA2F,YAAA3F,SAAA4F,eAAA5F,SAAA6F,oBAAA7F,SAAAmF,oBAAA,CACA,GAAA0G,GAAA/I,EAAAU,kBAAAF,SACAR,GAAAU,kBAAAF,UAAAuI,EAAA,6BAEA,GACA/I,EAAAW,YAAA2H,WAAA,SAAAhB,GACA,IAAAA,EAAAiB,UACAjB,EAAAkB,iBACA,GAAAL,KAAAlF,QACAkF,KAAAlF,SAAA,EAEAkF,KAAAlF,SAAA,EAEAkF,KAAAlF,QACAjD,EAAAU,kBAAAF,UAAA,gCAEAR,EAAAU,kBAAAF,UAAA,2BAMAR,EAAAoG,cAKA,CAGA,GAAA,OAAApG,EAAAqB,aAAA,KAAArB,EAAAiF,qBACA,OAAAjF,EAAAqB,aAAA,KAAArB,EAAAiF,qBACA,YAAAjF,EAAAqB,aAAArB,EAAAiF,qBAAA,IACA,WAAAjF,EAAAqB,aAAA,KAAArB,EAAAiF,qBACA,WAAAjF,EAAAqB,aAAArB,EAAAiF,qBAAA,EAAA,CACA/F,EAAAkG,OACAC,QAAAC,IAAA,yEAGAtF,EAAAqE,cAAA,CAKA,KAAA,GAFA2E,MACAC,EAAAjJ,EAAAG,MAAA8G,WACAiC,EAAA,EAAAA,EAAAD,EAAA1L,OAAA2L,IACAF,EAAAhJ,EAAAG,MAAA8G,WAAAiC,GACAF,EAAAG,KAAA,SAKA,GAAAnJ,EAAAqE,aAAA,CACAnF,EAAAkG,OACAC,QAAAC,IAAA,wBAEAhF,EAAAN,EAIA,KAAA,GAFAgJ,MACAC,EAAAjJ,EAAAG,MAAA8G,WACAiC,EAAA,EAAAA,EAAAD,EAAA1L,OAAA2L,IACAF,EAAAhJ,EAAAG,MAAA8G,WAAAiC,GACAF,EAAAG,KAAA,SACA,aAAAH,EAAAjD,MACAiD,EAAA9B,iBAAA,YAAA,WACAiB,KAAAiB,WAAA,KACAjB,KAAAiB,WAAA,GAAAC,eAAA,SAAA,KAAAlB,KAAAiB,WAAA,GAAAE,QACAtJ,EAAAU,kBAAAqD,UAAAoE,KAAAiB,WAAA,GAAAE,QAGA,OA+BA,IAzBApK,EAAAkG,OACAC,QAAAC,IAAA,6DAEAhF,EAAAN,GAGAA,EAAAuJ,eAAA,GACAvJ,EAAAC,SAAA,EACAD,EAAAE,YAEAF,EAAAG,MAAA+G,iBAAA,aAAA,WAEAlH,EAAAG,MAAAC,YAAAC,QAAA,GAAAlB,EAAAa,EAAAE,SAAAF,EAAAC,UAAA,KACAD,EAAAG,MAAAC,YAAAC,QAAA,GAAAb,EAAAQ,EAAAE,SAAAF,EAAAC,UAAA,MACAD,EAAAuJ,eAAAvJ,EAAAE,SAAAF,EAAAC,UAAA,IAGAD,EAAAG,MAAAC,YAAAC,QAAA,GAAAb,EAAAQ,EAAAE,SAAAF,EAAAC,UAAA,KACAD,EAAAC,SAAAD,EAAAE,SAAA3C,OAAA,GACAyC,EAAAC,WAGAD,EAAAU,kBAAAqD,UAAA/D,EAAAuJ,iBACA,GAEA,IAAAvD,EAAA,CAEA,GAAAwD,EACApM,QAAAqM,eACAD,EAAA,GAAAC,gBACArM,OAAAsM,gBACAF,EAAA,GAAAE,eAAA,sBAEAF,EAAAG,mBAAA,WACA,GAAA,IAAAH,EAAAI,WACA,GAAA,MAAAJ,EAAAK,OAAA,CACA3K,EAAAkG,OACAC,QAAAC,IAAA,aAGAtF,EAAAE,WACA,IACA4J,GADAC,KAEAC,EAAAR,EAAAS,YACAF,GAAAC,EAAA1K,MAAA,OACA,KAAA,GAAA4K,GAAA,EAAAA,EAAAH,EAAAxM,OAAA2M,IACAJ,EAAAC,EAAAG,GACAlK,EAAAE,SAAAgK,MACAlK,EAAAE,SAAAgK,GAAAJ,EAAAxK,MAAA,KAGAU,GAAAE,SAAAiK,QAEAjL,EAAAkG,OACAC,QAAAC,IAAA,sDAGApG,GAAAkG,OACAC,QAAAC,IAAA,2DAKAkE,EAAAY,KAAA,MAAApE,GAAA,GACAwD,EAAAa,OAKA,GAAA,WAAArK,EAAAqB,aAAA,IAAArB,EAAAiF,oBAAA,CACAI,QAAAC,IAAA,6CACA,IAAA2D,GAAAjJ,EAAAG,MAAAgE,qBAAA,QACAnE,GAAAG,MAAAmK,YAAArB,EAAA,SA5HAjJ,GAAAU,kBAAAF,UAAA,wBAgIAtD,UAAAgK,iBAAA,mBAAA,WACAtE,MACA,GAEA1F,SAAAgK,iBAAA,sBAAA,WACAtE,MACA,GAEA1F,SAAAgK,iBAAA,yBAAA,WACAtE,MACA,GAEA1F,SAAAgK,iBAAA,qBAAA,WACAtE,MACA,ICxtBA,WAGA,QAAA2H,GAAAC,GAaA,QAAAC,KACA,KAAAC,EAAAC,EAAAC,EAAArN,QAAAsN,EAAAL,GAAA,CACA,GAAAlN,GAAAqN,IACAG,EAAAF,EAAAtN,GACAyN,EAAApC,EAAAhG,KAAAmI,EAAA,EACAC,GAAAC,KAAAC,EAAA3N,MACAuN,EACAC,EAAA,GAAAI,MAAA,KAAAH,IAIA,QAAAE,GAAA3N,GACA,MAAA,UAAAgK,EAAA4C,KACAW,EACA,MAAAM,IACA,MAAA7D,GACA6D,EAAA7D,EACAqD,EAAAS,EAAAC,IACAC,MAEAV,EAAAtN,GAAA4M,IACAkB,EAAAV,GAAAD,IACAa,OAKA,QAAAA,KACA,MAAAH,EAAAI,EAAAJ,GACAK,EAAAD,EAAAJ,EAAAP,GACAW,EAAAL,MAAA,MAAAC,GAAAM,OAAAb,IA1CA,GAAAc,GAKAhB,EAGAc,EAPAZ,KACAD,EAAA,EACAE,EAAA,EACAO,EAAA,EAEAD,EAAA,KACAI,EAAAI,CAsCA,OAnCAnB,KAAAA,EAAAoB,EAAAA,GAmCAF,GACAG,MAAA,WAMA,MALAV,KACAP,EAAAI,KAAAc,aACAV,EACAX,KAEAiB,GAEAH,MAAA,SAAAQ,GAIA,MAHAR,GAAAQ,EACAP,GAAA,EACAJ,GAAAE,IACAI,GAEAM,SAAA,SAAAD,GAIA,MAHAR,GAAAQ,EACAP,GAAA,EACAJ,GAAAE,IACAI,IAKA,QAAAC,MAxEA,GAAAhD,MAAAA,KA0EA4B,GAAA0B,QAAA,QACA,kBAAAC,SAAAA,OAAAC,IAAAD,OAAA,WAAA,MAAA3B,KACA,gBAAA6B,SAAAA,OAAAC,QAAAD,OAAAC,QAAA9B,EACApC,KAAAoC,MAAAA,KH5EArN,SAAAwH,cAAA,WACAxH,SAAAwH,cAAA,UAEA,IAAAzH,QAAA,EACAD,UAAAC,OAgDAQ,EAAAL,QAAAkP,OAAAnO,gBACAV,EAAAP,UAAAqP,MAAApO,gBAGAV,EAAA,WACAA,EAAA,iBAAA+O,KAAA,QAAA,SAAAC,GACAA,EAAAjE,gBACA,IAAAkE,GAAAjP,EAAA0K,MAAArJ,KAAA,OACArB,GAAA,cAAAkP,OAAAC,SACAC,UAAApP,EAAAiP,GAAAhP,SAAAI,KACA,IAAA,WACAV,OAAA0P,SAAAC,KAAAL,IAEAD,EAAAjE,qBAKA/K,EAAA,wBAAAuP,GAAA,eAAA,SAAA1F,GACA,GAAA2F,GAAAxP,EAAA6J,EAAAE,QAAA1I,KAAA,QACAoO,EAAAhQ,SAAAiQ,cAAAF,GAAAG,YACA3P,GAAAwP,GAAAI,SAAAT,SAAAhP,OAAAsP,MAMAzP,EAAA,4BAAA4J,MAAA,WACA,0BAAA5J,EAAA0K,MAAArJ,KAAA,UAAA,mBAAArB,EAAA0K,MAAArJ,KAAA,UACArB,EAAA,0BAAA4J,UAMA5J,EAAAL,QAAAkP,OAAA,WACA7O,EAAAL,QAAAyP,aAAA,IACApP,EAAA,eAAAW,SAAA,oBAEAX,EAAA,eAAAY,YAAA,oBAIAZ,EAAA,WAAA6P,KAAA,WACA,GAAA7P,EAAAL,QAAAyP,aAAApP,EAAA0K,MAAAzK,SAAA,IAAA,GAAA,CACA,GAAA6P,GAAA9P,EAAA0K,MAAArJ,KAAA,KACArB,GAAA,kBAAAY,YAAA,UACAZ,EAAA,qBAAA8P,EAAA,MAAAnP,SAAA,SAEA,IAAAoP,GAAA/P,EAAA0K,MAAArJ,KAAA,aAEArB,GAAA,oBAAAgQ,KAAAD,QAMA/P,EAAA,kBAAAuP,GAAA,QAAA,WACAvP,EAAA0K,MAAAkF,SAAAK,KAAA,MAAArP,YAAA,UACAZ,EAAA0K,MAAA/J,SAAA,YAOAX,EAAA,kBAAA4J,MAAA,SAAAC,GACAA,EAAAkB,iBACA/K,EAAA0K,MAAA8E,IAAA,UAKAxP,EAAA,WACAA,EAAA,kBAAAkQ,KAAA,iBAAA,SAAAC,GAMA,QAAAC,GAAAC,GACArQ,EAAA,YAAAY,YAAA,UACAZ,EAAA,mBAAAqQ,EAAA,MAAA1P,SAAA,UACA,QAAA0P,GACArQ,EAAA,oBAAAqB,KAAA,UAAA,GACArB,EAAA,iBAAAqB,KAAA,UAAA,GACArB,EAAA,0BAAAgQ,KAAA,uJAEAhQ,EAAA,oBAAAqB,KAAA,UAAA,GACArB,EAAA,0BAAAgQ,KAAA,yIAdA,GAEAM,IAFAtQ,EAAA0K,MAAAuF,KAAA,OAEA,MACAG,GAAAE,GAeAtQ,EAAA,YAAAuP,GAAA,QAAA,WACAa,EAAApQ,EAAA0K,MAAA2F,SAGArQ,EAAA,iBAAAuP,GAAA,QAAA,WACAa,EAAApQ,EAAA0K,MAAAV,KAAA,iBAOAhK,EAAA,KAAA6P,KAAA,WACA,GAAAvJ,GAAAtG,EAAA0K,MAAAsF,OACAO,EAAAjK,EAAAkK,OAAA3O,MAAA,IACA,IAAA0O,EAAAzQ,OAAA,EAAA,CACA,GAAA2Q,GAAAF,EAAAA,EAAAzQ,OAAA,GACA4Q,EAAAH,EAAArF,MAAA,GAAA,GAAAyF,KAAA,IACA3Q,GAAA0K,MAAAsF,KAAAU,EAAA,SAAAD,MAIAzQ,EAAA,MAAA6P,KAAA,WACA,GAAAvJ,GAAAtG,EAAA0K,MAAAsF,OACAO,EAAAjK,EAAAkK,OAAA3O,MAAA,IACA,IAAA0O,EAAAzQ,OAAA,EAAA,CACA,GAAA2Q,GAAAF,EAAAA,EAAAzQ,OAAA,GACA4Q,EAAAH,EAAArF,MAAA,GAAA,GAAAyF,KAAA,IACA3Q,GAAA0K,MAAAsF,KAAAU,EAAA,SAAAD,KAOA,IAAA1P,UAAA,KItLA6P,IAAA,SAAAzP,GACA,YAgCA,SAAA0P,GAAAnD,EAAAoD,EAAA9G,GAIAA,EAAAA,KAAA+G,QAAA,SAAA/G,EAAAnK,GACA,GAAAmR,GAAAC,EAAAC,OAAA,OAAA7P,KAAA,QAAA,eAAA6P,OAAA,MAEAC,GAAAH,EAAAF,EAAA9G,KAMA,QAAAmH,GAAAH,EAAAI,EAAApH,GAkFA,QAAA6D,GAAAwD,EAAAC,GACAnQ,EAAAoQ,UAAAF,GAAA,GAAAN,QAAA,SAAAS,EAAA3R,GACA,GAAA4R,GAAAtQ,EAAAC,OAAAoQ,EACAC,GAAAlC,GAAA+B,GAAAG,KAnFAT,EAAAE,OAAA,QACArF,KAAA,SAAA3K,GACA,MAAA,OAAA8I,EAAA0H,IACA,eACA,MAAA1H,EAAA0H,IACA,eACA,MAAA1H,EAAA0H,IACA,eADA,SAIArQ,KAAA,QAAA,aACAb,MAAA,iBAAA,MAKAwQ,EAAAE,OAAA,QACArF,KAAA,IACAxK,KAAA,QAAA,kBAEA,IAAAsQ,GAAAX,EACA1P,QAAA,iBAAA,GACA4P,OAAA,OACA7P,KAAA,sBAAA,iBACAA,KAAA,UAAA,OAAAuQ,EAAA,IAAAzR,GAEAmB,QAAA,0BAAA,EAEAqQ,GAAAJ,UAAA,QACAvH,KAAAoH,EAAAS,UACAC,QACAZ,OAAA,QACA7P,KAAA,IAAA0Q,GACAvR,MAAA,SAAA,SACAA,MAAA,eAAA,SACAA,MAAA,OAAA,SAAAU,EAAArB,GACA,GAAA8K,GAAAX,EAAAgI,OAAA9Q,EAAA+Q,WAAAC,KACA,OAAAC,GAAAxH,KAEA4E,GAAA,YAAA,SAAArO,EAAArB,MAGA0P,GAAA,WAAA,SAAArO,EAAArB,MAGAwB,KAAA,QAAA,SAAAH,GACA,MAAAA,GAAA+Q,WAAAC,KAAA7N,cAAA,aAEAkL,GAAA,aAAA,SAAArO,EAAArB,GACAgO,EAAA,IAAA3M,EAAA+Q,WAAAC,KAAA7N,cAAA,YAKAkL,GAAA,aAAA,SAAArO,GACA2M,EAAA,IAAA3M,EAAA+Q,WAAAC,KAAA7N,cAAA,cAGAkL,GAAA,SAAA,SAAA6C,GACA,GACAC,GADAC,EAAAF,EAAApI,MAIAqI,GADArI,EAAAgI,OAAAM,EAAA,GAAAL,WAAAC,MAAA,EACA/Q,EAAAoR,OAAA,OAAAvI,EAAAgI,OAAAM,EAAA,GAAAL,WAAAC,OACA,IAIAE,EAAAI,OAAAC,WAAAA,WAAAxK,uBAAA,mBAAA,GAAA3B,UAAAgM,EAAA,GAAAL,WAAAS,OAAA,OAAAL,EAAA,eACAlR,EAAAC,OAAAgR,EAAAI,QAAAhS,MAAA,eAAA,IAAAA,MAAA,SAAA,SAAAA,MAAA,eAAA,WAEA+O,GAAA,WAAA,SAAA6C,GAGAA,EAAAI,OAAAC,WAAAA,WAAAxK,uBAAA,mBAAA,GAAA3B,UAAA,GACAnF,EAAAoQ,UAAA,gBAAA/Q,OACAmS,eAAA,IACAnS,MAAA,SAAA,SAAAA,MAAA,eAAA,WAsBA,QAAAoS,GAAAC,EAAAC,EAAAC,GAoBA,IAAA,GAlBAC,GAAA,GACAC,EAAA,MAIAC,EAAA/R,EAAAC,OAAA,IAAA0R,GAAA5B,OAAA,OACA7P,KAAA,QAAA4R,GACA5R,KAAA,SAAA2R,GAEAG,EAAAD,EAAAhC,OAAA,KAGAkC,KAMAvT,EAAA,EAAAA,EAAAgT,EAAAQ,SAAAvT,OAAAD,IACAuT,EAAA7F,MACArM,EAAA2R,EAAAQ,SAAAxT,GACA4M,EAAAoG,EAAAS,QAAAzT,GACA0T,EAAAV,EAAAW,gBAAA3T,IAGA,IAAA4T,GAAA,IAAAL,EAAAtT,MAEAqT,GAAA5B,UAAA,QACAvH,KAAAoJ,GACAtB,QAAAZ,OAAA,QACA7P,KAAA,SAAA2R,EAAA,GACA3R,KAAA,QAAA,SAAAH,EAAArB,GACA,MAAA4T,GAAA,MAEApS,KAAA,IAAA,SAAAH,EAAArB,GACA,MAAAA,GAAA4T,EAAA,MAEApS,KAAA,IAAA,IACAb,MAAA,SAAA,SACAA,MAAA,eAAA,UACAA,MAAA,OAAA,SAAAU,EAAArB,GACA,MAAAqB,GAAAuL,IAGA0G,EAAA5B,UAAA,QACAvH,KAAAoJ,GACAtB,QAAAZ,OAAA,QACA7P,KAAA,cAAA,UACAA,KAAA,IAAA,SAAAH,EAAArB,GACA,MAAAA,GAAA4T,EAAAA,EAAA,EAAA,MAEApS,KAAA,IAAA,IACAwK,KAAA,SAAA3K,EAAArB,GACA,MAAAqB,GAAAqS,IAGAJ,EAAAjC,OAAA,QACA7P,KAAA,QAAA,eACAA,KAAA,IAAA,IACAwK,KAAAkH,GA7MA,GAAA9B,GAAA9P,EAAAC,OAAA,mBAGA0L,SACAsB,MAAAjN,EAAAuS,KAAA,yBACAtF,MAAAjN,EAAAuS,KAAA,6BACA5F,MAAA+C,EAEA,IAAAe,GAAA,IACAzR,EAAA,IAEAwT,EAAAxS,EAAAiQ,IAAAwC,iBACAC,WAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KACAC,QAAA,MAAA,KACAjB,OAAA,OACAkB,WAAA,IAAA,MAMAC,GAJA7S,EAAAC,OAAA,UAAA8P,OAAA,OACA7P,KAAA,QAAAuQ,GACAvQ,KAAA,SAAAlB,IAEA,UAAA,UAAA,UAAA,UAAA,YAEA4R,EAAA5Q,EAAAiQ,IAAAW,OAAA4B,WAAAA,GACAxB,EAAAhR,EAAA0R,MAAAoB,YAAAZ,QAAA,GAAA,IAAA,IAAA,KAAAlF,EAAAA,IAEAmF,MAAAU,GA4GAE,EAAA/S,EAAA0R,MAAAoB,YAAAZ,QAAA,GAAA,IAAA,IAAA,KAAAlF,EAAAA,IAEAmF,MAAAU,EACAE,GAAAV,cAAA,WACA,OAAA,IAAA,SAAA,WAAA,YAAA,UAIAZ,EAAAsB,EAAA,oBAAA,2BAoEAlU,EAAA,yBAAA4J,MAAA,WACA,GAAAuK,GAAAnU,EAAA0K,MAAAV,KAAA,OACAhK,GAAA,eAAAqB,KAAA,mBAAA8S,GACAnU,EAAA,yBAAAY,YAAA,UACAZ,EAAA0K,MAAA/J,SAAA,aAGAQ,GACAyG,SAAAC,IAAA,uBC7NA,IAAA+I,KAAA,SAAAzP,GACA,YA6BA,SAAA0P,GAAAnD,EAAAoD,EAAA9G,GAIAA,EAAAA,KAAA+G,QAAA,SAAA/G,EAAAnK,GACA,GAAAmR,GAAAC,EAAAC,OAAA,OAAA7P,KAAA,QAAA,eAAA6P,OAAA,MAEAC,GAAAH,EAAAF,EAAA9G,KAOA,QAAAmH,GAAAH,EAAAI,EAAApH,GA0EA,QAAA6D,GAAAwD,EAAAC,GACAnQ,EAAAoQ,UAAAF,GAAA,GAAAN,QAAA,SAAAS,EAAA3R,GACA,GAAA4R,GAAAtQ,EAAAC,OAAAoQ,EACAC,GAAAlC,GAAA+B,GAAAG,KA3EAT,EAAAE,OAAA,QACArF,KAAA7B,EAAA0H,KACArQ,KAAA,QAAA,aACA2P,EAAAE,OAAA,QACArF,KAAA,IACAxK,KAAA,QAAA,kBAEA,IAAAsQ,GAAAX,EACA1P,QAAA,iBAAA,GACA4P,OAAA,OACA7P,KAAA,sBAAA,iBACAA,KAAA,UAAA,OAAAuQ,EAAA,IAAAzR,GAEAmB,QAAA,0BAAA,EAEAqQ,GAAAJ,UAAA,QACAvH,KAAAoH,EAAAS,UACAC,QACAZ,OAAA,QACA7P,KAAA,IAAA0Q,GACAvR,MAAA,SAAA,SACAA,MAAA,eAAA,SACAA,MAAA,OAAA,SAAAU,EAAArB,GACA,GAAA8K,GAAAX,EAAAgI,OAAA9Q,EAAA+Q,WAAAC,KACA,OAAAC,GAAAxH,KAEA4E,GAAA,YAAA,SAAArO,EAAArB,MAGA0P,GAAA,WAAA,SAAArO,EAAArB,MAGAwB,KAAA,QAAA,SAAAH,GACA,MAAAA,GAAA+Q,WAAAC,KAAA7N,cAAA,aAEAkL,GAAA,aAAA,SAAArO,EAAArB,GACAgO,EAAA,IAAA3M,EAAA+Q,WAAAC,KAAA7N,cAAA,YAKAkL,GAAA,aAAA,SAAArO,GACA2M,EAAA,IAAA3M,EAAA+Q,WAAAC,KAAA7N,cAAA,cAGAkL,GAAA,SAAA,SAAA6C,GACA,GACAC,GADAC,EAAAF,EAAApI,MAKAqI,GAFArI,EAAAgI,OAAAM,EAAA,GAAAL,WAAAC,OAAA,EAEA/Q,EAAAoR,OAAA,SAAAvI,EAAAgI,OAAAM,EAAA,GAAAL,WAAAC,OAGA,MAKAE,EAAAI,OAAAC,WAAAA,WAAAxK,uBAAA,mBAAA,GAAA3B,UAAAgM,EAAA,GAAAL,WAAAS,OAAA,MAAAL,EACAlR,EAAAC,OAAAgR,EAAAI,QAAAhS,MAAA,eAAA,IAAAA,MAAA,SAAA,SAAAA,MAAA,eAAA,WAGA+O,GAAA,WAAA,SAAA6C,GAGAA,EAAAI,OAAAC,WAAAA,WAAAxK,uBAAA,mBAAA,GAAA3B,UAAA,GACAnF,EAAAoQ,UAAA,gBAAA/Q,OACAmS,eAAA,IACAnS,MAAA,SAAA,SAAAA,MAAA,eAAA,WAqBA,QAAAoS,GAAAC,EAAAC,EAAAC,GACA,GACA5S,GAAA,GAEA+S,EAAA/R,EAAAC,OAAA,IAAA0R,GAAA5B,OAAA,OACA7P,KAAA,QAAA,QACAA,KAAA,SAAAlB,GAEAgT,EAAAD,EAAAhC,OAAA,KAGAkC,IACAA,GAAA7F,MACArM,GAAA,KACAuL,EAAA,UACA8G,EAAA,QAEA,IAAA1T,EACA,KAAAA,EAAA,EAAAA,EAAAgT,EAAAQ,SAAAvT,OAAAD,IACAuT,EAAA7F,MACArM,EAAA2R,EAAAQ,SAAAxT,GACA4M,EAAAoG,EAAAS,QAAAzT,GACA0T,EAAAV,EAAAW,gBAAA3T,IAIAsT,GAAA5B,UAAA,QACAvH,KAAAoJ,GACAtB,QAAAZ,OAAA,QACA7P,KAAA,SAAA,IACAA,KAAA,QAAA,IACAA,KAAA,IAAA,SAAAH,EAAArB,GACA,MAAAA,IAAA,IAAAuT,EAAAtT,QAAA,MAEAuB,KAAA,IAAA,IACAb,MAAA,SAAA,SACAA,MAAA,eAAA,UACAA,MAAA,OAAA,SAAAU,EAAArB,GACA,MAAAqB,GAAAuL,IAGA0G,EAAA5B,UAAA,QACAvH,KAAAoJ,GACAtB,QAAAZ,OAAA,QACA7P,KAAA,cAAA,UACAA,KAAA,IAAA,SAAAH,EAAArB,GACA,MAAAA,IAAA,IAAAuT,EAAAtT,QAAA,EAAA,MAEAuB,KAAA,IAAA,IACAwK,KAAA,SAAA3K,EAAArB,GACA,MAAAqB,GAAAqS,IAGAJ,EAAAjC,OAAA,QACA7P,KAAA,QAAA,eACAA,KAAA,IAAA,IACAwK,KAAAkH,GA7LA,GAAA9B,GAAA9P,EAAAC,OAAA,sBAGA0L,SACAsB,MAAAjN,EAAAuS,KAAA,yBACAtF,MAAAjN,EAAAuS,KAAA,oCACA5F,MAAA+C,EAEA,IAAAe,GAAA,IACAzR,EAAA,IAEAwT,EAAAxS,EAAAiQ,IAAAwC,iBACAC,WAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KACAC,QAAA,MAAA,KACAjB,OAAA,OACAkB,WAAA,IAAA,MAMAhC,GAJA5Q,EAAAC,OAAA,UAAA8P,OAAA,OACA7P,KAAA,QAAAuQ,GACAvQ,KAAA,SAAAlB,GAEAgB,EAAAiQ,IAAAW,OAAA4B,WAAAA,IACAxB,EAAAhR,EAAA0R,MAAAoB,YAAAZ,SAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,MACAC,OAAA,UAAA,UAAA,UAAA,UAAA,UAAA,UAAA,YAqGAY,EAAA/S,EAAA0R,MAAAoB,YAAAZ,QAAA,EAAA,GAAA,IAAA,IAAA,GAAA,IAAAC,OAAA,UAAA,UAAA,UAAA,UAAA,UAAA,WACAY,GAAAV,cAAA,WACA,OAAA,KAAA,SAAA,UAAA,UAAA,UAAA,aAKAZ,EAAAsB,EAAA,uBAAA,gEA+DAlU,EAAA,4BAAA4J,MAAA,WACA,GAAAuK,GAAAnU,EAAA0K,MAAAV,KAAA,OACAhK,GAAA,kBAAAqB,KAAA,mBAAA8S,GACAnU,EAAA,4BAAAY,YAAA,UACAZ,EAAA0K,MAAA/J,SAAA,aAGAQ,KC1MA,WACA,YAkHA,SAAAiT,GAAApK,GACA,GAAAqK,GAAAlT,GAAAmT,KAAAtK,EAAA,IAAAkB,MAAA,EAAA,IAEAqJ,IAGAvK,GAAA+G,QAAA,SAAA7P,EAAArB,GACA,GAAA2U,KACAH,GAAAtD,QAAA,SAAA0D,GACAvT,EAAAuT,IACAD,EAAAjH,MACAmH,KAAAD,EACAE,KAAAzT,EAAAuT,GACAG,UAAA1T,EAAA0T,UACAC,SAAA3T,EAAA2T,aAIAN,EAAAhH,MACAqH,UAAA1T,EAAA0T,UACAC,SAAA3T,EAAA2T,SACAC,MAAAN,MAIAxK,EAAAuK,QAAAA,EAGAQ,EAAA1B,OACAlS,GAAA6T,OAAAX,EAAA,SAAAnT,GACA,MAAA+T,GAAAC,MAAAhU,MAIAiU,EAAA9B,QACAlS,GAAAiU,IAAAb,EAAA,SAAArT,GACA,MAAAC,IAAAiU,IAAAlU,EAAA4T,MAAA,SAAA5T,GACA,OAAAA,EAAAyT,SAGA,GAGA,IAAAU,GAAAC,EAAA/D,UAAA,iBACAvH,KAAAuK,GACAzC,QACAZ,OAAA,KACA7P,KAAA,QAAA,cAEAkU,GAAAF,EAAA9D,UAAA,QACAvH,KAAA,SAAA9I,GACA,OAAAA,EAAA4T,SAEAhD,QACAZ,OAAA,QACA7P,KAAA,QAAA,cACAC,QAAA,gBAAA,SAAAJ,EAAArB,GAEA,MAAAG,GAAAwV,QAAAtU,EAAArB,GAAA+U,UAAAa,MAAA,IAQAnU,QAAA,MAAA,SAAAJ,EAAArB,GAEA,MAAAG,GAAAwV,QAAAtU,EAAArB,GAAA+U,UAAAc,MAAA,IAmBAvU,GAAAoQ,UAAA,iBACAhC,GAAA,YAAAoG,GACApG,GAAA,WAAAqG,GACArG,GAAA,YAAAsG,GAKA,QAAAC,KACAC,EAAAnE,MAAAoE,EAAAC,YACAF,EAAAnE,MAAA,IACAmE,EAAAG,OAAAC,KAAA,GAEAJ,EAAAG,OAAAC,KAAA,GASA,QAAAC,KACAN,IAEAR,EAAAjU,KAAA,QAAA0U,EAAAnE,OAEAmD,EAAAzB,OAAAyC,EAAAG,OAAAC,KAAAJ,EAAAnE,MAAAmE,EAAAG,OAAAG,MAAAN,EAAAG,OAAAC,OACAhB,EAAA7B,OAAAyC,EAAAG,OAAA7V,IAAA0V,EAAA5V,OAAA4V,EAAAG,OAAAI,OAAAP,EAAAG,OAAA7V,MAGAkW,EAAA1D,MAAAkC,GACAyB,OAAA,UACAC,MAAAV,EAAAnE,MAAA,IAAA,EAAA,IACA8E,WAAA,SAAAxV,GACA,MAAA+T,GAAA/T,KAEAyV,eAAA,IAEAC,EAAA/D,MAAAsC,GACAqB,OAAAT,EAAAnE,MAAA,IAAA,QAAA,QACA+E,eAAA,IAEAE,EACAxV,KAAA,KAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,MAAA,GAEAW,EACAzV,KAAA,KAAA0U,EAAAG,OAAAC,MAEAJ,EAAAnE,MAAA,IACAmF,EACA1V,KAAA,YAAA,aAAA0U,EAAAG,OAAAC,KAAA,OAEAY,EACA1V,KAAA,YAAA,aAAA0U,EAAAG,OAAAC,KAAA,OAKAa,EAAAC,EAAA,SAAA/V,GACA,MAAA6T,GAAAE,EAAAC,MAAAhU,EAAAwT,SAEAD,EAAA,SAAAvT,GACA,MAAAiU,IAAAjU,EAAAyT,QAEAuC,QAAA,SAAAhW,GACA,MAAAiU,IAAAjU,EAAAyT,QAIAwC,EACAjS,KAAAqR,GAEAQ,EACA7R,KAAA0R,GAGAQ,EACA/V,KAAA,IAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,KAAA,IACA9U,KAAA,IAAA8T,EAAA,MAAA,GAEAkC,EACAhW,KAAA,IAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,KAAA,IACA9U,KAAA,IAAA8T,EAAA,IAAA,GAEAI,EAAAlU,KAAA,IAAA2V,GAIArN,EAAAuH,OAAA,UACA1Q,MAAA,eAAA,GACAa,KAAA,IAAA,GACAA,KAAA,iBAAA,QAQA,QAAAuU,KACAzU,GAAAoQ,UAAA,aAAAjQ,QAAA,aAAA,GAAAA,QAAA,WAAA,GACAH,GAAAoQ,UAAA,cAAAjQ,QAAA,aAAA,GAAAA,QAAA,WAAA,GAAAD,KAAA,IAAAF,GAAAmW,IAAAC,SAAAC,KAAA,UAAAC,KAAA,KAAAjX,MAAA,eAAA,KACAkX,EAAApW,QAAA,UAAA,GACAqI,EAAArI,QAAA,UAAA,GAGA,QAAAqU,GAAAzU,EAAArB,GAEAsB,GAAAoQ,UAAA,aAAAjQ,QAAA,aAAA,GACAH,GAAAoQ,UAAA,cAAAjQ,QAAA,aAAA,GAAAD,KAAA,IAAAF,GAAAmW,IAAAC,SAAAC,KAAA,UAAAC,KAAA,KAAAjX,MAAA,eAAA,KACAW,GAAAC,OAAAsJ,MAAAtJ,OAAA,aAAAE,QAAA,aAAA,GAAAA,QAAA,WAAA,EAEA,IACAqW,IADAxW,GAAAyW,MAAAlN,MAAA,GACAvJ,GAAAyW,MAAAlN,MAAA,IACAmN,EAAA1C,EAAA2C,OAAAH,GACAI,EAAA5W,GAAAoR,OAAA,OAAAsF,EAEAH,GAAApW,QAAA,UAAA,GACA0O,KAAA+H,GACApO,EAAArI,QAAA,UAAA,GAKA,QAAAuU,GAAA3U,GAEA,GAAA8W,GAAA7W,GAAAyW,MAAAlN,MAAA,GACAiN,EAAAxW,GAAAyW,MAAAlN,MAAA,GACAmN,EAAA1C,EAAA2C,OAAAH,GAIAI,GAHAhD,EAAA+C,OAAAE,GAGA7W,GAAAoR,OAAA,OAAAsF,GAEAlO,GAAAtI,KAAA,YAAA,aAAA2W,EAAA,IAAAL,EAAA,KAEAD,EACAlX,MAAA,MAAAW,GAAA6N,MAAAiJ,QAAA,GAAA,MACAzX,MAAA,OAAAW,GAAA6N,MAAA,QAAA,MACAgB,KAAA+H,GAnVA,GAqBAxC,GArBAlE,EAAA,cACA2E,EAAAvW,SAAAiQ,cAAA2B,GAGA0E,GACAG,QACA7V,IAAA,GACAgW,MAAA,GACAC,OAAA,GACAH,KAAA,IAEAvE,MAAAoE,EAAAC,YACA9V,OAAA,KAMAsV,GAAA,MACAC,GAAA,OASAT,EAAA9T,GAAA+W,KAAA3F,OAAA,MAEAwC,EAAA5T,GAAA+W,KAAArF,QAEAsC,EAAAhU,GAAA0R,MAAAsF,SACA5B,EAAApV,GAAAmW,IAAAc,OACAxB,EAAAzV,GAAAmW,IAAAc,OACApB,EAAA7V,GAAAmW,IAAAe,OAGA/C,EAAAnU,GAAAC,OAAAiQ,GACAH,OAAA,OACA7P,KAAA,QAAA0U,EAAAnE,OACAvQ,KAAA,SAAA0U,EAAA5V,QAGAgX,EAAA7B,EAAApE,OAAA,KACA7P,KAAA,QAAA,cACAA,KAAA,YAAA,gBAAA0U,EAAA5V,OAAA4V,EAAAG,OAAAI,OAAAP,EAAAG,OAAA7V,KAAA,KACA6E,KAAAqR,GAEAM,EAAAM,EACAjG,OAAA,QACA7P,KAAA,KAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,MAAA,GACA9U,KAAA,IAAA0U,EAAAG,OAAAI,QACAjV,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,QAEAkL,EAAAzB,EAAApE,OAAA,KACA7P,KAAA,QAAA,cACAA,KAAA,YAAA,aAAA0U,EAAAG,OAAAC,KAAA,OACAjR,KAAA0R,GAEAE,EAAAC,EACA7F,OAAA,QACA7P,KAAA,MAAA0U,EAAA5V,OAAA,IACAkB,KAAA,KAAA0U,EAAAG,OAAAC,MACA9U,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,6DAGAuL,EAAA9B,EAAApE,OAAA,QACA7P,KAAA,QAAA,YACAA,KAAA,IAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,KAAA,IACA9U,KAAA,IAAA8T,EAAA,MAAA,GACA9T,KAAA,KAAA,OACAb,MAAA,cAAA,SACAqL,KAAA,MAEAwL,EAAA/B,EAAApE,OAAA,QACA7P,KAAA,QAAA,aACAA,KAAA,IAAA0U,EAAAnE,MAAAmE,EAAAG,OAAAC,KAAA,IACA9U,KAAA,IAAA8T,EAAA,IAAA,GACA9T,KAAA,KAAA,OACAb,MAAA,cAAA,SACAqL,KAAA,OASA6L,EAAAvW,GAAAC,OAAA,eAAA8P,OAAA,OAAA7P,KAAA,QAAA,sBAEAsI,EAAA2L,EAAApE,OAAA,KACA7P,KAAA,QAAA,SACAC,QAAA,UAAA,EAKAH,IAAAmX,IAAA,2BAAA,SAAAtO,GACAoK,EAAApK,GACAoM,IAEAzW,OAAA8J,iBAAA,SAAA2M,QC/GA,WACA,YAkEA,SAAAmC,GAAApE,GACA,GAAAqE,GAAA,GAAAC,KACAD,GAAAE,SAAAvE,EAAAwE,WAAA,GACA,IAAA1K,GAAA7L,KAAAwW,KAAAJ,EAAAG,WAAA,EACA,OAAA,IAAA1K,EA6PA,QAAA2H,KAEAzU,GAAAoQ,UAAA,aAAAjQ,QAAA,aAAA,GAAAA,QAAA,WAAA,GACAH,GAAAoQ,UAAA,cAAAjQ,QAAA,aAAA,GAAAA,QAAA,WAAA,GAAAD,KAAA,IAAAF,GAAAmW,IAAAC,SAAAC,KAAA,UAAAC,KAAA,KAAAjX,MAAA,eAAA,KACAqY,EAAAvX,QAAA,UAAA,GACAqI,EAAArI,QAAA,UAAA,GAGA,QAAAqU,GAAAzU,EAAArB,GAEAsB,GAAAoQ,UAAA,aAAAjQ,QAAA,aAAA,GACAH,GAAAoQ,UAAA,cAAAjQ,QAAA,aAAA,GAAAD,KAAA,IAAAF,GAAAmW,IAAAC,SAAAC,KAAA,UAAAC,KAAA,KAAAjX,MAAA,eAAA,KAMAW,GAAAC,OAAAsJ,MAAAtJ,OAAA,aAAAE,QAAA,aAAA,GAAAA,QAAA,WAAA,EAEA,IACAqW,IADAxW,GAAAyW,MAAAlN,MAAA,GACAvJ,GAAAyW,MAAAlN,MAAA,IACAmN,EAAApD,EAAAqD,OAAAH,GACAI,EAAA5W,GAAAoR,OAAA,OAAAsF,EAEAgB,GAAAvX,QAAA,UAAA,GACA0O,KAAA+H,GAGApO,EAAArI,QAAA,UAAA,GAGA,QAAAuU,GAAA3U,GAGA,GAAA8W,GAAA7W,GAAAyW,MAAAlN,MAAA,GACAiN,EAAAxW,GAAAyW,MAAAlN,MAAA,GACAmN,EAAApD,EAAAqD,OAAAH,GACAI,EAAA5W,GAAAoR,OAAA,OAAAsF,EAEAlO,GAAAtI,KAAA,YAAA,aAAA2W,EAAA,IAAAL,EAAA,KAIAkB,EACArY,MAAA,MAAAW,GAAA6N,MAAA8J,MAAA,GAAA,MACAtY,MAAA,OAAAW,GAAA6N,MAAA+J,MAAA,EAAA,MACA/I,KAAA+H,GAKA,QAAA3B,KACA4C,EAAAhD,EAAAC,aAEAgB,EAAAgC,aAAA,EAAArH,IACAsH,EAAAD,aAAA,EAAArH,IACA6C,EAAAnB,OAAAnT,EAAA,IACAgZ,EAAAtG,MAAAoE,GACAmC,EAAAvG,MAAAoE,GACAoC,EAAAxG,MAAA4B,GAEA4D,EAAApB,EAAA,SAAA/V,GACA,MAAA+V,GAAA/V,EAAAoY,SAEA7E,EAAA,SAAAvT,GACA,MAAAuT,GAAAvT,EAAAyJ,SAGA4O,EACAlY,KAAA,YAAA,eAAAlB,EAAA,KACA+E,KAAAiU,GAEAK,EACAnY,KAAA,YAAA,gBAAAlB,EAAA,IAAA,KACA+E,KAAAkU,GAEAK,EACApY,KAAA,KAAAuQ,EAAAsE,EAAAC,MAAA,GACA9U,KAAA,IAAA6U,EAAAI,OAAA,IAGAoD,EAAAxU,KAAAmU,GAEAM,EAAAtY,KAAA,QAAAuY,GAAAvY,KAAA,SAAAwY,GAUAC,EAAAzY,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAnX,EAAA8Q,UAGA+H,EAAA1Y,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAnX,EAAA8Q,UAGAgI,EAAA3Y,KAAA,QAAA,cAAAA,KAAA,YAAA,cAAAuQ,EAAA,GAAAsE,EAAAG,OAAA,OAGA,QAAA2C,GAAAiB,GACAL,EAAAK,EACArI,EAAAgI,EAAA1D,EAAAC,KAAAD,EAAAG,MACAlW,EAAA0Z,EAAA3D,EAAA7V,IAAA6V,EAAAI,OAMA,QAAA4D,KAGA,GAAAC,IACA,iBACA,WACA,SACA,aAIAC,GACA,yBACA,gBACA,cACA,iBAEAJ,GAAA3Y,KAAA,QAAA,cAAAA,KAAA,YAAA,cAAAuQ,EAAA,GAAAsE,EAAAG,OAAA,MACA,IAAAgE,GAAA,EAKAF,GAAApJ,QAAA,SAAAuJ,EAAAza,GACA0a,EAAAP,EAAA9I,OAAA,KACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,YAAA,eAAAxB,EAAAwa,EAAA,KAEAE,EAAArJ,OAAA,YACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,KAAA,GACAA,KAAA,KAAA,GACAA,KAAA,KAAA,IACAA,KAAA,KAAA,GACAb,MAAA,SAAAga,EAAA3a,IACAW,MAAA,mBAAAia,EAAA5a,IACAW,MAAA,eAAAka,EAAA7a,IAEA0a,EAAArJ,OAAA,QACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,IAAA,IACAA,KAAA,IAAA,IACA2O,KAAAoK,EAAAva,MA5dA,GAAA8a,GAAA,kBACA3E,EAAAvW,SAAAiQ,cAAA,mBAEAkL,IACAzG,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA;AACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAEA7G,KAAA,GAAAsE,MAAA,cACAoC,eAAA,OACAC,SAAA,OACAC,OAAA,OACAC,UAAA,SAMAC,EAAA9Z,GAAA+W,KAAA3F,OAAA,MASAiI,GAAA,UAAA,UAAA,UAAA,WACAE,GAAA,QAAA,QAAA,QAAA,OACAD,GAAA,cAAA,UAAA,UAAA,WACAS,GAAA,SAAA,SAAA,SAAA,UACAC,GAAA,MAAA,QAAA,QAAA,OACAC,GAAA,UAAA,UAAA,UAAA,WACAC,EAAA,OAOAnF,GACA7V,IAAA,GACAgW,MAAA,GACAC,OAAA,GACAH,KAAA,IAGAyD,EAAA,IACAC,EAAA,IACAjI,EAAAgI,EAAA1D,EAAAC,KAAAD,EAAAG,MACAlW,EAAA0Z,EAAA3D,EAAA7V,IAAA6V,EAAAI,OAGAW,EAAA9V,GAAA0R,MAAAyI,UAAArC,aAAA,EAAArH,IACAsH,EAAA/X,GAAA0R,MAAAyI,UAAArC,aAAA,EAAArH,IAEA6C,EAAAtT,GAAA0R,MAAAsF,SAAA7E,OAAAnT,EAAA,IAEAob,EAAApa,GAAA0R,MAAAyI,UAAAhI,MAAAkH,GAEAgB,EAAAra,GAAA0R,MAAAyI,UAAAhI,MAAAoH,GAEAe,EAAAta,GAAA0R,MAAAyI,UAAAhI,MAAAmH,GAEAiB,EAAAva,GAAA0R,MAAAyI,UAAAhI,MAAA4H,GAEAS,EAAAxa,GAAA0R,MAAAyI,UAAAhI,MAAA6H,GAEAS,EAAAza,GAAA0R,MAAAyI,UAAAhI,MAAA8H,GAEAjC,EAAAhY,GAAAmW,IAAAc,OACAvF,MAAAoE,GACAT,OAAA,UACAC,MAAAtV,GAAA+W,KAAA2D,OAAA,GACAnF,WAAA6B,GAGAa,EAAAjY,GAAAmW,IAAAc,OACAvF,MAAAoE,GACAR,MAAAtV,GAAA+W,KAAA7D,MAAA,GACAqC,WAAAuE,GACAa,SAAA,EAAA,GACAC,YAAA,GACAvF,OAAA,UAGAwF,EAAA7a,GAAAoR,OAAA,OAEA8G,EAAAlY,GAAAmW,IAAAc,OACAvF,MAAA4B,GACA+B,OAAA,QACAE,WAAAsF,GACAvF,MAAA,GACAqF,SAAA,EAAA,GACAC,YAAA,GAKAlD,EAAA1X,GAAAC,OAAA,QAAA8P,OAAA,OAAA7P,KAAA,QAAA,eAEAgX,EAAAlX,GAAAmW,IAAAe,OACApB,EAAA,SAAA/V,GACA,MAAA+V,GAAA/V,EAAAoY,SAEA7E,EAAA,SAAAvT,GACA,MAAAuT,GAAAvT,EAAAyJ,SAGAgP,EAAAxY,GAAAC,OAAA3B,SAAAiQ,cAAAiL,IACAzJ,OAAA,OACA+K,EAAAtC,EAAAzI,OAAA,KACA7P,KAAA,YAAA,aAAA6U,EAAAC,KAAA,IAAAD,EAAA7V,IAAA,KAEA6b,EAAA/a,GAAAmT,KAAAsG,EAAA,IAAAuB,OAAA,SAAAzK,GACA,MAAAA,KAAA2J,GAGAE,GAAAlI,OAAA6I,GACAV,EAAAnI,OAAA6I,GACAT,EAAApI,OAAA6I,GACAR,EAAArI,OAAA6I,GACAP,EAAAtI,OAAA6I,GACAN,EAAAvI,OAAA6I,EAEA,IAAAE,GAAAF,EAAAG,IAAA,SAAAC,GACA,OACAA,KAAAA,EACAtK,OAAA4I,EAAAyB,IAAA,SAAAnb,GACA,OACAob,KAAAA,EACAhD,MAAApY,EAAAma,GACA1Q,OAAAzJ,EAAAob,QAOArF,GAAA5D,OAAAuH,EAAAyB,IAAA,SAAAnb,GACA,MAAAA,GAAAiT,QAGA+E,EAAA7F,OAAAuH,EAAAyB,IAAA,SAAAnb,GACA,MAAAA,GAAAiT,QAGAM,EAAApB,QACAlS,GAAAob,IAAAH,EAAA,SAAAI,GACA,MAAArb,IAAAob,IAAAC,EAAAxK,OAAA,SAAA9Q,GAEA,MAAA,OAGAC,GAAAiU,IAAAgH,EAAA,SAAAI,GACA,MAAArb,IAAAiU,IAAAoH,EAAAxK,OAAA,SAAA9Q,GACA,MAAAA,GAAAyJ,WAMA,IAAA4O,GAAA0C,EAAA/K,OAAA,KACA7P,KAAA,QAAA,cACAA,KAAA,YAAA,eAAAlB,EAAA,KACA+E,KAAAiU,GAOAK,GALAD,EAAArI,OAAA,QACA7P,KAAA,QAAA,QACAb,MAAA,eAAA,SACA0E,KAAAiU,GAEA8C,EAAA/K,OAAA,KACA7P,KAAA,QAAA,YACAA,KAAA,YAAA,gBAAAlB,EAAA,IAAA,KACA+E,KAAAkU,IAEAK,EAAAD,EACAtI,OAAA,QACA7P,KAAA,KAAAuQ,EAAAsE,EAAAC,MAAA,GACA9U,KAAA,IAAA6U,EAAAI,OAAA,IACAjV,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,WAGA6N,EAAAuC,EAAA/K,OAAA,KACA7P,KAAA,QAAA,cACA6D,KAAAmU,GAEAnI,OAAA,QACA7P,KAAA,MAAAlB,EAAA,IACAkB,KAAA,KAAA,IACAA,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,oCAGA4Q,EAAAR,EAAA1K,UAAA,WACAvH,KAAAoS,GACAtK,QAAAZ,OAAA,KACA7P,KAAA,QAAA,cAGAyY,EAAA2C,EAAAvL,OAAA,QACA7P,KAAA,QAAA,QACAA,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAnX,EAAA8Q,UAEAxR,MAAA,SAAA,SAAAU,GACA,MAAAqa,GAAAra,EAAAob,QAEA9b,MAAA,eAAA,SAAAU,GACA,MAAAsa,GAAAta,EAAAob,QAEA9b,MAAA,mBAAA,SAAAU,GACA,MAAAua,GAAAva,EAAAob,QAEA9b,MAAA,OAAA,QAGAuZ,EAAA0C,EAAAvL,OAAA,QACA7P,KAAA,QAAA,gBACAA,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAnX,EAAA8Q,UAEA3Q,KAAA,QAAA,wCACAb,MAAA,OAAA,QAoCAmJ,EAAAsS,EAAA/K,OAAA,KACA7P,KAAA,QAAA,SACAC,QAAA,UAAA,EAEAqI,GAAAuH,OAAA,UACA1Q,MAAA,eAAA,GACAa,KAAA,IAAA,GACAA,KAAA,iBAAA,QAEAF,GAAAoQ,UAAA,gBACAhC,GAAA,YAAAoG,GACApG,GAAA,WAAAqG,GACArG,GAAA,YAAAsG,EAgHA,IAAAmE,GAAAL,EAAAzI,OAAA,KACAqJ,EAAAP,EAAA9I,OAAA,IAkDAkF,KACA8D,IAEAva,OAAA8J,iBAAA,SAAA2M,MNxeA,WAibA,QAAAA,KACA4C,EAAAhD,EAAAC,aAEA0D,EAAAtY,KAAA,QAAAuY,GAAAvY,KAAA,SAAAwY,GACA5C,EAAA3D,OAAA,EAAA1B,IACA6C,EAAAnB,OAAAnT,EAAA,IAEAuc,EACA7J,MAAAoE,GACAP,WAAAuE,GACAxE,MAAA7E,EAAA,IAAA,EAAA,IACA4E,OAAA,UACAmG,cAAA,GAEAC,EACA/J,MAAA4B,GACAqH,SAAAlK,GACA4E,OAAA,SACAE,WAAAvL,GAIAkN,EAAApB,EAAA,SAAA/V,GACA,MAAA+V,GAAA/V,EAAA2b,OAEApI,EAAA,SAAAvT,GACA,MAAAuT,GAAAvT,EAAAyJ,SAEAuM,QAAA,SAAAhW,GACA,MAAAuT,GAAAvT,EAAAyJ,SAGAmS,EAAAzb,KAAA,YAAA,eAAAlB,EAAA,KAAA+E,KAAAwX,GACAK,EAAA7X,KAAA0X,GACAI,EAAAzL,UAAA,0BAAAlQ,KAAA,KAAA,GAAAA,KAAA,KAAA,GAAAb,MAAA,cAAA,OACAyc,EAAA5b,KAAA,QAAAuQ,GAAAvQ,KAAA,SAAAlB,GAGA+c,EACA7b,KAAA,KAAAuQ,EAAAsE,EAAAC,MAAA,GACA9U,KAAA,IAAA6U,EAAA,OAAA,GACA7U,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,eAGAsR,EACA9b,KAAA,MAAAlB,EAAA+V,EAAA7V,KAAA,GACAgB,KAAA,KAAA6U,EAAAC,MACA9U,KAAA,KAAA,OACAA,KAAA,QAAA,oBACAwK,KAAA,oCAIAqO,IACAkD,IACAC,IAIA,QAAArE,GAAAsE,GACA1D,EAAA0D,EACA1L,EAAAgI,EAAA1D,EAAAC,KAAAD,EAAAG,MAGA,QAAAkH,KACAvD,EAAAwD,QAAAC,OAAAT,EAAA9L,OAAA,UAAA7P,KAAA,QAAA,kBAAAA,KAAA,IAAA,GACA2Y,EAAAwD,QAAA3R,KAAAmR,EAAA9L,OAAA,KAAAA,OAAA,QAAA7P,KAAA,QAAA,iBAAAwK,KAAA,WACAmO,EAAA0D,QAAAD,OAAAT,EAAA9L,OAAA,UAAA7P,KAAA,QAAA,kBAAAA,KAAA,IAAA,GACA2Y,EAAA0D,QAAA7R,KAAAmR,EAAA9L,OAAA,KAAAA,OAAA,QAAA7P,KAAA,QAAA,iBAAAwK,KAAA,WACAmO,EAAA2D,UAAAF,OAAAT,EAAA9L,OAAA,UAAA7P,KAAA,QAAA,oBAAAA,KAAA,IAAA,GACA2Y,EAAA2D,UAAA9R,KAAAmR,EAAA9L,OAAA,KAAAA,OAAA,QAAA7P,KAAA,QAAA,mBAAAwK,KAAA,aACAmO,EAAA4D,MAAAH,OAAAT,EAAA9L,OAAA,UAAA7P,KAAA,QAAA,gBAAAA,KAAA,IAAA,GACA2Y,EAAA4D,MAAA/R,KAAAmR,EAAA9L,OAAA,KAAAA,OAAA,QAAA7P,KAAA,QAAA,eAAAwK,KAAA,SAKA,QAAAqO,KACA,GAAA2D,GAAA,EACAC,EAAA,EACA9D,GAAAwD,QAAAC,OAAApc,KAAA,KAAAuQ,EAAAmM,GAAA1c,KAAA,KAAAwc,EAAA,EAAAC,GACA9D,EAAAwD,QAAA3R,KAAAxK,KAAA,IAAAuQ,EAAAoM,GAAA3c,KAAA,IAAAwc,EAAA,EAAAC,EAAA,GACA9D,EAAA0D,QAAAD,OAAApc,KAAA,KAAAuQ,EAAAmM,GAAA1c,KAAA,KAAAwc,EAAA,EAAAC,GACA9D,EAAA0D,QAAA7R,KAAAxK,KAAA,IAAAuQ,EAAAoM,GAAA3c,KAAA,IAAAwc,EAAA,EAAAC,EAAA,GACA9D,EAAA2D,UAAAF,OAAApc,KAAA,KAAAuQ,EAAAmM,GAAA1c,KAAA,KAAAwc,EAAA,EAAAC,GACA9D,EAAA2D,UAAA9R,KAAAxK,KAAA,IAAAuQ,EAAAoM,GAAA3c,KAAA,IAAAwc,EAAA,EAAAC,EAAA,GACA9D,EAAA4D,MAAAH,OAAApc,KAAA,KAAAuQ,EAAAmM,GAAA1c,KAAA,KAAAwc,EAAA,EAAAC,GACA9D,EAAA4D,MAAA/R,KAAAxK,KAAA,IAAAuQ,EAAAoM,GAAA3c,KAAA,IAAAwc,EAAA,EAAAC,EAAA,GAKA,QAAAG,KAEA,IADAnE,EAAA4D,QAAAV,EAAA9L,OAAA,QAAA7P,KAAA,QAAA,gBAAAA,KAAA,iBAAA,QACAxB,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,WAAAlM,OAAAlS,OAAAD,IAAA,CAEA,GACAse,IADA9I,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,IACAxH,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,MAEAwT,IAAA,GAKAnB,EAAA9L,OAAA,UACA7P,KAAA,QAAA,SAAAH,GACA,MAAA,mBAAAmU,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,MAEAxb,KAAA,KAAA4V,EAAA5B,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,MACAxb,KAAA,KAAAoT,EAAAY,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,QACAtJ,KAAA,IAAA,GACAA,KAAA,iBAAA,QAKA,IADAyY,EAAA6D,UAAAX,EAAA9L,OAAA,QAAA7P,KAAA,QAAA,kBAAAA,KAAA,iBAAA,QACAxB,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,aAAAlM,OAAAlS,OAAAD,IAAA,CAEA,GACAse,IADA9I,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAAgd,IACAxH,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAA8K,MAEAwT,IAAA,GAKAnB,EAAA9L,OAAA,UACA7P,KAAA,QAAA,SAAAH,GACA,MAAA,qBAAAmU,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAAgd,MAEAxb,KAAA,KAAA4V,EAAA5B,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAAgd,MACAxb,KAAA,KAAAoT,EAAAY,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAA8K,QACAtJ,KAAA,IAAA,GACAA,KAAA,iBAAA,QA2BA,IADAyY,EAAA0D,QAAAR,EAAA9L,OAAA,QAAA7P,KAAA,QAAA,gBAAAA,KAAA,iBAAA,QACAxB,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,WAAAlM,OAAAlS,OAAAD,IAAA,CAEA,GACAse,IADA9I,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,IACAxH,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,MAEAwT,IAAA,GAKAnB,EAAA9L,OAAA,UACA7P,KAAA,QAAA,SAAAH,GACA,MAAA,mBAAAmU,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,MAEAxb,KAAA,KAAA4V,EAAA5B,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,MACAxb,KAAA,KAAAoT,EAAAY,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,QACAtJ,KAAA,IAAA,GACAA,KAAA,iBAAA,QAKA,IADAyY,EAAA8D,MAAAZ,EAAA9L,OAAA,QAAA7P,KAAA,QAAA,cAAAA,KAAA,iBAAA,QACAxB,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,SAAAlM,OAAAlS,OAAAD,IAAA,CAEA,GACAse,IADA9I,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAAgd,IACAxH,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAA8K,MAEAwT,IAAA,GAKAnB,EAAA9L,OAAA,UACA7P,KAAA,QAAA,SAAAH,GACA,MAAA,iBAAAmU,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAAgd,MAEAxb,KAAA,KAAA4V,EAAA5B,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAAgd,MACAxb,KAAA,KAAAoT,EAAAY,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAA8K,QACAtJ,KAAA,IAAA,GACAA,KAAA,iBAAA,SAMA,QAAA+b,KACAtD,EAAA4D,QAAArc,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,WAAAlM,UAEA8H,EAAA0D,QAAAnc,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,WAAAlM,UAEA8H,EAAA6D,UAAAtc,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,aAAAlM,UAEA8H,EAAA8D,MAAAvc,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,SAAAlM,UASA,QAAAqL,KAeA,IAXAL,EAAA5b,OAAA,iBACAgd,aACA/U,SAAA,KACAgV,MAAA,KACAhd,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,WAAAlM,UAMAnS,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,WAAAlM,OAAAlS,OAAAD,IAAA,CACA,GAAAye,GAAA,oBAAAjJ,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,GAGAxH,GAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,OAAA,EACAqS,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,KAAA,SAAAH,GACA,MAAA+V,GAAA5B,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,OAEAxb,KAAA,KAAA,SAAAH,GACA,MAAAuT,GAAAY,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,SAEAtJ,KAAA,IAAA,GAEA2b,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,IAAA,GAeA,IAPA2b,EAAA5b,OAAA,mBACAgd,aACA/U,SAAA,KACAhI,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,aAAAlM,UAGAnS,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,aAAAlM,OAAAlS,OAAAD,IAAA,CACA,GAAAye,GAAA,sBAAAjJ,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAAgd,GAGAxH,GAAA6I,EAAA,aAAAlM,OAAAnS,GAAA8K,OAAA,EACAqS,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,KAAA,SAAAH,GACA,MAAA+V,GAAA5B,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAAgd,OAEAxb,KAAA,KAAA,SAAAH,GACA,MAAAuT,GAAAY,EAAA6I,EAAA,aAAAlM,OAAAnS,GAAA8K,SAEAtJ,KAAA,IAAA,GAEA2b,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,IAAA,GAkDA,IAPA2b,EAAA5b,OAAA,iBACAgd,aACA/U,SAAA,KACAhI,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,WAAAlM,UAGAnS,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,WAAAlM,OAAAlS,OAAAD,IAAA,CAGA,GAAAye,GAAA,oBAAAjJ,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,IACA0B,EAAAlJ,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,KAKA4T,IAAA,EACAvB,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,KAAA,SAAAH,GACA,MAAA+V,GAAA5B,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAAgd,OAEAxb,KAAA,KAAA,SAAAH,GACA,MAAAuT,GAAAY,EAAA6I,EAAA,WAAAlM,OAAAnS,GAAA8K,SAEAtJ,KAAA,IAAA,GAEA2b,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,IAAA,GAaA,IAPA2b,EAAA5b,OAAA,eACAgd,aACA/U,SAAA,KACAhI,KAAA,IAAA,SAAAH,GACA,MAAAmX,GAAAhD,EAAA6I,EAAA,SAAAlM,UAGAnS,EAAA,EAAAA,EAAAwV,EAAA6I,EAAA,SAAAlM,OAAAlS,OAAAD,IAAA,CAEA,GAAAye,GAAA,kBAAAjJ,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAAgd,IACA0B,EAAAlJ,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAA8K,KAKA4T,IAAA,EACAvB,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,KAAA,SAAAH,GACA,MAAA+V,GAAA5B,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAAgd,OAEAxb,KAAA,KAAA,SAAAH,GACA,MAAAuT,GAAAY,EAAA6I,EAAA,SAAAlM,OAAAnS,GAAA8K,SAEAtJ,KAAA,IAAA,GAEA2b,EAAAzL,UAAA+M,GACAF,aACA/U,SAAA,KACAhI,KAAA,IAAA,IA6QA,QAAAmW,GAAAtW,EAAArB,GAqBA,MAnBAsB,IAAAmT,KAAApT,GAAA6P,QAAA,SAAAW,GACAxQ,EAAAwQ,IAAAxQ,EAAAwQ,GACA,OAAAA,IACAA,IAAA2D,GAQAA,EAAA3D,GAAA,OAAAnE,MACAsP,IAAA3b,EAAA2b,IACAlS,MAAAzJ,EAAAwQ,KATA2D,EAAA3D,IACAM,SACA6K,IAAA3b,EAAA2b,IACAlS,MAAAzJ,EAAAwQ,SAYAxQ,EAvmCA,GAAA8U,GAAAvW,SAAAiQ,cAAA,eACA8O,GAEAC,SAAA,WACAC,MAAA,QACAC,SAAA,WACAC,MAAA,QACAC,OAAA,SACAC,OAAA,SACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,SAAA,WACAC,UAAA,YACAC,WAAA,aACAC,MAAA,QACAC,SAAA,WACAC,QAAA,UACAC,MAAA,QACAC,UAAA,YACAC,OAAA,SACAC,KAAA,OACAC,KAAA,OACAC,WAAA,aACAC,MAAA,QACAC,OAAA,SACAC,QAAA,UACAC,YAAA,cACAC,WAAA,aACAC,QAAA,UACAC,QAAA,UACAC,OAAA,SACAC,YAAA,cACAC,QAAA,UACAC,UAAA,YACAC,WAAA,aACAC,UAAA,YACAC,OAAA,SACAC,OAAA,SACAC,OAAA,SACAC,WAAA,aACAC,QAAA,UACAC,SAAA,WACAC,UAAA,YACAC,SAAA,WACAC,YAAA,cACAC,UAAA,YACAC,SAAA,WACAC,WAAA,aACAC,UAAA,YACAC,SAAA,WACAC,WAAA,aACAC,UAAA,YACAC,OAAA,SACAC,SAAA,WACAC,OAAA,SACAC,WAAA,aACAC,SAAA,WACAC,QAAA,UACAC,WAAA,aACAC,QAAA,UACAC,SAAA,WACAC,QAAA,UACAC,aAAA,eACAC,SAAA,WACAC,SAAA,WACAC,WAAA,aACAC,QAAA,UACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,OAAA,SACAC,WAAA,aACAC,OAAA,SACAC,QAAA,UACAC,UAAA,YACAC,OAAA,SACAC,UAAA,YACAC,OAAA,SACAC,QAAA,UACAC,QAAA,UACAC,MAAA,QACAC,OAAA,SACAC,OAAA,SACAC,UAAA,YACAC,QAAA,UACAC,gBAAA,mBACAC,eAAA,kBACAC,QAAA,UACAC,YAAA,cACAC,eAAA,kBACAC,OAAA,SACAC,UAAA,YACAC,SAAA,WACAC,OAAA,SACAC,MAAA,QACAC,QAAA,UACAC,UAAA,YACAC,UAAA,aACAC,SAAA,WACAC,UAAA,YACAC,QAAA,UACAC,WAAA,aACAC,WAAA,aACAC,SAAA,WACAC,SAAA,WACAC,QAAA,UACAC,WAAA,aACAC,KAAA,OACAC,WAAA,aACAC,OAAA,SACAC,QAAA,UACAC,QAAA,UACAC,OAAA,SACAC,UAAA,YACAC,gBAAA,mBACAC,WAAA,aACAC,OAAA,SACAC,UAAA,YACAC,OAAA,SACAC,QAAA,UACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,QAAA,UACAC,OAAA,SACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,SAAA,WACAC,UAAA,YACAC,OAAA,SACAC,MAAA,QACAC,QAAA,UACAC,SAAA,WACAC,SAAA,WACAC,OAAA,SACAC,QAAA,UACAC,UAAA,YACAC,QAAA,UACAC,SAAA,WACAC,UAAA,YACAC,YAAA,cACAC,OAAA,SACAC,KAAA,OACAC,WAAA,aACAC,QAAA,UACAC,SAAA,WACAC,UAAA,YACAC,UAAA,YACAC,aAAA,eACAC,SAAA,WACAC,IAAA,MACAC,UAAA,YACAC,MAAA,QACAC,WAAA,aACAC,SAAA,WACAC,UAAA,YACAC,OAAA,SACAC,QAAA,UACAC,UAAA,YACAC,WAAA,aACAC,OAAA,SACAC,OAAA,SACAC,UAAA,YACAC,KAAA,OACAC,UAAA,YACAC,OAAA,SACAC,WAAA,aACAC,UAAA,YACAC,WAAA,aACAC,OAAA,SACAC,YAAA,cACAC,WAAA,aACAC,QAAA,UACAC,aAAA,eACAC,QAAA,UACAC,SAAA,WACAC,QAAA,UACAC,OAAA,SACAC,QAAA,UACAC,OAAA,SACAC,SAAA,WACAC,QAAA,UACAC,cAAA,gBACAC,YAAA,cACAC,UAAA,YACAC,QAAA,UACAC,SAAA,WACAC,OAAA,SACAC,UAAA,YACAC,OAAA,SACAC,OAAA,SACAC,OAAA,SACAC,SAAA,WACAC,SAAA,WACAC,WAAA,aACAC,gBAAA,mBACAC,OAAA,SACAC,UAAA,YACAC,OAAA,SACAC,QAAA,UACAC,WAAA,cACAC,WAAA,cACAC,aAAA,gBACAC,QAAA,UACAC,YAAA,cACAC,eAAA,kBACAC,SAAA,YACAC,OAAA,SACAC,QAAA,UACAC,WAAA,cACAC,YAAA,cACAC,aAAA,gBACAC,kBAAA,qBACAC,aAAA,eACAC,YAAA,cACAC,gBAAA,mBACAC,WAAA,aACAC,aAAA,gBACAC,OAAA,SACAC,QAAA,UACAC,QAAA,UACAC,UAAA,aACAC,OAAA,SACAC,OAAA,SACAC,QAAA,UACAC,KAAA,OACAC,OAAA,SACAC,OAAA,SACAC,OAAA,SACAC,QAAA,UACAC,OAAA,SACAC,SAAA,WACAC,UAAA,YACAC,KAAA,OACAC,UAAA,YACAC,YAAA,cACAC,WAAA,aACAC,WAAA,aACAC,WAAA,aACAC,SAAA,WACAC,SAAA,WACAC,UAAA,YACAC,aAAA,eACAC,OAAA,SACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,SAAA,WACAC,OAAA,SACAC,SAAA,WACAC,UAAA,YACAC,SAAA,WACAC,SAAA,WACAC,KAAA,OACAC,OAAA,SACAC,UAAA,YACAC,QAAA,UACAC,QAAA,UACAC,MAAA,QACAC,UAAA,YACAC,YAAA,cACAC,SAAA,WACAC,OAAA,SACAC,MAAA,QACAC,SAAA,WACAC,QAAA,UACAC,OAAA,SACAC,UAAA,YACAC,UAAA,YACAC,SAAA,WACAC,QAAA,UACAC,WAAA,aACAC,WAAA,aACAC,SAAA,WACAC,WAAA,aACAC,YAAA,cACAC,aAAA,eACAC,YAAA,cACAC,YAAA,eACAC,UAAA,YACAC,QAAA,UACAC,YAAA,cACAC,SAAA,WACAC,YAAA,cACAC,SAAA,WACAC,UAAA,YACAC,KAAA,OACAC,WAAA,aACAC,QAAA,UACAC,WAAA,aACAC,OAAA,SACAC,WAAA,aACAC,QAAA,UACAC,QAAA,UACAC,UAAA,YACAC,UAAA,YACAC,QAAA,UACAC,QAAA,UACAC,UAAA,YACAC,SAAA,WACAC,MAAA,QACAC,aAAA,eACAC,UAAA,YACAC,MAAA,QACAC,SAAA,WACAC,UAAA,YACAC,MAAA,QACAC,QAAA,UACAC,QAAA,UACAC,KAAA,OACAC,QAAA,UACAC,OAAA,SACAC,QAAA,UACAC,WAAA,aACAC,UAAA,YACAC,QAAA,UACAC,QAAA,UACAC,UAAA,YACAC,UAAA,YACAC,QAAA,UACAC,OAAA,SACAC,YAAA,cACAC,aAAA,gBACAC,gBAAA,mBACAC,eAAA,kBACAC,UAAA,YACAC,SAAA,WACAC,YAAA,cACAC,YAAA,cACAC,YAAA,eACAC,OAAA,SACAC,SAAA,WACAC,gBAAA,mBACAC,gBAAA,mBACAC,YAAA,eACAC,SAAA,WACAC,SAAA,WACAC,QAAA,UACAC,QAAA,UACAC,UAAA,YACAC,aAAA,eACAC,aAAA,eACAC,WAAA,aACAC,WAAA,aACAC,WAAA,aACAC,QAAA,UACAC,SAAA,WACAC,OAAA,SACAC,UAAA,YACAC,YAAA,cACAC,SAAA,WACAC,SAAA,YAEArW,EAAA,gBAEAhI,GACA7V,IAAA,EACAgW,MAAA,GACAC,OAAA,GACAH,KAAA,IAEAyD,EAAA5D,EAAAC,YACA4D,EAAA,IACAjI,EAAAgI,EAAA1D,EAAAC,KAAAD,EAAAG,MACAlW,EAAA0Z,EAAA3D,EAAA7V,IAAA6V,EAAAI,OAEAke,EAAArzB,GAAAszB,SAAA,SAAAvzB,GACA,MAAAA,GAAA2b,MACA1G,KACAhL,EAAAhK,GAAAoR,OAAA,QACA0I,EAAA9Z,GAAAoR,OAAA,KAGA8C,KAEA4B,EAAA9V,GAAA0R,MAAAsF,SAEA1D,EAAAtT,GAAA0R,MAAAsF,SAIAuE,GAFAvb,GAAA0R,MAAA6hB,aAEAvzB,GAAAmW,IAAAc,QAEAwE,EAAAzb,GAAAmW,IAAAc,OAEAC,EAAAlX,GAAAmW,IAAAe,OAGAsB,EAAAxY,GAAAC,OAAA,eAAA8P,OAAA,OAEA8L,EAAArD,EACAzI,OAAA,KACA7P,KAAA,YAAA,aAAA6U,EAAAC,KAAA,IAAAD,EAAA7V,IAAA,KAGAyc,EAAAE,EAAA9L,OAAA,KAAA7P,KAAA,QAAA,aACAyb,GACA5L,OAAA,QACA7P,KAAA,IAAA,KACAA,KAAA,IAAA,IACAA,KAAA,cAAA,UACAwK,KAAA,OAEA,IAAAkR,GAAAC,EAAA9L,OAAA,KAAA7P,KAAA,QAAA,aACA0b,GAAA7L,OAAA,OAEA,IAAAgM,GAAAJ,EAAA5L,OAAA,QACAiM,EAAAJ,EAAA7L,OAAA,QAEA8M,GAAA,GACAD,GAAA,GACA/D,GACAwD,WACAE,WACAC,aACAC,SACA+W,QAGApX,IAEA,IAAAzD,MAEAmD,EAAAD,EAAA9L,OAAA,QAAA7P,KAAA,QAAA,UAuaAF,IAAAmX,IAAA,mCAAAd,EAAA,SAAA9J,EAAA1D,GA+IA,QAAA4qB,KAIA,GAAA5c,GAAAf,EAAAa,OAAA3W,GAAAyW,MAAAlN,MAAA,IAGAmqB,EAAAL,EAAAnf,EAAA6I,EAAA,WAAAlM,OAAAgG,EAAA,GACA8c,EAAAzf,EAAA6I,EAAA,WAAAlM,OAAA6iB,EAAA,GACAE,EAAA1f,EAAA6I,EAAA,WAAAlM,OAAA6iB,GACAG,EAAAhd,EAAA8c,EAAAjY,IAAAkY,EAAAlY,IAAA7E,EAAA+c,EAAAD,CAEAE,GAAArqB,OAAA,GACAsqB,EAAA5zB,KAAA,YAAA,aAAA4V,EAAA+d,EAAAnY,KAAA,IAAApI,EAAAugB,EAAArqB,OAAA,KACAsqB,EAAA7zB,OAAA,QAAAyK,KAAAV,EAAA6pB,EAAArqB,QAAAtJ,KAAA,YAAA,oBACA4zB,EAAA7zB,OAAA,UAAAC,KAAA,IAAA,KAEA4zB,EAAA7zB,OAAA,UAAAC,KAAA,IAAA,GACA4zB,EAAA7zB,OAAA,QAAAyK,KAAA,IAKA,IAAAqpB,GAAAV,EAAAnf,EAAA6I,EAAA,aAAAlM,OAAAgG,EAAA,GACAmd,EAAA9f,EAAA6I,EAAA,aAAAlM,OAAAkjB,EAAA,GACAE,EAAA/f,EAAA6I,EAAA,aAAAlM,OAAAkjB,GACAG,EAAArd,EAAAmd,EAAAtY,IAAAuY,EAAAvY,IAAA7E,EAAAod,EAAAD,CAMAE,GAAA1qB,OAAA,GACA2qB,EAAAj0B,KAAA,YAAA,aAAA4V,EAAAoe,EAAAxY,KAAA,IAAApI,EAAA4gB,EAAA1qB,OAAA,KACA2qB,EAAAl0B,OAAA,QAAAyK,KAAAV,EAAAkqB,EAAA1qB,QAAAtJ,KAAA,YAAA,oBACAi0B,EAAAl0B,OAAA,UAAAC,KAAA,IAAA,KAEAi0B,EAAAl0B,OAAA,UAAAC,KAAA,IAAA,GACAi0B,EAAAl0B,OAAA,QAAAyK,KAAA,IAqBA,IAAA0pB,GAAAf,EAAAnf,EAAA6I,EAAA,WAAAlM,OAAAgG,EAAA,GACAwd,EAAAngB,EAAA6I,EAAA,WAAAlM,OAAAujB,EAAA,GACAE,EAAApgB,EAAA6I,EAAA,WAAAlM,OAAAujB,GACAG,EAAA1d,EAAAwd,EAAA3Y,IAAA4Y,EAAA5Y,IAAA7E,EAAAyd,EAAAD,CAEAE,GAAA/qB,OAAA,GACAgrB,EAAAt0B,KAAA,YAAA,aAAA4V,EAAAye,EAAA7Y,KAAA,IAAApI,EAAAihB,EAAA/qB,OAAA,KACAgrB,EAAAv0B,OAAA,QAAAyK,KAAAV,EAAAuqB,EAAA/qB,QACAgrB,EAAAv0B,OAAA,UAAAC,KAAA,IAAA,KAEAs0B,EAAAv0B,OAAA,UAAAC,KAAA,IAAA,GACAs0B,EAAAv0B,OAAA,QAAAyK,KAAA,IAKA,IAAA+pB,GAAApB,EAAAnf,EAAA6I,EAAA,SAAAlM,OAAAgG,EAAA,GACA6d,EAAAxgB,EAAA6I,EAAA,SAAAlM,OAAA4jB,EAAA,GACAE,EAAAzgB,EAAA6I,EAAA,SAAAlM,OAAA4jB,GACAG,EAAA/d,EAAA6d,EAAAhZ,IAAAiZ,EAAAjZ,IAAA7E,EAAA8d,EAAAD,CAIAE,GAAAprB,OAAA,GACAqrB,EAAA30B,KAAA,YAAA,aAAA4V,EAAA8e,EAAAlZ,KAAA,IAAApI,EAAAshB,EAAAprB,OAAA,KACAqrB,EAAA50B,OAAA,QAAAyK,KAAAV,EAAA4qB,EAAAprB,QACAqrB,EAAA50B,OAAA,UAAAC,KAAA,IAAA,KAEA20B,EAAA50B,OAAA,UAAAC,KAAA,IAAA,GACA20B,EAAA50B,OAAA,QAAAyK,KAAA,KAKAmM,EAAA,IACAid,EAAA7zB,OAAA,QAAAC,KAAA,IAAA,GAAAA,KAAA,KAAA,GAAAA,KAAA,cAAA,aACAi0B,EAAAl0B,OAAA,QAAAC,KAAA,IAAA,GAAAA,KAAA,KAAA,GAAAA,KAAA,cAAA,aAEAs0B,EAAAv0B,OAAA,QAAAC,KAAA,IAAA,GAAAA,KAAA,KAAA,GAAAA,KAAA,cAAA,aACA20B,EAAA50B,OAAA,QAAAC,KAAA,IAAA,GAAAA,KAAA,KAAA,GAAAA,KAAA,cAAA,eAEA4zB,EAAA7zB,OAAA,QAAAC,KAAA,IAAA,IAAAA,KAAA,cAAA,aACAi0B,EAAAl0B,OAAA,QAAAC,KAAA,IAAA,IAAAA,KAAA,cAAA,aAEAs0B,EAAAv0B,OAAA,QAAAC,KAAA,IAAA,IAAAA,KAAA,cAAA,aACA20B,EAAA50B,OAAA,QAAAC,KAAA,IAAA,IAAAA,KAAA,cAAA,cAtPA,GAAAqM,EAAA,KAAAA,EAIAuJ,GAAA5D,QAAA,IAAAlS,GAAAiU,IAAApL,EAAA,SAAA9I,GACA,MAAAA,GAAA2b,QAEApI,EAAApB,QAAA,EAAA,IAEA4K,IACA7H,IACAzW,OAAA8J,iBAAA,SAAA2M,GAMApW,EAAA,aAAAW,SAAA,UACAQ,GAAAoQ,UAAA,aAAAhC,GAAA,QAAA,WACA2O,EAAA/c,GAAAC,OAAAsJ,MAAArJ,KAAA,YACAgc,IACAlc,GAAAC,OAAAsJ,MAAApJ,QAAA,UAAA,GACAtB,EAAA,SAAAqQ,IAAA,MAKArQ,EAAA,SAAAi2B,cACAC,OAAA,SAAAC,EAAAhmB,GAEA,GAAAimB,GAAAp2B,EAAAqc,IAAAmC,EAAA,SAAA6X,GACA,GAAA,IAAAA,EAAA/xB,cAAAJ,QAAAiyB,EAAAG,KAAAhyB,eACA,MAAA+xB,IAGAlmB,GAAAimB,IAUAh1B,OAAA,SAAA4N,EAAAunB,GACAv2B,EAAA6P,KAAA2O,EAAA,SAAA9M,EAAA/G,GACAA,IAAA4rB,EAAAjc,KAAA3P,QACAuT,EAAAxM,EACA9J,QAAAC,IAAA8C,MAKA3K,EAAA,aAAAY,YAAA,UACAyc,MAQA,IAAA4X,GAAAjY,EAAA9L,OAAA,KACA7P,KAAA,QAAA,iBACAb,MAAA,UAAA,OACAy0B,GAAA/jB,OAAA,UACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACA4zB,EAAA/jB,OAAA,QACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAA,KAAA,KAAA,QAGA,IAAAi0B,GAAAtY,EAAA9L,OAAA,KACA7P,KAAA,QAAA,mBACAb,MAAA,UAAA,OACA80B,GAAApkB,OAAA,UACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAi0B,EAAApkB,OAAA,QACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAA,KAAA,KAAA,QAeA,IAAAs0B,GAAA3Y,EAAA9L,OAAA,KACA7P,KAAA,QAAA,iBACAb,MAAA,UAAA,OACAm1B,GAAAzkB,OAAA,UACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAs0B,EAAAzkB,OAAA,QACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAA,KAAA,KAAA,QAGA,IAAA20B,GAAAhZ,EAAA9L,OAAA,KACA7P,KAAA,QAAA,eACAb,MAAA,UAAA,OACAw1B,GAAA9kB,OAAA,UACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACA20B,EAAA9kB,OAAA,QACA7P,KAAA,iBAAA,QACAA,KAAA,IAAA,GACAA,KAAA,KAAA,SAGA4b,EACA1N,GAAA,YAAA,WACA+lB,EAAA90B,MAAA,UAAA,MACAy0B,EAAAz0B,MAAA,UAAA,MAEAm1B,EAAAn1B,MAAA,UAAA,MACAw1B,EAAAx1B,MAAA,UAAA,QAGA+O,GAAA,WAAA,WACA+lB,EAAA90B,MAAA,UAAA,QACAy0B,EAAAz0B,MAAA,UAAA,QAEAm1B,EAAAn1B,MAAA,UAAA,QACAw1B,EAAAx1B,MAAA,UAAA,UAGA+O,GAAA,YAAAqlB,QO/9BA50B,EAAAP,UAAAqP,MAAA,WA6MA,QAAA0nB,GAAAhf,EAAAU,GACAlY,EAAA,eAAAgQ,KAAAwH,EAAAU,GAAAue,IAAA,KACAz2B,EAAA,WAAA02B,QACA12B,EAAA,WAAA6P,KAAA,WACA8mB,EAAAnf,EAAAU,GACAlY,EAAA,oBAAAgQ,KAAA,wJAAAwH,EAAAU,GAAAue,IAAA,qCAAAjf,EAAAU,GAAA0e,GAAA,yBAOA,QAAAD,GAAAE,EAAAh3B,GACA,GAAAi3B,MACAC,EAAA30B,KAAAmI,MAAAssB,EAAAh3B,GAAA+2B,IACAI,EAAA50B,KAAAmI,MAAAssB,EAAAh3B,GAAA42B,IAEAQ,YAAAC,EAAA,UAAAF,EAAAD,EAAAF,EAAAC,EAAAj3B,GACAs3B,EAAA,UAAAL,EAAA,GAGA,QAAAI,GAAAhwB,EAAA8vB,EAAAD,EAAAF,EAAAC,EAAAj3B,GACA,GAAAu3B,GAAA,smBACAC,EAAA,iEAAAD,EAAA,QAEA,KAAAE,EAAA,EAAAA,EAAAP,EAAAO,IACAR,EAAAvpB,KAAA8pB,EAIA,KAAAC,EAAA,EAAAA,EAAAN,EAAAM,IAAA,CAEA,GAAAC,GAAA,iEAAAH,EAAA,QACAp3B,GAAAkH,GAAAgK,OAAAqmB,GAEA,MAAAT,GAIA,QAAAK,GAAAjwB,EAAA4vB,EAAAj3B,GACAA,EAAAo3B,WAAAn3B,SACAE,EAAAkH,GAAAgK,OAAA4lB,EAAAj3B,IACAA,IACAs3B,EAAAjwB,EAAA4vB,EAAAj3B,IA6EA,QAAA23B,GAAAC,GACAz3B,EAAA,YACAkR,OAAA,KACA7P,KAAA,QAAA,SAEAq2B,KAAAv2B,GAAAiU,IAAAb,EAAA,SAAAojB,GACA,MAAAx2B,IAAAiU,IAAAuiB,EAAA,SAAAz2B,GACA,MAAAA,GAAA+V,EAAA/V,EAAA8W,OAGAjD,OAAA5T,GAAA0R,MAAAsF,SACA9E,QAAA,EAAAqkB,OACApkB,OAAA,EAAA1B,IAIAuD,OAAAhU,GAAA0R,MAAAyI,UAEAsc,iBAAA,EAAAz3B,GAAA,IAEA03B,QAAA12B,GAAA0R,MAAAyI,UACAhI,MAAAmkB,GAEAK,WAAAC,EAAAxmB,UAAA,UACAvH,KAAAuK,GACAzC,QACAZ,OAAA,KACA1Q,MAAA,OAAA,SAAAU,EAAArB,GACA,MAAAg4B,SAAAh4B,KAGAm4B,MAAAF,WAAAvmB,UAAA,QACAvH,KAAA,SAAA9I,GACA,MAAAA,KAEA4Q,QACAZ,OAAA,QACA1Q,OAAAy3B,OAAA,UAAAC,eAAA,QACA72B,KAAA,IAAA,SAAAH,GACA,MAAA6T,QAAA7T,EAAA8W,MAEA3W,KAAA,IAAA,SAAAH,EAAArB,GACA,MAAAsV,QAAAjU,EAAAuT,KAEApT,KAAA,SAAA,SAAAH,GACA,MAAAiU,QAAAgjB,cAEA92B,KAAA,QAAA,SAAAH,GACA,MAAA6T,QAAA7T,EAAA+V,KAhPA,IAAA,GApIAmhB,KACA3B,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAGAyB,IACA5B,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAGA0B,IACA7B,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAGA2B,IACA9B,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,EACAG,GAAA,KAGA4B,IACA/B,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAGA6B,IACAhC,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAEAH,IAAA,GACAG,GAAA,KAGAriB,IACAvK,OACA0uB,MAAA,IACApc,KAAA,SACAqc,MAAAN,IAEA/b,KAAA,WAEAtS,OACA0uB,MAAA,IACApc,KAAA,WACAqc,MAAAL,IAEAhc,KAAA,aAEAtS,OACA0uB,MAAA,IACApc,KAAA,yBACAqc,MAAAJ,IAEAjc,KAAA,sBAEAtS,OACA0uB,MAAA,IACApc,KAAA,uBACAqc,MAAAP,IAEA9b,KAAA,yBAEAtS,OACA0uB,MAAA,GACApc,KAAA,YACAqc,MAAAH,IAEAlc,KAAA,cAcAzc,EAAA,EAAAA,EAAA,EAAAA,IAAA,CACA,GAAA+4B,GAAA54B,EAAA,OACA44B,GAAA1nB,OAAA,OAAAqD,EAAA1U,GAAAmK,KAAA,GAAA0uB,MAAA,0BAAAnkB,EAAA1U,GAAAmK,KAAA,GAAAsS,KAAAjY,cAAA,2CACAu0B,EAAA1nB,OAAA,gCAAAqD,EAAA1U,GAAAmK,KAAA,GAAAsS,KAAAjY,cAAA,uBACAkQ,EAAA1U,GAAAmK,KAAA,GAAA2uB,MAAA,GAAAlC,IAAA,qEACAliB,EAAA1U,GAAAmK,KAAA,GAAA2uB,MAAA,GAAAlC,IAAA,2DACAliB,EAAA1U,GAAAmK,KAAA,GAAA2uB,MAAA,GAAAlC,IAAA,+DACAliB,EAAA1U,GAAAmK,KAAA,GAAA2uB,MAAA,GAAAlC,IAAA,gEACAz2B,EAAA,kBAAAkR,OAAA0nB,GAKA,GAAA/B,GAAAuB,EACAlgB,EAAA,CACAse,GAAAK,EAAA3e,GAEAlY,EAAA,kBAAAuP,GAAA,QAAA,WACA,GACAspB,GADAC,EAAA70B,SAAAjE,EAAA0K,MAAA2F,MAGA,QADArQ,EAAA,aAAAY,YAAA,yBACAk4B,GACA,IAAA,GACAD,EAAAT,CACA,MACA,KAAA,GACAS,EAAAR,CACA,MACA,KAAA,GACAQ,EAAAP,CACA,MACA,KAAA,GACAO,EAAAN,CACA,MACA,KAAA,GACAM,EAAAL,CACA,MACA,KAAA,GACAK,EAAAJ,EACAz4B,EAAA,aAAAY,YAAA,UAAAD,SAAA,yBACAX,EAAA,gBAAAW,SAAA,UAGAk2B,EAAAgC,EACArC,EAAAK,EAAA3e,KAIAlY,EAAA,aAAAuP,GAAA,QAAA,WACAvP,EAAA,aAAAY,YAAA,UACAZ,EAAA0K,MAAA/J,SAAA,UACAuX,EAAAjU,SAAAjE,EAAA0K,MAAA2F,OACAmmB,EAAAK,EAAA3e,EACA,IAAA6gB,EACA,QAAA7gB,GACA,IAAA,GACA6gB,EAAA,kBACA,MACA,KAAA,GACAA,EAAA,uBACA,MACA,KAAA,GACAA,EAAA,uBACA,MACA,KAAA,GACAA,EAAA,uBAGA/4B,EAAA,gBAAAgQ,KAAA+oB,EAAA10B,eACArE,EAAA,iBAAAgQ,KAAA+oB,IAuDA,IAAAnnB,GAAA,OACAzR,EAAA,EAIAoU,GAAAA,EAAA8H,IAAA,SAAAnb,GACA,MAAAA,GAAA8I,KAAAqS,IAAA,SAAA2c,EAAAn5B,GAGA,OACA4U,EAAAukB,EAAAN,MACAnlB,EAAAylB,EAAA1c,UAIA2c,MAAA93B,GAAA+3B,OAAAD,QAEAA,MAAA1kB,EAGA,IAiBAkjB,GAjBAljB,EAAAA,EAAA8H,IAAA,SAAAsb,GACA,MAAAA,GAAAtb,IAAA,SAAAnb,GAEA,OACA+V,EAAA/V,EAAAuT,EACA0kB,EAAAj4B,EAAAqS,EACAkB,EAAAvT,EAAA+V,EACAe,GAAA9W,EAAAyW,QAIAogB,EAAA52B,GAAAC,OAAA,QACA8P,OAAA,OACA7P,KAAA,KAAA,WACAA,KAAA,QAAAuQ,GACAvQ,KAAA,SAAAlB,GACAob,GAAA,UAAA,UAEAkc,IAAAlc,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,IACAic,EAAAC,GACAz3B,EAAA,kBAAAuP,GAAA,QAAA,WACAvP,EAAA,YAAA02B,QACAe,GAAAlc,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,IACAvb,EAAA,kBAAAY,YAAA,UACAZ,EAAA0K,MAAA/J,SAAA,UACA82B,EAAAz3B,EAAA0K,MAAA2F,OAAAkL,EAAA,GACAic,EAAAC,EACA,IAAA53B,GAAAG,EAAA0K,MAAA2F,MACAnP,EAAAqT,EAAAvU,EAAA0K,MAAA2F,OAAA,EACAtM,YAAAgR,OAAA7T,EAAA8W,IAAA,KAAAnY,EAAA,IACAkE,WAAA5C,GAAAC,OAAAsJ,MAAArJ,KAAA,MAAA8T,OAAAgjB,WACAvwB,SAAAC,IAAA3G,GACA0G,QAAAC,IAAA,qBAAA3G,EAAAi4B,GAEA,0BAAAj4B,EAAAi4B,EACAC,eAAAl4B,EAAAi4B,EAAA,+DACA,wBAAAj4B,EAAAi4B,EACAC,eAAAl4B,EAAAi4B,EAAA90B,cAAA,+DAEA+0B,eAAAl4B,EAAAi4B,EAGAvxB,QAAAC,IAAAuxB,gBACAp5B,EAAA,mBAAAgQ,KAAAopB,gBACAp5B,EAAA,UAAAgQ,KAAA9O,EAAA+V,OCjUAjX,EAAAP,UAAAqP,MAAA,WAkEA,QAAAuqB,iBAAAC,OAAA3uB,OACA3K,EAAA,0BAAAY,YAAA,UACAZ,EAAA,IAAAs5B,QAAA34B,SAAA,UACAX,EAAA,WAAA02B,QACA6C,iBAAAC,KAAAF,SACAt5B,EAAA,iBAAAgQ,KAAAypB,WAAA9uB,QAKA,QAAA4uB,kBAAAG,GAEA,GAAAzC,KACA,IAAAyC,GAAAC,MACA,GAAAC,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAEA,IAAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAEA,KAAA/5B,EAAA,EAAAA,EAAA,EAAAA,IAAA,CACA,GAAAg6B,GAAAz3B,KAAAmI,MAAAmvB,EAAA75B,GAAA,GAEAi6B,mBAAAC,iBAAA,UAAAF,EAAAH,EAAAzC,EAAA2C,GAEAI,gBAAA,UAAAF,kBAAA,GAGA,QAAAE,iBAAA9yB,EAAA+vB,EAAAp3B,GACAA,EAAAo3B,EAAAn3B,SACAE,EAAAkH,GAAAgK,OAAA+lB,EAAAp3B,IACAA,IAGAm6B,gBAAA9yB,EAAA+vB,EAAAp3B,IAMA,QAAAk6B,kBAAA7yB,EAAA+yB,EAAAP,EAAAzC,EAAA2C,GACA,IAAAtC,EAAA,EAAAA,EAAA2C,EAAA3C,IAAA,CACA,GAAA4C,GAAA,gCAAAN,EAAA/5B,GAAA,eAAA65B,EAAA75B,GAAA,GAAA,uoBAKAo3B,GAAA1pB,KAAA2sB,GAGA,MAAAjD,GAhHA,GAAAmB,gBACA,EAAA,IACA,KAAA,KACA,MAAA,KACA,MAAA,IACA,KAAA,KACA,EAAA,IAEAC,SACA,EAAA,IACA,KAAA,KACA,MAAA,KACA,MAAA,KACA,KAAA,KACA,EAAA,IAGAsB,QACA,IAAA,KACA,IAAA,KACA,IAAA,KACA,IAAA,KACA,IAAA,IACA,IAAA,IAMAF,YACA,+MAAArB,aAAA,GAAA,GAAA,kCAAAA,aAAA,GAAA,GAAA,0DAAAA,aAAA,GAAA,GAAA,kCAAAA,aAAA,GAAA,GAAA,sBACA,iMAAAC,OAAA,GAAA,GAAA,kCAAAA,OAAA,GAAA,GAAA,0DAAAA,OAAA,GAAA,GAAA,kCAAAA,OAAA,GAAA,GAAA,sBACA,yOAAAsB,MAAA,GAAA,GAAA,qCAAAA,MAAA,GAAA,GAAA,qCAAAA,MAAA,GAAA,GAAA,6DAAAA,MAAA,GAAA,GAAA,qCAAAA,MAAA,GAAA,GAAA,qCAAAA,MAAA,GAAA,GAAA,uBAIAD,YAAAtB,aACAztB,MACA2uB,MAGAC,kBAAAnB,cACAp4B,EAAA,iBAAAgQ,KAAAypB,WAAA,IACAz5B,EAAA,iBAAAW,SAAA,UAGAX,EAAA,mBAAA4J,MAAA,WACAuwB,QAAAn6B,EAAA0K,MAAAV,KAAA,UAEA,SAAAmwB,QAAAC,OAAA,EAAA,UAAAD,QAAAC,OAAA,GAAAD,QAAA,kBAAAC,OAAA,GACAxyB,QAAAC,IAAAuyB,QACAf,gBAAAc,QAAAC,UAKAp6B,EAAA,eAAA4J,MAAA,WACAuwB,QAAAn6B,EAAA0K,MAAArJ,KAAA,MACA+4B,OAAAZ,KAAAx5B,EAAA0K,MAAA2F,OAEAgpB,gBAAAc,QAAAC,YC9DA,WA0NA,QAAAphB,KACApH,EAAAnS,SAAAiQ,cAAA,kBAAAuG,YAAA,IACA9V,EAAA,IACA+V,EAAA,GAEAmkB,EACAh5B,KAAA,QAAAuQ,EAAA,KACAvQ,KAAA,SAAAlB,EAAA,IAKA,QAAAm6B,GAAAtwB,EAAAuwB,GAEA,MAAAvwB,GAAAwwB,KAAA,SAAAltB,EAAAgqB,GACA,MAAAA,GAAAiD,GAAAjtB,EAAAitB,KAOA,QAAAE,GAAAzwB,EAAAuwB,GAEAG,EAAA7uB,KAAA8uB,EAAAJ,IACAl5B,KAAA,QAAA,aACAb,MAAA,cAAA,OACAa,KAAA,IAAA,IACAA,KAAA,IAAAuQ,EAAAsE,EAAAA,EAEA,IAAAd,GAAAjU,GAAAiU,IAAApL,EAAA,SAAA9I,GACA,OAAAA,EAAAq5B,IAGAxlB,QAAA5T,GAAA0R,MAAAsF,SACA9E,QAAA,EAAA+B,IACA9B,OAAA,EAAA1B,IAEAuD,OAAAhU,GAAA0R,MAAAyI,UACAjI,OAAAlS,GAAAmS,MAAAtJ,EAAAlK,SACA86B,YAAA,GAAAz6B,GAAA,GAKA,IAAA06B,GAAAR,EAAA9oB,UAAA,YACAvH,KAAAA,EAAA,SAAA9I,GACA,MAAAA,GAAA45B,YAKAC,GACA15B,KAAA,QAAA,cACAA,KAAA,YAAA,SAAAH,EAAArB,GACA,MAAA,cAAA+R,EAAA,IAAA,KAAAzR,EAAA,EAAA+V,EAAA,GAAArW,GAAA,MASAg7B,EAAA/oB,QACAZ,OAAA,QACA7P,KAAA,QAAA,OAIAw5B,EAAAG,OACA5c,aACA/U,SAAA,KACA4xB,KAAA,OACA55B,KAAA,QAAA,GACA65B,SAIAL,EACAzc,aACA/U,SAAA,KACA4xB,KAAA,QACA55B,KAAA,QAAA,SAAAH,GACA,MAAA6T,SAAA7T,EAAAq5B,MAEAl5B,KAAA,SAAA8T,OAAAgjB,aACA92B,KAAA,YAAA,SAAAH,EAAArB,GACA,MAAA,cAAA,EAAAqW,EAAAf,OAAAtV,IAAA,MAEAwB,KAAA,QAAA,SAAAH,EAAArB,GACA,MAAA,SAAAqB,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,WAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,WAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,SAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,WAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,SAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,WAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,SAAA3b,EAAAi6B,QAAA,aAAAj6B,EAAA2b,IACA,yBACA,WAAA3b,EAAAi6B,OACA,yBACA,SAAAj6B,EAAAi6B,OACA,yBADA,QAmBA,IAAAC,GAAAf,EAAA9oB,UAAA,uBACAvH,KAAAA,EAAA,SAAA9I,GAEA,MAAAA,GAAA45B,aAIAO,EAAAhB,EACA9oB,UAAA,iBAEAvH,KAAAA,EAAA,SAAA9I,GACA,MAAAA,GAAA45B,YAMAO,GAAAvpB,QACAZ,OAAA,QACA7P,KAAA,QAAA,SAAAH,EAAArB,GACA,MAAA,YAAAqB,EAAA2b,IACA,qBAEA,YAAA3b,EAAA2b,IACA,qBAGA;GAGAwe,EAAAL,OACAE,SAEAE,EAAAtpB,QACAZ,OAAA,QACA7P,KAAA,QAAA,SAAAH,EAAArB,GACA,MAAA,YAAAqB,EAAA2b,IACA,2BAEA,YAAA3b,EAAA2b,IACA,2BAGA,mBAGAue,EAAAJ,OACAE,SAEAI,aAAAn6B,GAAAoR,OAAA,OACAgpB,iBAAAp6B,GAAAoR,OAAA,OACAipB,WAAAr6B,GAAAoR,OAAA,OAEA6oB,EAAAhd,aACA/U,SAAA,KACAhI,KAAA,YAAA,SAAAH,EAAArB,GAGA,MAAA,cAAAkV,QAAA7T,EAAAq5B,IAAArkB,GAAA,KAAAf,OAAAtV,GAAA,GAAA,MAEAgM,KAAA,SAAA3K,GAEA,MAAA,sBAAAq5B,GAAA,OAAAr5B,EAAA2b,IACA,MAEA,sBAAA0d,GAAA,OAAAr5B,EAAA2b,IACA0e,iBAAAr6B,EAAAq5B,IAAA,IAEA,sBAAAA,EACAe,aAAAp6B,EAAAq5B,IAEAiB,WAAAt6B,EAAAq5B,MAGAl5B,KAAA,KAAA,OACAA,KAAA,KAAA,OAEAg6B,EAAAjd,aACA/U,SAAA,KACAhI,KAAA,YAAA,SAAAH,EAAArB,GAEA,MAAA,gBAAAsV,OAAAtV,GAAA,GAAA,MAEAgM,KAAA,SAAA3K,GACA,MAAAA,GAAA2b,MAEAxb,KAAA,KAAA,OACAA,KAAA,KAAA,QAMA,QAAAs5B,GAAAjpB,GACA,GAAA+pB,IACAC,mBAAA,oDACAC,UAAA,wDACAC,mBAAA,oDAEA,OAAAH,GAAA/pB,GA3bA,GAAAE,GAAA,IACAzR,EAAA,IACA+V,EAAA,GAOAmkB,EAAAl5B,GAAAC,OAAA,kBAAA8P,OAAA,OACA7P,KAAA,QAAAuQ,EAAA,KACAvQ,KAAA,SAAAlB,EAAA,GACAk6B,GAAAnpB,OAAA,QACA7P,KAAA,QAAA,QACAA,KAAA,SAAA,QACAA,KAAA,OAAA,OAEA,IAAAw6B,GAAA16B,GAAA0R,MAAAyI,UACAhI,OAAA,WAAA,aACAwoB,EAAA36B,GAAA0R,MAAAyI,UACAhI,OAAA,OAAA,WASAonB,GAPAL,EAAAnpB,OAAA,QACArF,KAAA,OACAxK,KAAA,QAAA,oBACAb,MAAA,cAAA,SACAa,KAAA,IAAA,IACAA,KAAA,IAAA,IAEAg5B,EAAAnpB,OAAA,SAEA6pB,EAAAV,EAAA9oB,UAAA,eACAvH,MAAA,OAAA,WACA8H,QAAAZ,OAAA,IAEA6pB,GAAA7pB,OAAA,QACA7P,KAAA,IAAA,GACAA,KAAA,QAAA,IACAA,KAAA,SAAA,IACAA,KAAA,QAAAw6B,GAKAd,EAAA7pB,OAAA,QACA7P,KAAA,IAAA,IACAA,KAAA,IAAA,GACAA,KAAA,KAAA,QACAb,MAAA,cAAA,SACAqL,KAAAiwB,GAEA36B,GAAAmX,IAAA,uBAAA,SAAA5K,EAAA1D,GAEA,GAAA+xB,GAAA,qBAEAxnB,EAAA+lB,EAAAtwB,EAAA+xB,EAMA/iB,KACAyhB,EAAAlmB,EAAAwnB,GAEAp8B,OAAA8J,iBAAA,SAAA,WACAuP,IACAyhB,EAAAlmB,EAAAwnB,KAGA56B,GAAAC,OAAA,QAAAE,QAAA,YAAA,GACAtB,EAAA,QAAAW,SAAA,UAEAQ,GAAAC,OAAA,QACAmO,GAAA,QAAA,SAAArO,EAAArB,GACAk8B,EAAA,qBACAxnB,EAAA+lB,EAAAtwB,EAAA+xB,GACAtB,EAAAlmB,EAAAwnB,EACA,IAAAC,GAAA76B,GAAAC,OAAAsJ,KACAvJ,IAAAoQ,UAAA,uBAAAjQ,QAAA,YAAA,GACAtB,EAAA,uBAAAY,YAAA,UAEAO,GAAAoQ,UAAA,cAAAjQ,QAAA,YAAA,GACAtB,EAAA,cAAAY,YAAA,UAEAo7B,EAAA16B,QAAA,YAAA,GACAtB,EAAA0K,MAAA/J,SAAA,UAEAQ,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,KAEAH,GAAAC,OAAA,OACAmO,GAAA,QAAA,SAAArO,EAAArB,GACAk8B,EAAA,YACAxnB,EAAA+lB,EAAAtwB,EAAA+xB,GACAtB,EAAAlmB,EAAAwnB,EACA,IAAAC,GAAA76B,GAAAC,OAAAsJ,KACAvJ,IAAAoQ,UAAA,uBAAAjQ,QAAA,YAAA,GACAtB,EAAA,uBAAAY,YAAA,UAEAO,GAAAoQ,UAAA,cAAAjQ,QAAA,YAAA,GACAtB,EAAA,cAAAY,YAAA,UAEAo7B,EAAA16B,QAAA,YAAA,GACAtB,EAAA0K,MAAA/J,SAAA,UAEAQ,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,KAEAH,GAAAC,OAAA,QACAmO,GAAA,QAAA,SAAArO,EAAArB,GACAk8B,EAAA,qBACAxnB,EAAA+lB,EAAAtwB,EAAA+xB,GACAtB,EAAAlmB,EAAAwnB,EACA,IAAAC,GAAA76B,GAAAC,OAAAsJ,KACAvJ,IAAAoQ,UAAA,uBAAAjQ,QAAA,YAAA,GACAtB,EAAA,uBAAAY,YAAA,UAEAO,GAAAoQ,UAAA,cAAAjQ,QAAA,YAAA,GACAtB,EAAA,cAAAY,YAAA,UAEAo7B,EAAA16B,QAAA,YAAA,GACAtB,EAAA0K,MAAA/J,SAAA,UAEAQ,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,KAGAH,GAAAC,OAAA,cACAmO,GAAA,QAAA,SAAArO,EAAArB,GAIA,GAAAm8B,GAAA76B,GAAAC,OAAAsJ,KAIAsxB,GAAA16B,QAAA,YAAA,GACAtB,EAAA0K,MAAA/J,SAAA,UAEAQ,GAAAoQ,UAAA,iBACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,iBACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,GAEAH,GAAAoQ,UAAA,2BACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,2BACAjQ,QAAA,eAAA,GAEAH,GAAAoQ,UAAA,aACAjQ,QAAA,iBAAA,GACAH,GAAAoQ,UAAA,mBACAjQ,QAAA,iBAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,iBAAA,GACAA,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,KAGAH,GAAAC,OAAA,cACAmO,GAAA,QAAA,SAAArO,EAAArB,GAIA,GAAAm8B,GAAA76B,GAAAC,OAAAsJ,KAIAsxB,GAAA16B,QAAA,YAAA,GACAtB,EAAA0K,MAAA/J,SAAA,UAEAQ,GAAAoQ,UAAA,iBACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,iBACAjQ,QAAA,eAAA,GAGAH,GAAAoQ,UAAA,2BACAjQ,QAAA,eAAA,GACAH,GAAAoQ,UAAA,2BACAjQ,QAAA,eAAA,GAEAH,GAAAoQ,UAAA,aACAjQ,QAAA,iBAAA,GACAH,GAAAoQ,UAAA,mBACAjQ,QAAA,iBAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,iBAAA,GACAA,QAAA,eAAA,GACAH,GAAAoQ,UAAA,cACAjQ,QAAA,eAAA,UCzMAtB,EAAAP,UAAAqP,MAAA,WA6MA,QAAAoL,KAGA,GAAAC,IACA,WAEAC,GACA,sBAEAJ,GAAA3Y,KAAA,QAAA,cAAAA,KAAA,YAAA,cAAAuQ,EAAA,GAAAsE,EAAAG,OAAA,MACA,IAAAgE,GAAA,EAKAF,GAAApJ,QAAA,SAAAuJ,EAAAza,GACA0a,EAAAP,EAAA9I,OAAA,KACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,YAAA,eAAAxB,EAAAwa,EAAA,KAEAE,EAAArJ,OAAA,YACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,KAAA,KACAA,KAAA,KAAA,IACAA,KAAA,KAAA,KACAA,KAAA,KAAA,IACAb,MAAA,SAAAga,EAAA3a,IACAW,MAAA,mBAAAia,EAAA5a,IACAW,MAAA,eAAAka,EAAA7a,IAEA0a,EAAArJ,OAAA,QACA7P,KAAA,QAAA,eAAAiZ,GACAjZ,KAAA,IAAA,IACAA,KAAA,IAAA,IACAwK,KAAAuO,EAAAva,MAgKA,QAAAo8B,GAAApwB,EAAA+F,GACA/F,EAAAgE,KAAA,WAUA,IATA,GAEAqsB,GAFArwB,EAAA1K,GAAAC,OAAAsJ,MACA6F,EAAA1E,EAAAA,OAAAhK,MAAA,OAAAs6B,UAEA9jB,KACA+jB,EAAA,EACA/hB,EAAA,IACA5F,EAAA5I,EAAAxK,KAAA,KACAg7B,EAAAt4B,WAAA8H,EAAAxK,KAAA,OACAi7B,EAAAzwB,EAAAA,KAAA,MAAAqF,OAAA,SAAA7P,KAAA,IAAA,GAAAA,KAAA,IAAAoT,GAAApT,KAAA,KAAAg7B,EAAA,MACAH,EAAA3rB,EAAAvD,OACAqL,EAAA9K,KAAA2uB,GACAI,EAAAzwB,KAAAwM,EAAA1H,KAAA,MACA2rB,EAAA9pB,OAAA+pB,wBAAA3qB,IACAyG,EAAArL,MACAsvB,EAAAzwB,KAAAwM,EAAA1H,KAAA,MACA0H,GAAA6jB,GACAI,EAAAzwB,EAAAqF,OAAA,SAAA7P,KAAA,IAAA,GAAAA,KAAA,IAAAoT,GAAApT,KAAA,OAAA+6B,EAAA/hB,EAAAgiB,EAAA,MAAAxwB,KAAAqwB,MAOA,QAAA9lB,KACA4C,IACAgB,EAAA3Y,KAAA,QAAA,cAAAA,KAAA,YAAA,cAAAuQ,EAAA,GAAAsE,EAAAG,OAAA,OACAmmB,EAAA5E,iBAAA,EAAA5f,EAAAmgB,cAEAngB,EAAA4f,iBAAA,EAAAhmB,GAAA,IACA6C,EAAAnB,OAAAnT,EAAA,IAEAs8B,EAAA5pB,MAAAmF,GACA0kB,EAAA7pB,MAAA4B,GAEAkF,EAAAtY,KAAA,QAAAuQ,EAAAsE,EAAAC,KAAAD,EAAAG,OAAAhV,KAAA,SAAAlB,EAAA+V,EAAA7V,IAAA6V,EAAAI,QAEAqmB,EACAt7B,KAAA,YAAA,eAAAlB,EAAA,KACA+E,KAAAu3B,GACAlrB,UAAA,cACArM,KAAA+2B,EAAAjkB,EAAAmgB,aAEAyE,EAAA13B,KAAAw3B,GACAG,EAAAx7B,KAAA,KAAAlB,EAAA,GACA28B,EAAAz7B,KAAA,IAAAuQ,EAAA,IACAmrB,EAAA17B,KAAA,IAAAuQ,EAAA,IAEAorB,EAAA37B,KAAA,YAAA,SAAAH,GACA,MAAA,cAAA8W,EAAA9W,EAAA+7B,QAAA,IAAA,QAGApC,EAAAx5B,KAAA,QAAAm7B,EAAArE,aACA92B,KAAA,IAAA,SAAAH,GAEA,MAAAs7B,GAAAt7B,EAAAob,MAAA,KAEAjb,KAAA,IAAA,SAAAH,GAEA,MAAAuT,GAAAvT,EAAAyJ,SAEAtJ,KAAA,QAAA,SAAAH,GACA,MAAAA,GAAAob,OAEAjb,KAAA,SAAA,SAAAH,GACA,MAAAf,GAAAsU,EAAAvT,EAAAyJ,SAIAuyB,EACAjmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,OAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAC,EACArmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,OAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAI,EACAxmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAK,EACAzmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAM,EACA1mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAO,EACA3mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAQ,EACA5mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,YAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAS,EACA7mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,YAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UAEAU,EACA18B,KAAA,IAAA,SAAAH,GACA,MAAAg8B,IAAAh8B,MAEA88B,EACA38B,KAAA,IAAA,SAAAH,GACA,MAAAo8B,IAAAp8B,MAEA+8B,EACA58B,KAAA,IAAA,SAAAH,GACA,MAAAu8B,IAAAv8B,MAEAg9B,EACA78B,KAAA,IAAA,SAAAH,GACA,MAAAw8B,IAAAx8B,MAEAi9B,EACA98B,KAAA,IAAA,SAAAH,GACA,MAAAy8B,IAAAz8B,MAEAk9B,EACA/8B,KAAA,IAAA,SAAAH,GACA,MAAA08B,IAAA18B,MAEAm9B,EACAh9B,KAAA,IAAA,SAAAH,GACA,MAAA28B,IAAA38B,MAEAo9B,EACAj9B,KAAA,IAAA,SAAAH,GACA,MAAA48B,IAAA58B,MAKA,QAAA8X,KACA,GAAAsE,GAAA7d,SAAAiQ,cAAA,yBAAAuG,WACAC,IACA7V,IAAA,GACAgW,MAAA,GACAC,OAAA,GACAH,KAAA,IAEAvE,EAAA0L,EAAApH,EAAAC,KAAAD,EAAAG,MAEAiH,EAAA,KACAnd,EAAA,IAAA+V,EAAA7V,IAAA6V,EAAAI,OACAioB,SAAA,IACAC,QAAA,KAEAr+B,EAAA,IAAA+V,EAAA7V,IAAA6V,EAAAI,OACAioB,SAAA,KACAC,QAAA,IAhmBAjqB,UACA0oB,OAAA,MACAwB,KAAA,KACAC,KAAA,OAEAzB,OAAA,qBACAwB,KAAA,KACAC,KAAA,OAEAzB,OAAA,qBACAwB,KAAA,KACAC,KAAA,OAEAzB,OAAA,WACAwB,KAAA,KACAC,KAAA,MAGA,IAGA9sB,GAAAzR,EAHAob,EAAApa,GAAA0R,MAAAyI,UACAhI,OAAA,qBAAA,YAEA4C,IAEA8C,IAEA,IAqBA+kB,GACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EA5BAtmB,EAAA7W,GAAA0R,MAAAyI,UAAAsc,iBAAA,EAAAhmB,GAAA,IAEA4qB,EAAAr7B,GAAA0R,MAAAyI,UAAAsf,YAAA,EAAAhpB,GAAA,GAEA6C,EAAAtT,GAAA0R,MAAAsF,SACA7E,OAAAnT,EAAA,IAEAg9B,GAAA,KAAA,GAAA,IAAA,MACAC,GAAA,KAAA,KAAA,KAAA,MACAG,GAAA,KAAA,GAAA,IAAA,MACAC,GAAA,KAAA,GAAA,KAAA,MAEAN,EAAA/7B,GAAAmW,IAAAqnB,OACArB,EAAAn8B,GAAAmW,IAAAqnB,OACAlB,EAAAt8B,GAAAmW,IAAAqnB,OACAjB,EAAAv8B,GAAAmW,IAAAqnB,OACAhB,EAAAx8B,GAAAmW,IAAAqnB,OACAf,EAAAz8B,GAAAmW,IAAAqnB,OACAd,EAAA18B,GAAAmW,IAAAqnB,OACAb,EAAA38B,GAAAmW,IAAAqnB,OAWAlC,EAAAt7B,GAAAmW,IAAAc,OACAvF,MAAAmF,GACAxB,OAAA,UAEAkmB,EAAAv7B,GAAAmW,IAAAc,OACAvF,MAAA4B,GACA+B,OAAA,QACAE,WAAAvV,GAAAoR,OAAA,QAEAqsB,EAAAz9B,GAAAC,OAAA,yBAAA8P,OAAA,OAAA5P,QAAA,sBAAA,GAGAqY,EAAAxY,GAAAC,OAAA,yBAAA8P,OAAA,OACA2tB,EAAAllB,EACAzI,OAAA,KACA7P,KAAA,YAAA,aAAA6U,EAAAC,KAAA,IAAAD,EAAA7V,IAAA,KAGAoB,EAAAN,GAAAmT,KAAAC,QAAA,IAAA4H,OAAA,SAAAzK,GACA,MAAA,WAAAA,GAGA6C,SAAAxD,QAAA,SAAA7P,GACAA,EAAA8Q,OAAAvQ,EAAA4a,IAAA,SAAAC,GACA,OACAA,KAAAA,EACA3R,OAAAzJ,EAAAob,QAKAtE,EAAA3E,OAAAkB,QAAA8H,IAAA,SAAAnb,GACA,MAAAA,GAAA+7B,UAEAT,EAAAnpB,OAAA5R,GAAAm2B,iBAAA,EAAA5f,EAAAmgB,cACA1jB,EAAApB,QAAA,EAAAlS,GAAAiU,IAAAb,QAAA,SAAArT,GACA,MAAAC,IAAAiU,IAAAlU,EAAA8Q,OAAA,SAAA9Q,GACA,MAAAA,GAAAyJ,WAIA,IAAAgyB,GAAAkC,EAAA3tB,OAAA,KACA7P,KAAA,QAAA,cACAA,KAAA,YAAA,eAAAlB,EAAA,KAEAy8B,EAAAiC,EAAA3tB,OAAA,KACA7P,KAAA,QAAA,cAEAw7B,EAAAD,EAAA1rB,OAAA,QACA7P,KAAA,KAAA,IACAA,KAAA,KAAA,SACAA,KAAA,QAAA,oBACAwK,KAAA,kCAEAmxB,EAAA6B,EAAAttB,UAAA,QACAvH,KAAAuK,SACAzC,QAAAZ,OAAA,KACA7P,KAAA,QAAA,QACAA,KAAA,YAAA,SAAAH,GACA,MAAA,cAAA8W,EAAA9W,EAAA+7B,QAAA,IAAA,QAIApC,EAAAmC,EAAAzrB,UAAA,QACAvH,KAAA,SAAA9I,GACA,MAAAA,GAAA8Q,SAEAF,QAAAZ,OAAA,OAEA2pB,GACAx5B,KAAA,QAAAm7B,EAAArE,aACA92B,KAAA,IAAA,SAAAH,GACA,MAAAs7B,GAAAt7B,EAAAob,MAAA,IAEAjb,KAAA,IAAA,SAAAH,GAEA,MAAAuT,GAAAvT,EAAAyJ,SAEAtJ,KAAA,QAAA,SAAAH,GACA,MAAAA,GAAAob,OAEAjb,KAAA,SAAA,SAAAH,GAEA,MAAAf,GAAAsU,EAAAvT,EAAAyJ,SAEAnK,MAAA,OAAA,SAAAU,GAEA,MAAAqa,GAAAra,EAAAob,QAQA0gB,EACAztB,GAAA,YAAA,SAAArO,GACA09B,EAAAp+B,MAAA,OAAAW,GAAA6N,MAAA+J,MAAA/Y,EAAA,yBAAAC,SAAAkW,KAAA,MACAyoB,EAAAp+B,MAAA,MAAAW,GAAA6N,MAAA8J,MAAA9Y,EAAA,yBAAAC,SAAAI,IAAA,MACAu+B,EAAAt9B,QAAA,UAAA,EACA,IAEAw9B,IAFA39B,GAAA6N,MAAA+J,MACA5X,GAAA6N,MAAA8J,MACArZ,SAAAC,iBAAA,UACAq/B,GAAAD,EAAAh/B,OACAi/B,GAAA,EACAC,YAAAF,EAAAC,GAAAE,SAEAL,EAAA5uB,KAAA,SAAAgvB,YAAA,MAAA,aAIAhC,EACAztB,GAAA,WAAA,SAAArO,GACA09B,EAAAt9B,QAAA,UAAA,IAKA,IAAA49B,GAAAL,EAAAttB,UAAA,eACAvH,KAAAvI,EAAAyJ,SACA4G,QAAAZ,OAAA,KACA7P,KAAA,QAAA,cACAA,KAAA,YAAA,SAAAH,EAAArB,GACA,MAAA,eAAA,GAAAA,EAAA,MAGAi9B,EAAAoC,EAAAhuB,OAAA,QACA7P,KAAA,IAAAuQ,EAAA,IACAvQ,KAAA,QAAA,IACAA,KAAA,SAAA,IACAb,MAAA,OAAA+a,GAGAwhB,EAAAmC,EAAAhuB,OAAA,QACA7P,KAAA,IAAAuQ,EAAA,IACAvQ,KAAA,IAAA,GACAA,KAAA,KAAA,SACAb,MAAA,cAAA,OACAqL,KAAA,SAAA3K,GACA,MAAAA,KAGA8Y,EAAAL,EAAAzI,OAAA,KACAqJ,EAAAP,EAAA9I,OAAA,KACAsJ,GAAA,WACAE,GAAA,SACAD,GAAA,UA0CAyiB,GACAjmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,OAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAC,EACArmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,OAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAI,EACAxmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAK,EACAzmB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAM,EACA1mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAO,EACA3mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,sBAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UACAQ,EACA5mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,YAAAwkB,EAAArE,YAAA,IAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA0oB,EAAA,MAEAtlB,GAAA,SAAA3W,GACA,MAAAuT,GAAA2oB,EAAA,MAEAC,YAAA,UACAS,EACA7mB,EAAA,SAAA/V,GACA,MAAA8W,GAAA,YAAAwkB,EAAArE,YAAA,EAAAqE,EAAArE,cAEAxgB,GAAA,SAAAzW,GACA,MAAAuT,GAAA8oB,EAAA,MAEA1lB,GAAA,SAAA3W,GACA,MAAAuT,GAAA+oB,EAAA,MAEAH,YAAA,UAIAU,EAAAc,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACAypB,EAAAa,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA0pB,EAAAY,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA2pB,EAAAW,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA4pB,EAAAU,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA6pB,EAAAS,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA8pB,EAAAQ,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SACA+pB,EAAAO,EAAA3tB,OAAA,KAAAK,UAAA,QAAAvH,KAAAuK,SAGAwpB,EAAAjsB,QAAAZ,OAAA,QACA8sB,EAAAlsB,QAAAZ,OAAA,QACA+sB,EAAAnsB,QAAAZ,OAAA,QACAgtB,EAAApsB,QAAAZ,OAAA,QACAitB,EAAArsB,QAAAZ,OAAA,QACAktB,EAAAtsB,QAAAZ,OAAA,QACAmtB,EAAAvsB,QAAAZ,OAAA,QACAotB,EAAAxsB,QAAAZ,OAAA,QAGA6sB,EACA18B,KAAA,IAAA,SAAAH,GACA,MAAAg8B,IAAAh8B,MAEAG,KAAA,QAAA,mBACA28B,EACA38B,KAAA,IAAA,SAAAH,GACA,MAAAo8B,IAAAp8B,MAEAG,KAAA,QAAA,mBACA48B,EACA58B,KAAA,IAAA,SAAAH,GACA,MAAAu8B,IAAAv8B,MAEAG,KAAA,QAAA,mBACA68B,EACA78B,KAAA,IAAA,SAAAH,GACA,MAAAw8B,IAAAx8B,MAEAG,KAAA,QAAA,mBACA88B,EACA98B,KAAA,IAAA,SAAAH,GACA,MAAAy8B,IAAAz8B,MAEAG,KAAA,QAAA,mBACA+8B,EACA/8B,KAAA,IAAA,SAAAH,GACA,MAAA08B,IAAA18B,MAEAG,KAAA,QAAA,mBACAg9B,EACAh9B,KAAA,IAAA,SAAAH,GACA,MAAA28B,IAAA38B,MAEAG,KAAA,QAAA,mBACAi9B,EACAj9B,KAAA,IAAA,SAAAH,GACA,MAAA48B,IAAA58B,MAEAG,KAAA,QAAA,mBA2NA+U,IACA8D,IACAva,OAAA8J,iBAAA,SAAA2M,ITxmBA,IAAA/N,iBACA82B,KAAA,OACAC,MAAA,QACAC,mBAAA,qBACAC,KAAA,OACAC,QAAA,UACAC,SAAA,kBACAC,OAAA,SACAC,QAAA,UAmtBA,IAAAl+B,cACAwG,QAAA,UACAY,mBAAA,EACAC,aAAA,GACAf,WAAA,aAIA,GAAAtG,cACAwG,QAAA,WACAY,mBAAA,EACAC,aAAA,GACAf,WAAA,mBAKA,GAAAtG,cACAwG,QAAA,eACAY,mBAAA,EACAC,aAAA,GACAf,WAAA,gBACAH,OAAA,IAGA,GAAAnG,cACAwG,QAAA,QACAY,mBAAA,EACAC,aAAA,GACAf,WAAA,UAIA,GAAAtG,cACAwG,QAAA,MACAY,mBAAA,EACAC,aAAA,GACAf,WAAA","file":"main.js","sourcesContent":["// Create HTML5 elements for IE\r\n\r\ndocument.createElement(\"article\");\r\ndocument.createElement(\"section\");\r\n\r\nvar speed = -80;\r\nparallax(speed);\r\n\r\nfunction parallax(speed) {\r\n\r\n    var parallax = document.querySelectorAll(\".parallax\");\r\n    // console.log(parallax[0]);\r\n\r\n    window.onscroll = function() {\r\n        for (var i = 0; i < parallax.length; i++) {\r\n\r\n            //var position = $(el).position();\r\n            // var offset = [];\r\n            var $offset = $(parallax[i]).offset();\r\n            //console.log(offset);\r\n            var $windowHeight = window.height;\r\n            var $windowYOffset = window.pageYOffset / $offset.top;\r\n            // $windowYOffset[0] = 0;\r\n            //       console.log($windowYOffset);\r\n            //console.log('windowYOffset: pageYOffset (' + window.pageYOffset + ') / ( window.height (' + window.height + ') - offset.top ( ' + offset.top + ' ) = ' + windowYOffset);\r\n            // console.log(el+\",\"+i);\r\n\r\n            var extraY = [0, -10, -60, -40, 0, -20];\r\n\r\n            var elBackgrounPos = [];\r\n\r\n            elBackgrounPos[i] = \"50% \" + (extraY[i] + $windowYOffset * speed) + \"%\";\r\n\r\n            //console.log(elBackgrounPos);\r\n\r\n            parallax[i].style.backgroundPosition = elBackgrounPos[i];\r\n        };\r\n    };\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/////////////////////////////NAV\r\nfunction collapseNavbar() {\r\n    if ($(\".navbar\").offset().top > 50) {\r\n        $(\".navbar-fixed-top\").addClass(\"top-nav-collapse\");\r\n    } else {\r\n        $(\".navbar-fixed-top\").removeClass(\"top-nav-collapse\");\r\n    }\r\n}\r\n\r\n$(window).scroll(collapseNavbar);\r\n$(document).ready(collapseNavbar);\r\n\r\n// jQuery for page scrolling feature - requires jQuery Easing plugin\r\n$(function() {\r\n    $('a.page-scroll').bind('click', function(event) {\r\n        event.preventDefault();\r\n\tvar href = $(this).attr('href');\r\n        $('html, body').stop().animate({\r\n\t    scrollTop: $(href).offset().top\r\n\t}, 750, function() {\r\n\t    window.location.hash = href;\r\n\t});\r\n        event.preventDefault();\r\n    });\r\n});\r\n\r\n\r\n$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n  var tab = $(e.target).attr('href');\r\n  var newTabHeight = document.querySelector(tab).clientHeight;\r\n  $(tab).parent().animate({ height: newTabHeight });\r\n});\r\n\r\n\r\n\r\n// Closes the Responsive Menu on Menu Item Click\r\n$('.navbar-collapse ul li a').click(function() {\r\n    if ($(this).attr('class') != 'dropdown-toggle active' && $(this).attr('class') != 'dropdown-toggle') {\r\n        $('.navbar-toggle:visible').click();\r\n    }\r\n});\r\n\r\n\r\n//when scrolling...\r\n$(window).scroll(function() {\r\n    if ($(window).scrollTop() >= 400) {\r\n        $(\"#navigation\").addClass(\"navbar-fixed-top\");\r\n    } else {\r\n        $(\"#navigation\").removeClass(\"navbar-fixed-top\");\r\n    };\r\n\r\n\r\n    $('.target').each(function() {\r\n        if ($(window).scrollTop() >= ($(this).offset().top) - 10) {\r\n            var $id = $(this).attr('id');\r\n            $('#navigation li').removeClass('active');\r\n            $('#navigation li[id=' + $id + '1]').addClass('active');\r\n\r\n            var $current = $(this).attr('data-index');\r\n            // var $current = $(this).find('.section-title').text();\r\n            $('#current-section').html($current);\r\n        }\r\n    });\r\n\r\n});\r\n\r\n$(\"#navigation li\").on('click', function() {\r\n    $(this).parent().find(\"li\").removeClass(\"active\");\r\n    $(this).addClass(\"active\");\r\n});\r\n\r\n\r\n\r\n/////////////////////////////Pills\r\n\r\n$('.pills-first a').click(function(e) {\r\n    e.preventDefault()\r\n    $(this).tab('show')\r\n});\r\n\r\n\r\n/////////////////////////////SVG Infographic\r\n$(function() {\r\n    $(\"#odInfographic\").load('img/human1.svg', function(response) {\r\n        var $svg = $(this).find('svg');\r\n        // $svg.attr(\"preserveAspectRatio\", \"xMinYMin meet\");\r\n        var val_svg = '2/3';\r\n        asignVal_svg(val_svg);\r\n\r\n        function asignVal_svg(val) {\r\n            $('.btn-svg').removeClass('active');\r\n            $('.btn-svg[value=\"' + val + '\"]').addClass('active');\r\n            if (val == '1/12') {\r\n                $('.svg-studyperiod').attr(\"opacity\", 0);\r\n                $('.svg-onemonth').attr(\"opacity\", 1);\r\n                $('#odInfographic_details').html('Only about '+ '<strong>1 in 12</strong>' +' people who died from opioids in 2013 and 2014 had an active opioid prescription in the month before they died')\r\n            } else {\r\n                $('.svg-studyperiod').attr(\"opacity\", 1);\r\n                $('#odInfographic_details').html('About '+ '<strong>8 in 12</strong>' +' people who died from opioids in 2013 and 2014 had an opioid prescription at some point from 20112014')\r\n            }\r\n        }\r\n\r\n        $('.btn-svg').on('click', function() {\r\n            asignVal_svg($(this).val());\r\n        });\r\n\r\n        $('.controls-svg').on('click', function() {\r\n            asignVal_svg($(this).data('select'));\r\n        });\r\n    });\r\n});\r\n\r\n\r\n// Fix widows (no words on own line at the end of a <p>)\r\n$('p').each(function() {\r\n    var innerHTML = $(this).html();\r\n    var words = innerHTML.trim().split(' ');\r\n    if(words.length > 2) {\r\n        var potentialWidow = words[words.length-1];\r\n        var newWords = words.slice(0,-1).join(' ');\r\n        $(this).html(newWords+'&nbsp;'+potentialWidow);\r\n    }\r\n})\r\n\r\n$('li').each(function() {\r\n    var innerHTML = $(this).html();\r\n    var words = innerHTML.trim().split(' ');\r\n    if(words.length > 2) {\r\n        var potentialWidow = words[words.length-1];\r\n        var newWords = words.slice(0,-1).join(' ');\r\n        $(this).html(newWords+'&nbsp;'+potentialWidow);\r\n    }\r\n})\r\n\r\n//bold footnote on in text num click\r\n//onclick=\"BoldText(document.getElementById(&quot;footnote-1&quot;));\"\r\n\r\nvar currElem = null; //will hold the element that is bold now\r\n\r\n function BoldText(elem) {\r\n    //console.log(elem)\r\n    //document.getElementById(\"footnote-4\")\r\n \r\n  if (elem != currElem) { //do thing if you're clicking on a bold link\r\n\r\n   if (currElem) //if a link bold right now unbold it\r\n\r\n    currElem.style.fontWeight='lighter';\r\n\r\n   currElem = elem; //assign this element as the current one\r\n\r\n   elem.style.fontWeight='bolder';  //make the element clicked bold\r\n \r\n  }\r\n\r\n }\r\n","/* global d3*/\r\n(function() {\r\n    var rootNode = document.querySelector('#lines-bsas');\r\n    var town_names = {\r\n        //\"massachusetts\" : \"Massachusetts\",\r\n        \"abington\": \"Abington\",\r\n        \"acton\": \"Acton\",\r\n        \"acushnet\": \"Acushnet\",\r\n        \"adams\": \"Adams\",\r\n        \"agawam\": \"Agawam\",\r\n        \"alford\": \"Alford\",\r\n        \"amesbury\": \"Amesbury\",\r\n        \"amherst\": \"Amherst\",\r\n        \"andover\": \"Andover\",\r\n        \"aquinnah\": \"Aquinnah\",\r\n        \"arlington\": \"Arlington\",\r\n        \"ashburnham\": \"Ashburnham\",\r\n        \"ashby\": \"Ashby\",\r\n        \"ashfield\": \"Ashfield\",\r\n        \"ashland\": \"Ashland\",\r\n        \"athol\": \"Athol\",\r\n        \"attleboro\": \"Attleboro\",\r\n        \"auburn\": \"Auburn\",\r\n        \"avon\": \"Avon\",\r\n        \"ayer\": \"Ayer\",\r\n        \"barnstable\": \"Barnstable\",\r\n        \"barre\": \"Barre\",\r\n        \"becket\": \"Becket\",\r\n        \"bedford\": \"Bedford\",\r\n        \"belchertown\": \"Belchertown\",\r\n        \"bellingham\": \"Bellingham\",\r\n        \"belmont\": \"Belmont\",\r\n        \"berkley\": \"Berkley\",\r\n        \"berlin\": \"Berlin\",\r\n        \"bernardston\": \"Bernardston\",\r\n        \"beverly\": \"Beverly\",\r\n        \"billerica\": \"Billerica\",\r\n        \"blackstone\": \"Blackstone\",\r\n        \"blandford\": \"Blandford\",\r\n        \"bolton\": \"Bolton\",\r\n        \"boston\": \"Boston\",\r\n        \"bourne\": \"Bourne\",\r\n        \"boxborough\": \"Boxborough\",\r\n        \"boxford\": \"Boxford\",\r\n        \"boylston\": \"Boylston\",\r\n        \"braintree\": \"Braintree\",\r\n        \"brewster\": \"Brewster\",\r\n        \"bridgewater\": \"Bridgewater\",\r\n        \"brimfield\": \"Brimfield\",\r\n        \"brockton\": \"Brockton\",\r\n        \"brookfield\": \"Brookfield\",\r\n        \"brookline\": \"Brookline\",\r\n        \"buckland\": \"Buckland\",\r\n        \"burlington\": \"Burlington\",\r\n        \"cambridge\": \"Cambridge\",\r\n        \"canton\": \"Canton\",\r\n        \"carlisle\": \"Carlisle\",\r\n        \"carver\": \"Carver\",\r\n        \"charlemont\": \"Charlemont\",\r\n        \"charlton\": \"Charlton\",\r\n        \"chatham\": \"Chatham\",\r\n        \"chelmsford\": \"Chelmsford\",\r\n        \"chelsea\": \"Chelsea\",\r\n        \"cheshire\": \"Cheshire\",\r\n        \"chester\": \"Chester\",\r\n        \"chesterfield\": \"Chesterfield\",\r\n        \"chicopee\": \"Chicopee\",\r\n        \"chilmark\": \"Chilmark\",\r\n        \"clarksburg\": \"Clarksburg\",\r\n        \"clinton\": \"Clinton\",\r\n        \"cohasset\": \"Cohasset\",\r\n        \"colrain\": \"Colrain\",\r\n        \"concord\": \"Concord\",\r\n        \"conway\": \"Conway\",\r\n        \"cummington\": \"Cummington\",\r\n        \"dalton\": \"Dalton\",\r\n        \"danvers\": \"Danvers\",\r\n        \"dartmouth\": \"Dartmouth\",\r\n        \"dedham\": \"Dedham\",\r\n        \"deerfield\": \"Deerfield\",\r\n        \"dennis\": \"Dennis\",\r\n        \"dighton\": \"Dighton\",\r\n        \"douglas\": \"Douglas\",\r\n        \"dover\": \"Dover\",\r\n        \"dracut\": \"Dracut\",\r\n        \"dudley\": \"Dudley\",\r\n        \"dunstable\": \"Dunstable\",\r\n        \"duxbury\": \"Duxbury\",\r\n        \"eastbridgewater\": \"East Bridgewater\",\r\n        \"eastbrookfield\": \"East Brookfield\",\r\n        \"eastham\": \"Eastham\",\r\n        \"easthampton\": \"Easthampton\",\r\n        \"eastlongmeadow\": \"East Longmeadow\",\r\n        \"easton\": \"Easton\",\r\n        \"edgartown\": \"Edgartown\",\r\n        \"egremont\": \"Egremont\",\r\n        \"erving\": \"Erving\",\r\n        \"essex\": \"Essex\",\r\n        \"everett\": \"Everett\",\r\n        \"fairhaven\": \"Fairhaven\",\r\n        \"fallriver\": \"Fall River\",\r\n        \"falmouth\": \"Falmouth\",\r\n        \"fitchburg\": \"Fitchburg\",\r\n        \"florida\": \"Florida\",\r\n        \"foxborough\": \"Foxborough\",\r\n        \"framingham\": \"Framingham\",\r\n        \"franklin\": \"Franklin\",\r\n        \"freetown\": \"Freetown\",\r\n        \"gardner\": \"Gardner\",\r\n        \"georgetown\": \"Georgetown\",\r\n        \"gill\": \"Gill\",\r\n        \"gloucester\": \"Gloucester\",\r\n        \"goshen\": \"Goshen\",\r\n        \"gosnold\": \"Gosnold\",\r\n        \"grafton\": \"Grafton\",\r\n        \"granby\": \"Granby\",\r\n        \"granville\": \"Granville\",\r\n        \"greatbarrington\": \"Great Barrington\",\r\n        \"greenfield\": \"Greenfield\",\r\n        \"groton\": \"Groton\",\r\n        \"groveland\": \"Groveland\",\r\n        \"hadley\": \"Hadley\",\r\n        \"halifax\": \"Halifax\",\r\n        \"hamilton\": \"Hamilton\",\r\n        \"hampden\": \"Hampden\",\r\n        \"hancock\": \"Hancock\",\r\n        \"hanover\": \"Hanover\",\r\n        \"hanson\": \"Hanson\",\r\n        \"hardwick\": \"Hardwick\",\r\n        \"harvard\": \"Harvard\",\r\n        \"harwich\": \"Harwich\",\r\n        \"hatfield\": \"Hatfield\",\r\n        \"haverhill\": \"Haverhill\",\r\n        \"hawley\": \"Hawley\",\r\n        \"heath\": \"Heath\",\r\n        \"hingham\": \"Hingham\",\r\n        \"hinsdale\": \"Hinsdale\",\r\n        \"holbrook\": \"Holbrook\",\r\n        \"holden\": \"Holden\",\r\n        \"holland\": \"Holland\",\r\n        \"holliston\": \"Holliston\",\r\n        \"holyoke\": \"Holyoke\",\r\n        \"hopedale\": \"Hopedale\",\r\n        \"hopkinton\": \"Hopkinton\",\r\n        \"hubbardston\": \"Hubbardston\",\r\n        \"hudson\": \"Hudson\",\r\n        \"hull\": \"Hull\",\r\n        \"huntington\": \"Huntington\",\r\n        \"ipswich\": \"Ipswich\",\r\n        \"kingston\": \"Kingston\",\r\n        \"lakeville\": \"Lakeville\",\r\n        \"lancaster\": \"Lancaster\",\r\n        \"lanesborough\": \"Lanesborough\",\r\n        \"lawrence\": \"Lawrence\",\r\n        \"lee\": \"Lee\",\r\n        \"leicester\": \"Leicester\",\r\n        \"lenox\": \"Lenox\",\r\n        \"leominster\": \"Leominster\",\r\n        \"leverett\": \"Leverett\",\r\n        \"lexington\": \"Lexington\",\r\n        \"leyden\": \"Leyden\",\r\n        \"lincoln\": \"Lincoln\",\r\n        \"littleton\": \"Littleton\",\r\n        \"longmeadow\": \"Longmeadow\",\r\n        \"lowell\": \"Lowell\",\r\n        \"ludlow\": \"Ludlow\",\r\n        \"lunenburg\": \"Lunenburg\",\r\n        \"lynn\": \"Lynn\",\r\n        \"lynnfield\": \"Lynnfield\",\r\n        \"malden\": \"Malden\",\r\n        \"manchester\": \"Manchester\",\r\n        \"mansfield\": \"Mansfield\",\r\n        \"marblehead\": \"Marblehead\",\r\n        \"marion\": \"Marion\",\r\n        \"marlborough\": \"Marlborough\",\r\n        \"marshfield\": \"Marshfield\",\r\n        \"mashpee\": \"Mashpee\",\r\n        \"mattapoisett\": \"Mattapoisett\",\r\n        \"maynard\": \"Maynard\",\r\n        \"medfield\": \"Medfield\",\r\n        \"medford\": \"Medford\",\r\n        \"medway\": \"Medway\",\r\n        \"melrose\": \"Melrose\",\r\n        \"mendon\": \"Mendon\",\r\n        \"merrimac\": \"Merrimac\",\r\n        \"methuen\": \"Methuen\",\r\n        \"middleborough\": \"Middleborough\",\r\n        \"middlefield\": \"Middlefield\",\r\n        \"middleton\": \"Middleton\",\r\n        \"milford\": \"Milford\",\r\n        \"millbury\": \"Millbury\",\r\n        \"millis\": \"Millis\",\r\n        \"millville\": \"Millville\",\r\n        \"milton\": \"Milton\",\r\n        \"monroe\": \"Monroe\",\r\n        \"monson\": \"Monson\",\r\n        \"montague\": \"Montague\",\r\n        \"monterey\": \"Monterey\",\r\n        \"montgomery\": \"Montgomery\",\r\n        \"mountwashington\": \"Mount Washington\",\r\n        \"nahant\": \"Nahant\",\r\n        \"nantucket\": \"Nantucket\",\r\n        \"natick\": \"Natick\",\r\n        \"needham\": \"Needham\",\r\n        \"newashford\": \"New Ashford\",\r\n        \"newbedford\": \"New Bedford\",\r\n        \"newbraintree\": \"New Braintree\",\r\n        \"newbury\": \"Newbury\",\r\n        \"newburyport\": \"Newburyport\",\r\n        \"newmarlborough\": \"New Marlborough\",\r\n        \"newsalem\": \"New Salem\",\r\n        \"newton\": \"Newton\",\r\n        \"norfolk\": \"Norfolk\",\r\n        \"northadams\": \"North Adams\",\r\n        \"northampton\": \"Northampton\",\r\n        \"northandover\": \"North Andover\",\r\n        \"northattleborough\": \"North Attleborough\",\r\n        \"northborough\": \"Northborough\",\r\n        \"northbridge\": \"Northbridge\",\r\n        \"northbrookfield\": \"North Brookfield\",\r\n        \"northfield\": \"Northfield\",\r\n        \"northreading\": \"North Reading\",\r\n        \"norton\": \"Norton\",\r\n        \"norwell\": \"Norwell\",\r\n        \"norwood\": \"Norwood\",\r\n        \"oakbluffs\": \"Oak Bluffs\",\r\n        \"oakham\": \"Oakham\",\r\n        \"orange\": \"Orange\",\r\n        \"orleans\": \"Orleans\",\r\n        \"otis\": \"Otis\",\r\n        \"oxford\": \"Oxford\",\r\n        \"palmer\": \"Palmer\",\r\n        \"paxton\": \"Paxton\",\r\n        \"peabody\": \"Peabody\",\r\n        \"pelham\": \"Pelham\",\r\n        \"pembroke\": \"Pembroke\",\r\n        \"pepperell\": \"Pepperell\",\r\n        \"peru\": \"Peru\",\r\n        \"petersham\": \"Petersham\",\r\n        \"phillipston\": \"Phillipston\",\r\n        \"pittsfield\": \"Pittsfield\",\r\n        \"plainfield\": \"Plainfield\",\r\n        \"plainville\": \"Plainville\",\r\n        \"plymouth\": \"Plymouth\",\r\n        \"plympton\": \"Plympton\",\r\n        \"princeton\": \"Princeton\",\r\n        \"provincetown\": \"Provincetown\",\r\n        \"quincy\": \"Quincy\",\r\n        \"randolph\": \"Randolph\",\r\n        \"raynham\": \"Raynham\",\r\n        \"reading\": \"Reading\",\r\n        \"rehoboth\": \"Rehoboth\",\r\n        \"revere\": \"Revere\",\r\n        \"richmond\": \"Richmond\",\r\n        \"rochester\": \"Rochester\",\r\n        \"rockland\": \"Rockland\",\r\n        \"rockport\": \"Rockport\",\r\n        \"rowe\": \"Rowe\",\r\n        \"rowley\": \"Rowley\",\r\n        \"royalston\": \"Royalston\",\r\n        \"russell\": \"Russell\",\r\n        \"rutland\": \"Rutland\",\r\n        \"salem\": \"Salem\",\r\n        \"salisbury\": \"Salisbury\",\r\n        \"sandisfield\": \"Sandisfield\",\r\n        \"sandwich\": \"Sandwich\",\r\n        \"saugus\": \"Saugus\",\r\n        \"savoy\": \"Savoy\",\r\n        \"scituate\": \"Scituate\",\r\n        \"seekonk\": \"Seekonk\",\r\n        \"sharon\": \"Sharon\",\r\n        \"sheffield\": \"Sheffield\",\r\n        \"shelburne\": \"Shelburne\",\r\n        \"sherborn\": \"Sherborn\",\r\n        \"shirley\": \"Shirley\",\r\n        \"shrewsbury\": \"Shrewsbury\",\r\n        \"shutesbury\": \"Shutesbury\",\r\n        \"somerset\": \"Somerset\",\r\n        \"somerville\": \"Somerville\",\r\n        \"southampton\": \"Southampton\",\r\n        \"southborough\": \"Southborough\",\r\n        \"southbridge\": \"Southbridge\",\r\n        \"southhadley\": \"South Hadley\",\r\n        \"southwick\": \"Southwick\",\r\n        \"spencer\": \"Spencer\",\r\n        \"springfield\": \"Springfield\",\r\n        \"sterling\": \"Sterling\",\r\n        \"stockbridge\": \"Stockbridge\",\r\n        \"stoneham\": \"Stoneham\",\r\n        \"stoughton\": \"Stoughton\",\r\n        \"stow\": \"Stow\",\r\n        \"sturbridge\": \"Sturbridge\",\r\n        \"sudbury\": \"Sudbury\",\r\n        \"sunderland\": \"Sunderland\",\r\n        \"sutton\": \"Sutton\",\r\n        \"swampscott\": \"Swampscott\",\r\n        \"swansea\": \"Swansea\",\r\n        \"taunton\": \"Taunton\",\r\n        \"templeton\": \"Templeton\",\r\n        \"tewksbury\": \"Tewksbury\",\r\n        \"tisbury\": \"Tisbury\",\r\n        \"tolland\": \"Tolland\",\r\n        \"topsfield\": \"Topsfield\",\r\n        \"townsend\": \"Townsend\",\r\n        \"truro\": \"Truro\",\r\n        \"tyngsborough\": \"Tyngsborough\",\r\n        \"tyringham\": \"Tyringham\",\r\n        \"upton\": \"Upton\",\r\n        \"uxbridge\": \"Uxbridge\",\r\n        \"wakefield\": \"Wakefield\",\r\n        \"wales\": \"Wales\",\r\n        \"walpole\": \"Walpole\",\r\n        \"waltham\": \"Waltham\",\r\n        \"ware\": \"Ware\",\r\n        \"wareham\": \"Wareham\",\r\n        \"warren\": \"Warren\",\r\n        \"warwick\": \"Warwick\",\r\n        \"washington\": \"Washington\",\r\n        \"watertown\": \"Watertown\",\r\n        \"wayland\": \"Wayland\",\r\n        \"webster\": \"Webster\",\r\n        \"wellesley\": \"Wellesley\",\r\n        \"wellfleet\": \"Wellfleet\",\r\n        \"wendell\": \"Wendell\",\r\n        \"wenham\": \"Wenham\",\r\n        \"westborough\": \"Westborough\",\r\n        \"westboylston\": \"West Boylston\",\r\n        \"westbridgewater\": \"West Bridgewater\",\r\n        \"westbrookfield\": \"West Brookfield\",\r\n        \"westfield\": \"Westfield\",\r\n        \"westford\": \"Westford\",\r\n        \"westhampton\": \"Westhampton\",\r\n        \"westminster\": \"Westminster\",\r\n        \"westnewbury\": \"West Newbury\",\r\n        \"weston\": \"Weston\",\r\n        \"westport\": \"Westport\",\r\n        \"westspringfield\": \"West Springfield\",\r\n        \"weststockbridge\": \"West Stockbridge\",\r\n        \"westtisbury\": \"West Tisbury\",\r\n        \"westwood\": \"Westwood\",\r\n        \"weymouth\": \"Weymouth\",\r\n        \"whately\": \"Whately\",\r\n        \"whitman\": \"Whitman\",\r\n        \"wilbraham\": \"Wilbraham\",\r\n        \"williamsburg\": \"Williamsburg\",\r\n        \"williamstown\": \"Williamstown\",\r\n        \"wilmington\": \"Wilmington\",\r\n        \"winchendon\": \"Winchendon\",\r\n        \"winchester\": \"Winchester\",\r\n        \"windsor\": \"Windsor\",\r\n        \"winthrop\": \"Winthrop\",\r\n        \"woburn\": \"Woburn\",\r\n        \"worcester\": \"Worcester\",\r\n        \"worthington\": \"Worthington\",\r\n        \"wrentham\": \"Wrentham\",\r\n        \"yarmouth\": \"Yarmouth\"\r\n    };\r\n    var current_town = \"massachusetts\";\r\n\r\n    var margin = {\r\n            top: 0,\r\n            right: 25,\r\n            bottom: 35,\r\n            left: 45\r\n        },\r\n        wrapper_width = rootNode.clientWidth,\r\n        wrapper_height = 400,\r\n        width = wrapper_width - margin.left - margin.right,\r\n        height = wrapper_height - margin.top - margin.bottom;\r\n\r\n    var bisectAge = d3.bisector(function(d) {\r\n        return d.age;\r\n    }).left;\r\n    var percent = d3.format(',.0%');\r\n    var yearformat = d3.format(\"d\");\r\n    // var min_age = 2005;\r\n    // var fields = ['emp', 'edu', 'race', 'orig'];\r\n    var groups = {};\r\n\r\n    var x = d3.scale.linear();\r\n\r\n    var y = d3.scale.linear();\r\n\r\n    var color = d3.scale.category10();\r\n\r\n    var xAxis_bsas = d3.svg.axis();\r\n\r\n    var yAxis_bsas = d3.svg.axis();\r\n\r\n    var line = d3.svg.line();\r\n\r\n\r\n    var $svg = d3.select(\"#lines-bsas\").append(\"svg\");\r\n\r\n    var $lines_bsas = $svg\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n\r\n    var $x_axis = $lines_bsas.append(\"g\").attr(\"class\", \"vis-x-axis\");\r\n    $x_axis\r\n        .append(\"text\")\r\n        .attr(\"x\", 635)\r\n        .attr(\"y\", 15)\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .text(\"Year\");\r\n\r\n    var $y_axis = $lines_bsas.append(\"g\").attr(\"class\", \"vis-y-axis\");\r\n    $y_axis.append(\"text\");\r\n\r\n    var $lines_bsas_x_axis_label = $x_axis.append(\"text\");\r\n    var $lines_bsas_y_axis_label = $y_axis.append(\"text\");\r\n\r\n    var legend_pos_text = -60,\r\n        legend_pos_dot = -70;\r\n    var $legend = {\r\n        opioids: {},\r\n        alcohol: {},\r\n        marijuana: {},\r\n        other: {},\r\n        none: {}\r\n    };\r\n\r\n    setupLegend();\r\n\r\n    var $lines = {};\r\n\r\n    var $eventOverlay = $lines_bsas.append(\"rect\").attr(\"class\", \"overlay\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function render() {\r\n        updateWidth(rootNode.clientWidth);\r\n\r\n        $svg.attr(\"width\", wrapper_width).attr(\"height\", wrapper_height);\r\n        x.range([0, width]);\r\n        y.range([height, 0]);\r\n\r\n        xAxis_bsas\r\n            .scale(x)\r\n            .tickFormat(yearformat)\r\n            .ticks((width < 500 ? 4 : 10))\r\n            .orient(\"bottom\")\r\n            .outerTickSize(0);\r\n\r\n        yAxis_bsas\r\n            .scale(y)\r\n            .tickSize(width)\r\n            .orient(\"right\")\r\n            .tickFormat(percent);\r\n\r\n\r\n\r\n        line.x(function(d) {\r\n                return x(d.age);\r\n            })\r\n            .y(function(d) {\r\n                return y(d.value);\r\n            })\r\n            .defined(function(d) {\r\n                return y(d.value);\r\n            }); // Omit empty values.\r\n\r\n        $x_axis.attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis_bsas);\r\n        $y_axis.call(yAxis_bsas);\r\n        $lines_bsas.selectAll(\".vis-y-axis .tick text\").attr(\"x\", -5).attr(\"dy\", 0).style(\"text-anchor\", \"end\");\r\n        $eventOverlay.attr(\"width\", width).attr(\"height\", height);\r\n\r\n\r\n        $lines_bsas_x_axis_label\r\n            .attr(\"x\", (width - margin.left)/2)\r\n            .attr(\"y\", (margin.bottom) / 2)\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"class\", \"vis-x-axis-label\")\r\n            .text(\"Fiscal Year\");\r\n\r\n\r\n        $lines_bsas_y_axis_label\r\n            .attr(\"x\", -(height - margin.top)/2)\r\n            .attr(\"y\", -margin.left)\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"class\", \"vis-y-axis-label\")\r\n            .text(\"Percent Primary Substance of Use\");\r\n\r\n\r\n\r\n        renderLegend();\r\n        renderLines();\r\n        updateDots();\r\n    }\r\n\r\n\r\n    function updateWidth(w) {\r\n        wrapper_width = w;\r\n        width = wrapper_width - margin.left - margin.right;\r\n    }\r\n\r\n    function setupLegend() {\r\n        $legend.opioids.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle opioids\").attr(\"r\", 3);\r\n        $legend.opioids.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus opioids\").text(\"opioids\");\r\n        $legend.alcohol.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle alcohol\").attr(\"r\", 3);\r\n        $legend.alcohol.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus alcohol\").text(\"alcohol\");\r\n        $legend.marijuana.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle marijuana\").attr(\"r\", 3);\r\n        $legend.marijuana.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus marijuana\").text(\"marijuana\");\r\n        $legend.other.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle other\").attr(\"r\", 3);\r\n        $legend.other.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus other\").text(\"other\");\r\n        //$legend.none.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle none\").attr(\"r\", 3);\r\n        //$legend.none.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus none\").text(\"none\");\r\n    }\r\n\r\n    function renderLegend() {\r\n        var top_offset = 0;\r\n        var line_height = 15;\r\n        $legend.opioids.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (1 * line_height));\r\n        $legend.opioids.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (1 * line_height) + 3);\r\n        $legend.alcohol.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (2 * line_height));\r\n        $legend.alcohol.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (2 * line_height) + 3);\r\n        $legend.marijuana.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (3 * line_height));\r\n        $legend.marijuana.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (3 * line_height) + 3);\r\n        $legend.other.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (4 * line_height));\r\n        $legend.other.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (4 * line_height) + 3);\r\n        //$legend.none.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (5 * line_height));\r\n        //$legend.none.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (5 * line_height) + 3);\r\n    }\r\n\r\n    function setupLines() {\r\n        $lines.alcohol = $lines_bsas.append(\"path\").attr(\"class\", \"line alcohol\").attr(\"pointer-events\", \"none\");\r\n        for (i = 0; i < groups[current_town + \"alcohol\"].values.length; i++) {\r\n\r\n            var x_circle_alcohol = groups[current_town + \"alcohol\"].values[i].age;\r\n            var y_circle_alcohol = groups[current_town + \"alcohol\"].values[i].value;\r\n\r\n            if (y_circle_alcohol >= 0) {\r\n\r\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\r\n                //console.log(\"circle alcohol y\" + groups[current_town + \"alcohol\"].values[i].age)\r\n\r\n                $lines_bsas.append(\"circle\")\r\n                    .attr(\"class\", function(d) {\r\n                        return \"circle alcohol y\" + groups[current_town + \"alcohol\"].values[i].age\r\n                    })\r\n                    .attr(\"cx\", x(groups[current_town + \"alcohol\"].values[i].age))\r\n                    .attr(\"cy\", y(groups[current_town + \"alcohol\"].values[i].value))\r\n                    .attr(\"r\", 3)\r\n                    .attr(\"pointer-events\", \"none\");\r\n            }\r\n        }\r\n\r\n        $lines.marijuana = $lines_bsas.append(\"path\").attr(\"class\", \"line marijuana\").attr(\"pointer-events\", \"none\");\r\n        for (i = 0; i < groups[current_town + \"marijuana\"].values.length; i++) {\r\n\r\n            var x_circle_alcohol = groups[current_town + \"marijuana\"].values[i].age;\r\n            var y_circle_alcohol = groups[current_town + \"marijuana\"].values[i].value;\r\n\r\n            if (y_circle_alcohol >= 0) {\r\n\r\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\r\n                //console.log(\"circle marijuana y\" + groups[current_town + \"marijuana\"].values[i].age)\r\n\r\n                $lines_bsas.append(\"circle\")\r\n                    .attr(\"class\", function(d) {\r\n                        return \"circle marijuana y\" + groups[current_town + \"marijuana\"].values[i].age\r\n                    })\r\n                    .attr(\"cx\", x(groups[current_town + \"marijuana\"].values[i].age))\r\n                    .attr(\"cy\", y(groups[current_town + \"marijuana\"].values[i].value))\r\n                    .attr(\"r\", 3)\r\n                    .attr(\"pointer-events\", \"none\");\r\n            }\r\n        }\r\n\r\n        // $lines.none = $lines_bsas.append(\"path\").attr(\"class\", \"line none\").attr(\"pointer-events\", \"none\");\r\n        // for (i = 0; i < groups[current_town + \"none\"].values.length; i++) {\r\n\r\n        //     var x_circle_alcohol = groups[current_town + \"none\"].values[i].age;\r\n        //     var y_circle_alcohol = groups[current_town + \"none\"].values[i].value;\r\n\r\n        //     if (y_circle_alcohol >= 0) {\r\n\r\n        //         //console.log(groups[current_town+\"alcohol\"].values[i].age);\r\n        //         //console.log(\"circle none y\" + groups[current_town + \"none\"].values[i].age)\r\n\r\n        //         $lines_bsas.append(\"circle\")\r\n        //             .attr(\"class\", function(d) {\r\n        //                 return \"circle none y\" + groups[current_town + \"none\"].values[i].age\r\n        //             })\r\n        //             .attr(\"cx\", x(groups[current_town + \"none\"].values[i].age))\r\n        //             .attr(\"cy\", y(groups[current_town + \"none\"].values[i].value))\r\n        //             .attr(\"r\", 3)\r\n        //             .attr(\"pointer-events\", \"none\");\r\n        //     }\r\n        // }\r\n\r\n        $lines.opioids = $lines_bsas.append(\"path\").attr(\"class\", \"line opioids\").attr(\"pointer-events\", \"none\");\r\n        for (i = 0; i < groups[current_town + \"opioids\"].values.length; i++) {\r\n\r\n            var x_circle_alcohol = groups[current_town + \"opioids\"].values[i].age;\r\n            var y_circle_alcohol = groups[current_town + \"opioids\"].values[i].value;\r\n\r\n            if (y_circle_alcohol >= 0) {\r\n\r\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\r\n                //console.log(\"circle opioids y\" + groups[current_town + \"opioids\"].values[i].age)\r\n\r\n                $lines_bsas.append(\"circle\")\r\n                    .attr(\"class\", function(d) {\r\n                        return \"circle opioids y\" + groups[current_town + \"opioids\"].values[i].age\r\n                    })\r\n                    .attr(\"cx\", x(groups[current_town + \"opioids\"].values[i].age))\r\n                    .attr(\"cy\", y(groups[current_town + \"opioids\"].values[i].value))\r\n                    .attr(\"r\", 3)\r\n                    .attr(\"pointer-events\", \"none\");\r\n            }\r\n        }\r\n\r\n        $lines.other = $lines_bsas.append(\"path\").attr(\"class\", \"line other\").attr(\"pointer-events\", \"none\");\r\n        for (i = 0; i < groups[current_town + \"other\"].values.length; i++) {\r\n\r\n            var x_circle_alcohol = groups[current_town + \"other\"].values[i].age;\r\n            var y_circle_alcohol = groups[current_town + \"other\"].values[i].value;\r\n\r\n            if (y_circle_alcohol >= 0) {\r\n\r\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\r\n                // console.log(\"circle other y\" + groups[current_town + \"other\"].values[i].age)\r\n\r\n                $lines_bsas.append(\"circle\")\r\n                    .attr(\"class\", function(d) {\r\n                        return \"circle other y\" + groups[current_town + \"other\"].values[i].age\r\n                    })\r\n                    .attr(\"cx\", x(groups[current_town + \"other\"].values[i].age))\r\n                    .attr(\"cy\", y(groups[current_town + \"other\"].values[i].value))\r\n                    .attr(\"r\", 3)\r\n                    .attr(\"pointer-events\", \"none\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    function renderLines() {\r\n        $lines.alcohol.attr(\"d\", function(d) {\r\n            return line(groups[current_town + \"alcohol\"].values);\r\n        });\r\n        $lines.opioids.attr(\"d\", function(d) {\r\n            return line(groups[current_town + \"opioids\"].values);\r\n        });\r\n        $lines.marijuana.attr(\"d\", function(d) {\r\n            return line(groups[current_town + \"marijuana\"].values);\r\n        });\r\n        $lines.other.attr(\"d\", function(d) {\r\n            return line(groups[current_town + \"other\"].values);\r\n        });\r\n        // $lines.none.attr(\"d\", function(d) {\r\n        //     return line(groups[current_town + \"none\"].values);\r\n        // });\r\n    }\r\n\r\n\r\n\r\n    function updateDots() {\r\n\r\n        // marriages = groups[current_town];\r\n        //update alcohol line\r\n        $lines_bsas.select(\".line.alcohol\")\r\n            .transition()\r\n            .duration(1000)\r\n            .delay(180)\r\n            .attr(\"d\", function(d) {\r\n                return line(groups[current_town + \"alcohol\"].values);\r\n            });\r\n\r\n        //console.log(groups[current_town + \"alcohol\"].values[5].value >= 0);\r\n\r\n        //update alcohol circles\r\n        for (i = 0; i < groups[current_town + \"alcohol\"].values.length; i++) {\r\n            var string_select = \".circle.alcohol.y\" + groups[current_town + \"alcohol\"].values[i].age\r\n                // console.log(string_select);\r\n\r\n            if (groups[current_town + \"alcohol\"].values[i].value >= 0) {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"cx\", function(d) {\r\n                        return x(groups[current_town + \"alcohol\"].values[i].age)\r\n                    })\r\n                    .attr(\"cy\", function(d) {\r\n                        return y(groups[current_town + \"alcohol\"].values[i].value)\r\n                    })\r\n                    .attr(\"r\", 3)\r\n            } else {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"r\", 0)\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        //marijuana\r\n        $lines_bsas.select(\".line.marijuana\")\r\n            .transition()\r\n            .duration(1000)\r\n            .attr(\"d\", function(d) {\r\n                return line(groups[current_town + \"marijuana\"].values);\r\n            });\r\n        //update marijuana circles\r\n        for (i = 0; i < groups[current_town + \"marijuana\"].values.length; i++) {\r\n            var string_select = \".circle.marijuana.y\" + groups[current_town + \"marijuana\"].values[i].age\r\n                //console.log(string_select);\r\n\r\n            if (groups[current_town + \"marijuana\"].values[i].value >= 0) {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"cx\", function(d) {\r\n                        return x(groups[current_town + \"marijuana\"].values[i].age)\r\n                    })\r\n                    .attr(\"cy\", function(d) {\r\n                        return y(groups[current_town + \"marijuana\"].values[i].value)\r\n                    })\r\n                    .attr(\"r\", 3)\r\n            } else {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"r\", 0)\r\n            }\r\n\r\n        }\r\n\r\n        //none\r\n        // $lines_bsas.select(\".line.none\")\r\n        //     .transition()\r\n        //     .duration(1000)\r\n        //     .attr(\"d\", function(d) {\r\n        //         return line(groups[current_town + \"none\"].values);\r\n        //     });\r\n        // //update none circles\r\n        // for (i = 0; i < groups[current_town + \"none\"].values.length; i++) {\r\n\r\n\r\n        //     var string_select = \".circle.none.y\" + groups[current_town + \"none\"].values[i].age\r\n        //     var value_select = groups[current_town + \"none\"].values[i].value\r\n        //         // console.log(string_select);\r\n        //         // console.log(value_select);\r\n        //         // console.log(value_select >= 0);\r\n\r\n        //     if (groups[current_town + \"none\"].values[i].value >= 0) {\r\n        //         $lines_bsas.selectAll(string_select)\r\n        //             .transition()\r\n        //             .duration(1000)\r\n        //             .attr(\"cx\", function(d) {\r\n        //                 return x(groups[current_town + \"none\"].values[i].age)\r\n        //             })\r\n        //             .attr(\"cy\", function(d) {\r\n        //                 return y(groups[current_town + \"none\"].values[i].value)\r\n        //             })\r\n        //             .attr(\"r\", 3);\r\n        //     } else {\r\n        //         $lines_bsas.selectAll(string_select)\r\n        //             .transition()\r\n        //             .duration(1000)\r\n        //             .attr(\"r\", 0);\r\n        //     }\r\n\r\n        // }\r\n\r\n        //opioids\r\n        $lines_bsas.select(\".line.opioids\")\r\n            .transition()\r\n            .duration(1000)\r\n            .attr(\"d\", function(d) {\r\n                return line(groups[current_town + \"opioids\"].values);\r\n            });\r\n        //update opioids circles\r\n        for (i = 0; i < groups[current_town + \"opioids\"].values.length; i++) {\r\n\r\n\r\n            var string_select = \".circle.opioids.y\" + groups[current_town + \"opioids\"].values[i].age\r\n            var value_select = groups[current_town + \"opioids\"].values[i].value\r\n                //console.log(string_select);\r\n                //console.log(value_select);\r\n                //console.log(value_select >= 0);\r\n\r\n            if (value_select >= 0) {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"cx\", function(d) {\r\n                        return x(groups[current_town + \"opioids\"].values[i].age)\r\n                    })\r\n                    .attr(\"cy\", function(d) {\r\n                        return y(groups[current_town + \"opioids\"].values[i].value)\r\n                    })\r\n                    .attr(\"r\", 3);\r\n            } else {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"r\", 0);\r\n            }\r\n\r\n        }\r\n\r\n        //other\r\n        $lines_bsas.select(\".line.other\")\r\n            .transition()\r\n            .duration(1000)\r\n            .attr(\"d\", function(d) {\r\n                return line(groups[current_town + \"other\"].values);\r\n            });\r\n        //update other circles\r\n        for (i = 0; i < groups[current_town + \"other\"].values.length; i++) {\r\n\r\n            var string_select = \".circle.other.y\" + groups[current_town + \"other\"].values[i].age\r\n            var value_select = groups[current_town + \"other\"].values[i].value\r\n                // console.log(string_select);\r\n                // console.log(value_select);\r\n                // console.log(value_select >= 0);\r\n\r\n            if (value_select >= 0) {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"cx\", function(d) {\r\n                        return x(groups[current_town + \"other\"].values[i].age)\r\n                    })\r\n                    .attr(\"cy\", function(d) {\r\n                        return y(groups[current_town + \"other\"].values[i].value)\r\n                    })\r\n                    .attr(\"r\", 3);\r\n            } else {\r\n                $lines_bsas.selectAll(string_select)\r\n                    .transition()\r\n                    .duration(1000)\r\n                    .attr(\"r\", 0);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    d3.csv(\"js/data/bsas-data-2000to2015.csv\", type, function(error, data) {\r\n        if (error) throw error;\r\n        //console.log(groups);\r\n        // var marriages = groups[current_town];\r\n\r\n        x.domain([2000, d3.max(data, function(d) {\r\n            return d.age;\r\n        })]);\r\n        y.domain([0, 1.00]);\r\n\r\n        setupLines();\r\n        render();\r\n        window.addEventListener('resize', render);\r\n\r\n\r\n\r\n        // Autocomplete\r\n\r\n        $(\".btn-bsas\").addClass('active');\r\n        d3.selectAll(\".btn-bsas\").on(\"click\", function() {\r\n            current_town = d3.select(this).attr(\"data-val\");\r\n            updateDots();\r\n            d3.select(this).classed('active', true);\r\n            $(\"#tags\").val('');\r\n        });\r\n\r\n\r\n\r\n        $(\"#tags\").autocomplete({\r\n            source: function(request, response) {\r\n                //console.log(town_names);\r\n                var matches = $.map(town_names, function(acItem) {\r\n                    if (acItem.toUpperCase().indexOf(request.term.toUpperCase()) === 0) {\r\n                        return acItem;\r\n                    }\r\n                });\r\n                response(matches);\r\n                //$(\"#tags\").focus(function() {\r\n                // if (matches.length == 1) {\r\n                //     current_town = matches[0];\r\n                //     $(\".btn-bsas\").removeClass('active');\r\n                //     updateDots();\r\n                // }\r\n                //});\r\n                //console.log(matches);\r\n            },\r\n            select: function(event, ui) {\r\n                $.each(town_names, function(key, value) {\r\n                    if (value === ui.item.value) {\r\n                        current_town = key;\r\n                        console.log(value)\r\n                    }\r\n                });\r\n\r\n\r\n                $(\".btn-bsas\").removeClass('active');\r\n                updateDots();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        // alcohol\r\n        var focusalcohol = $lines_bsas.append(\"g\")\r\n            .attr(\"class\", \"focus alcohol\")\r\n            .style(\"display\", \"none\");\r\n        focusalcohol.append(\"circle\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"r\", 3);\r\n        focusalcohol.append(\"text\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"x\", 9)\r\n            .attr(\"dy\", \".35em\");\r\n\r\n        // marijuana\r\n        var focusmarijuana = $lines_bsas.append(\"g\")\r\n            .attr(\"class\", \"focus marijuana\")\r\n            .style(\"display\", \"none\");\r\n        focusmarijuana.append(\"circle\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"r\", 3);\r\n        focusmarijuana.append(\"text\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"x\", 9)\r\n            .attr(\"dy\", \".35em\");\r\n\r\n        // none\r\n        // var focusnone = $lines_bsas.append(\"g\")\r\n        //     .attr(\"class\", \"focus none\")\r\n        //     .style(\"display\", \"none\");\r\n        // focusnone.append(\"circle\")\r\n        //     .attr(\"pointer-events\", \"none\")\r\n        //     .attr(\"r\", 3);\r\n        // focusnone.append(\"text\")\r\n        //     .attr(\"pointer-events\", \"none\")\r\n        //     .attr(\"x\", 9)\r\n        //     .attr(\"dy\", \".35em\");\r\n\r\n        // opioids\r\n        var focusopioids = $lines_bsas.append(\"g\")\r\n            .attr(\"class\", \"focus opioids\")\r\n            .style(\"display\", \"none\");\r\n        focusopioids.append(\"circle\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"r\", 3);\r\n        focusopioids.append(\"text\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"x\", 9)\r\n            .attr(\"dy\", \".35em\");\r\n\r\n        // none\r\n        var focusother = $lines_bsas.append(\"g\")\r\n            .attr(\"class\", \"focus other\")\r\n            .style(\"display\", \"none\");\r\n        focusother.append(\"circle\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"r\", 3);\r\n        focusother.append(\"text\")\r\n            .attr(\"pointer-events\", \"none\")\r\n            .attr(\"x\", 9)\r\n            .attr(\"dy\", \".35em\");\r\n\r\n        // Events\r\n        $eventOverlay\r\n            .on(\"mouseover\", function() {\r\n                focusmarijuana.style(\"display\", null);\r\n                focusalcohol.style(\"display\", null);\r\n                //focusnone.style(\"display\", null);\r\n                focusopioids.style(\"display\", null);\r\n                focusother.style(\"display\", null);\r\n                //focusage.style(\"display\", null);\r\n            })\r\n            .on(\"mouseout\", function() {\r\n                focusmarijuana.style(\"display\", \"none\");\r\n                focusalcohol.style(\"display\", \"none\");\r\n                //focusnone.style(\"display\", \"none\");\r\n                focusopioids.style(\"display\", \"none\");\r\n                focusother.style(\"display\", \"none\");\r\n                //focusage.style(\"display\", \"none\");\r\n            })\r\n            .on(\"mousemove\", mousemove);\r\n\r\n        function mousemove() {\r\n\r\n\r\n\r\n            var x0 = x.invert(d3.mouse(this)[0])\r\n\r\n            // Alcohol\r\n            var i_alcohol = bisectAge(groups[current_town + \"alcohol\"].values, x0, 1),\r\n                d0_alcohol = groups[current_town + \"alcohol\"].values[i_alcohol - 1],\r\n                d1_alcohol = groups[current_town + \"alcohol\"].values[i_alcohol],\r\n                d_alcohol = x0 - d0_alcohol.age > d1_alcohol.age - x0 ? d1_alcohol : d0_alcohol;\r\n\r\n            if (d_alcohol.value >= 0) {\r\n                focusalcohol.attr(\"transform\", \"translate(\" + x(d_alcohol.age) + \",\" + y(d_alcohol.value) + \")\");\r\n                focusalcohol.select(\"text\").text(percent(d_alcohol.value)).attr('transform', \"translate(-28,0)\");\r\n                focusalcohol.select(\"circle\").attr(\"r\", 4);\r\n            } else {\r\n                focusalcohol.select(\"circle\").attr(\"r\", 0);\r\n                focusalcohol.select(\"text\").text(\"\");\r\n            }\r\n\r\n            // Marijuana\r\n\r\n            var i_marijuana = bisectAge(groups[current_town + \"marijuana\"].values, x0, 1),\r\n                d0_marijuana = groups[current_town + \"marijuana\"].values[i_marijuana - 1],\r\n                d1_marijuana = groups[current_town + \"marijuana\"].values[i_marijuana],\r\n                d_marijuana = x0 - d0_marijuana.age > d1_marijuana.age - x0 ? d1_marijuana : d0_marijuana;\r\n\r\n\r\n            // console.log(d_marijuana.value + \" \" + d_marijuana.age);\r\n            // console.log(d_marijuana.value >= 0);\r\n\r\n            if (d_marijuana.value >= 0) {\r\n                focusmarijuana.attr(\"transform\", \"translate(\" + x(d_marijuana.age) + \",\" + y(d_marijuana.value) + \")\");\r\n                focusmarijuana.select(\"text\").text(percent(d_marijuana.value)).attr('transform', \"translate(-28,0)\");\r\n                focusmarijuana.select(\"circle\").attr(\"r\", 4);\r\n            } else {\r\n                focusmarijuana.select(\"circle\").attr(\"r\", 0);\r\n                focusmarijuana.select(\"text\").text(\"\");\r\n            }\r\n\r\n            // None\r\n\r\n            // var i_none = bisectAge(groups[current_town + \"none\"].values, x0, 1),\r\n            //     d0_none = groups[current_town + \"none\"].values[i_none - 1],\r\n            //     d1_none = groups[current_town + \"none\"].values[i_none],\r\n            //     d_none = x0 - d0_none.age > d1_none.age - x0 ? d1_none : d0_none;\r\n\r\n            // if (d_none.value >= 0) {\r\n            //     focusnone.attr(\"transform\", \"translate(\" + x(d_none.age) + \",\" + y(d_none.value) + \")\");\r\n            //     focusnone.select(\"text\").text(percent(d_none.value));\r\n            //     focusnone.select(\"circle\").attr(\"r\", 4);\r\n            // } else {\r\n            //     focusnone.select(\"circle\").attr(\"r\", 0);\r\n            //     focusnone.select(\"text\").text(\"\");\r\n            // }\r\n\r\n\r\n            // Opioids\r\n            var i_opioids = bisectAge(groups[current_town + \"opioids\"].values, x0, 1),\r\n                d0_opioids = groups[current_town + \"opioids\"].values[i_opioids - 1],\r\n                d1_opioids = groups[current_town + \"opioids\"].values[i_opioids],\r\n                d_opioids = x0 - d0_opioids.age > d1_opioids.age - x0 ? d1_opioids : d0_opioids;\r\n\r\n            if (d_opioids.value >= 0) {\r\n                focusopioids.attr(\"transform\", \"translate(\" + x(d_opioids.age) + \",\" + y(d_opioids.value) + \")\");\r\n                focusopioids.select(\"text\").text(percent(d_opioids.value));\r\n                focusopioids.select(\"circle\").attr(\"r\", 4);\r\n            } else {\r\n                focusopioids.select(\"circle\").attr(\"r\", 0);\r\n                focusopioids.select(\"text\").text(\"\");\r\n            }\r\n\r\n\r\n            // other\r\n            var i_other = bisectAge(groups[current_town + \"other\"].values, x0, 1),\r\n                d0_other = groups[current_town + \"other\"].values[i_other - 1],\r\n                d1_other = groups[current_town + \"other\"].values[i_other],\r\n                d_other = x0 - d0_other.age > d1_other.age - x0 ? d1_other : d0_other;\r\n\r\n            //console.log(d_other.value);\r\n\r\n            if (d_other.value >= 0) {\r\n                focusother.attr(\"transform\", \"translate(\" + x(d_other.age) + \",\" + y(d_other.value) + \")\");\r\n                focusother.select(\"text\").text(percent(d_other.value));\r\n                focusother.select(\"circle\").attr(\"r\", 4);\r\n            } else {\r\n                focusother.select(\"circle\").attr(\"r\", 0);\r\n                focusother.select(\"text\").text(\"\");\r\n            }\r\n\r\n\r\n            // Adjust label horizontal positions.\r\n            if (x0 > 80) {\r\n                focusalcohol.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\r\n                focusmarijuana.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\r\n                //focusnone.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\r\n                focusopioids.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\r\n                focusother.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\r\n            } else {\r\n                focusalcohol.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\r\n                focusmarijuana.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\r\n                //focusnone.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\r\n                focusopioids.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\r\n                focusother.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }); // @end d3.tsv()\r\n\r\n\r\n    function type(d, i) {\r\n\r\n        d3.keys(d).forEach(function(key) {\r\n            d[key] = +d[key];\r\n            if (key != 'age') {\r\n                if (!(key in groups)) {\r\n                    groups[key] = {\r\n                        'values': [{\r\n                            age: d.age,\r\n                            value: d[key]\r\n                        }]\r\n                    };\r\n                } else {\r\n                    groups[key]['values'].push({\r\n                        age: d.age,\r\n                        value: d[key]\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        return d;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n})();\r\n\r\nfunction opioidsY2000(d, i) {\r\n            d3.select(\".circle.opioids.y2015\").attr(\"r\", 3).style(\"fill-opacity\", 0.75).style(\"stroke-width\", \"0\");\r\n            d3.select(\".circle.opioids.y2000\").attr(\"r\", 15).style(\"fill-opacity\", 0.9).style(\"stroke-width\", \"0\").style(\"stroke\", \"#8e1014\");\r\n            d3.select(\".btn-bsas\").classed('active', true);\r\n        };\r\n\r\n        function opioidsY2015(d, i) {\r\n            d3.select(\".circle.opioids.y2000\").attr(\"r\", 3).style(\"fill-opacity\", 0.75).style(\"stroke-width\", \"0\");\r\n            d3.select(\".circle.opioids.y2015\").attr(\"r\", 15).style(\"fill-opacity\", 0.9).style(\"stroke-width\", \"0\").style(\"stroke\", \"#8e1014\");\r\n            d3.select(\".btn-bsas\").classed('active', true);\r\n        };\r\n","var GLOBAL_STRINGS = {\r\n    \"PLAY\": \"Play\",\r\n    \"PAUSE\": \"Pause\",\r\n    \"TOGGLE_FULL_SCREEN\": \"Toggle full screen\",\r\n    \"MUTE\": \"Mute\",\r\n    \"RESTART\": \"Restart\",\r\n    \"CAPTIONS\": \"Closed captions\",\r\n    \"REWIND\": \"Rewind\",\r\n    \"FORWARD\": \"Forward\"\r\n}\r\n\r\nfunction InitPxVideo(options) {\r\n\r\n    \"use strict\";\r\n\r\n    // Utilities for caption time codes\r\n    function video_timecode_min(tc) {\r\n        var tcpair = [];\r\n        tcpair = tc.split(' --> ');\r\n        return videosub_tcsecs(tcpair[0]);\r\n    }\r\n\r\n    function video_timecode_max(tc) {\r\n        var tcpair = [];\r\n        tcpair = tc.split(' --> ');\r\n        return videosub_tcsecs(tcpair[1]);\r\n    }\r\n\r\n    function videosub_tcsecs(tc) {\r\n        if (tc === null || tc === undefined) {\r\n            return 0;\r\n        } else {\r\n            var tc1 = [],\r\n                tc2 = [],\r\n                seconds;\r\n            tc1 = tc.split(',');\r\n            tc2 = tc1[0].split(':');\r\n            seconds = Math.floor(tc2[0] * 60 * 60) + Math.floor(tc2[1] * 60) + Math.floor(tc2[2]);\r\n            return seconds;\r\n        }\r\n    }\r\n\r\n    // For \"manual\" captions, adjust caption position when play time changed (via rewind, clicking progress bar, etc.)\r\n    function adjustManualCaptions(obj) {\r\n        obj.subcount = 0;\r\n        while (video_timecode_max(obj.captions[obj.subcount][0]) < obj.movie.currentTime.toFixed(1)) {\r\n            obj.subcount++;\r\n            if (obj.subcount > obj.captions.length - 1) {\r\n                obj.subcount = obj.captions.length - 1;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Display captions container and button (for initialization)\r\n    function showCaptionContainerAndButton(obj) {\r\n        obj.captionsBtnContainer.className = \"px-video-captions-btn-container show-inline\";\r\n        if (obj.isCaptionDefault) {\r\n            obj.captionsContainer.className = \"px-video-captions show\";\r\n            obj.captionsBtn.setAttribute(\"checked\", \"checked\");\r\n        }\r\n    }\r\n\r\n    // Unfortunately, due to scattered support, browser sniffing is required\r\n    function browserSniff() {\r\n        var nVer = navigator.appVersion,\r\n            nAgt = navigator.userAgent,\r\n            browserName = navigator.appName,\r\n            fullVersion = '' + parseFloat(navigator.appVersion),\r\n            majorVersion = parseInt(navigator.appVersion, 10),\r\n            nameOffset,\r\n            verOffset,\r\n            ix;\r\n\r\n        // MSIE 11\r\n        if ((navigator.appVersion.indexOf(\"Windows NT\") !== -1) && (navigator.appVersion.indexOf(\"rv:11\") !== -1)) {\r\n            browserName = \"IE\";\r\n            fullVersion = \"11;\";\r\n        }\r\n        // MSIE\r\n        else if ((verOffset = nAgt.indexOf(\"MSIE\")) !== -1) {\r\n            browserName = \"IE\";\r\n            fullVersion = nAgt.substring(verOffset + 5);\r\n        }\r\n        // Chrome\r\n        else if ((verOffset = nAgt.indexOf(\"Chrome\")) !== -1) {\r\n            browserName = \"Chrome\";\r\n            fullVersion = nAgt.substring(verOffset + 7);\r\n        }\r\n        // Safari\r\n        else if ((verOffset = nAgt.indexOf(\"Safari\")) !== -1) {\r\n            browserName = \"Safari\";\r\n            fullVersion = nAgt.substring(verOffset + 7);\r\n            if ((verOffset = nAgt.indexOf(\"Version\")) !== -1) {\r\n                fullVersion = nAgt.substring(verOffset + 8);\r\n            }\r\n        }\r\n        // Firefox\r\n        else if ((verOffset = nAgt.indexOf(\"Firefox\")) !== -1) {\r\n            browserName = \"Firefox\";\r\n            fullVersion = nAgt.substring(verOffset + 8);\r\n        }\r\n        // In most other browsers, \"name/version\" is at the end of userAgent\r\n        else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\r\n            browserName = nAgt.substring(nameOffset, verOffset);\r\n            fullVersion = nAgt.substring(verOffset + 1);\r\n            if (browserName.toLowerCase() == browserName.toUpperCase()) {\r\n                browserName = navigator.appName;\r\n            }\r\n        }\r\n        // Trim the fullVersion string at semicolon/space if present\r\n        if ((ix = fullVersion.indexOf(\";\")) !== -1) {\r\n            fullVersion = fullVersion.substring(0, ix);\r\n        }\r\n        if ((ix = fullVersion.indexOf(\" \")) !== -1) {\r\n            fullVersion = fullVersion.substring(0, ix);\r\n        }\r\n        // Get major version\r\n        majorVersion = parseInt('' + fullVersion, 10);\r\n        if (isNaN(majorVersion)) {\r\n            fullVersion = '' + parseFloat(navigator.appVersion);\r\n            majorVersion = parseInt(navigator.appVersion, 10);\r\n        }\r\n        // Return data\r\n        return [browserName, majorVersion];\r\n    }\r\n\r\n    //https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\r\n    // launch fullscreen\r\n    function launchFullScreen(elem) {\r\n        if (!elem.fullscreenElement && // alternative standard method\r\n            !elem.mozFullScreenElement && !elem.webkitFullscreenElement && !elem.msFullscreenElement) { // current working methods\r\n            var requestFullScreen = elem.requestFullscreen || elem.msRequestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen;\r\n            requestFullScreen.call(elem);\r\n        }\r\n    }\r\n\r\n    // change styles of fullscreen accordingly\r\n    function fullScreenStyles() {\r\n        if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement) {\r\n            obj.fullScreenBtn.checked = true;\r\n            //must apply other styles in container\r\n            // obj.container.setAttribute(\"style\", \"width: 100%; height: 100%;\");\r\n            obj.container.className = obj.container.className = 'px-video-container fullscreen';\r\n            obj.controls.className = \"px-video-controls js-fullscreen-controls\";\r\n            obj.captionsContainer.className = \"px-video-captions js-fullscreen-captions\";\r\n            obj.movie.setAttribute('width', '100%');\r\n            obj.movie.setAttribute('height', '100%');\r\n        } else {\r\n            obj.fullScreenBtn.checked = false;\r\n            // revert back to default styles\r\n            // obj.container.setAttribute(\"style\", \"width:\" + obj.movieWidth + \"px\");\r\n            obj.container.className = obj.container.className = 'px-video-container';\r\n            obj.controls.className = \"px-video-controls\";\r\n            obj.captionsContainer.className = \"px-video-captions\";\r\n            obj.movie.setAttribute('width', obj.movieWidth);\r\n            obj.movie.setAttribute('height', obj.movieHeight);\r\n        }\r\n    }\r\n\r\n    // exit fullscreen\r\n    function exitFullScreen() {\r\n        // get appropriate vendor prefix and then call it with respect to the document\r\n        var exitFullScreen = document.exitFullscreen || document.msExitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen;\r\n        exitFullScreen.call(document);\r\n    }\r\n\r\n    // insert aria announce div\r\n    (function() {\r\n        var div = document.createElement('div');\r\n        div.id = 'px-video-aria-announce';\r\n        div.setAttribute('role', 'alert');\r\n        div.setAttribute('aria-atomic', 'true');\r\n        div.style.overflow = \"hidden\";\r\n        div.style.textIndent = '-999999px';\r\n        document.body.appendChild(div);\r\n    }());\r\n\r\n    // announce things to aria\r\n    function ariaAnnounce(msg) {\r\n        var announce = document.getElementById('px-video-aria-announce');\r\n        if (announce) {\r\n            announce.innerHTML = '<p>' + msg + '</p>';\r\n        }\r\n    }\r\n\r\n    // Global variable\r\n    var obj = {};\r\n\r\n    obj.arBrowserInfo = browserSniff();\r\n    obj.browserName = obj.arBrowserInfo[0];\r\n    obj.browserMajorVersion = obj.arBrowserInfo[1];\r\n\r\n    // If IE8, stop customization (use fallback)\r\n    // If IE9, stop customization (use native controls)\r\n    if (obj.browserName === \"IE\" && (obj.browserMajorVersion === 8 || obj.browserMajorVersion === 9)) {\r\n        return false;\r\n    }\r\n\r\n    // If smartphone or tablet, stop customization as video (and captions in latest devices) are handled natively\r\n    obj.isSmartphoneOrTablet = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);\r\n    if (obj.isSmartphoneOrTablet) {\r\n        return false;\r\n    }\r\n\r\n    // Set debug mode\r\n    if (typeof(options.debug) === 'undefined') {\r\n        options.debug = false;\r\n    }\r\n    obj.debug = options.debug;\r\n\r\n    // Output browser info to log if debug on\r\n    if (options.debug) {\r\n        console.log(obj.browserName + \" \" + obj.browserMajorVersion);\r\n    }\r\n\r\n    // Set up aria-label for Play button with the videoTitle option\r\n    if ((typeof(options.videoTitle) === 'undefined') || (options.videoTitle === \"\")) {\r\n        obj.playAriaLabel = \"Play\";\r\n    } else {\r\n        obj.playAriaLabel = \"Play video, \" + options.videoTitle;\r\n    }\r\n\r\n    // Get the container, video element, and controls container\r\n    obj.container = document.getElementById(options.videoId);\r\n    obj.movie = obj.container.getElementsByTagName('video')[0];\r\n    obj.controls = obj.container.getElementsByClassName('px-video-controls')[0];\r\n\r\n    // Remove native video controls\r\n    obj.movie.removeAttribute(\"controls\");\r\n\r\n    // Generate random number for ID/FOR attribute values for controls\r\n    obj.randomNum = Math.floor(Math.random() * (10000));\r\n\r\n    // Insert custom video controls\r\n    if (options.debug) {\r\n        console.log(\"Inserting custom video controls\");\r\n    }\r\n    obj.controls.innerHTML =\r\n        '<progress class=\"px-video-progress\" max=\"100\" value=\"0\"><span>0</span>% played</progress>' +\r\n        '<div class=\"controls-left\">' +\r\n        '<button class=\"px-video-restart\" title=\"' + GLOBAL_STRINGS['RESTART'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['RESTART'] + '</span></button>' +\r\n        '<button class=\"px-video-rewind\" title=\"' + GLOBAL_STRINGS['REWIND'] + '\"><span class=\"sr-only\">rewind <span class=\"px-seconds\">10</span> seconds</span></button>' +\r\n        '<button class=\"px-video-play\" aria-label=\"' + obj.playAriaLabel + '\" title=\"' + GLOBAL_STRINGS['PLAY'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['PLAY'] + '</span></button>' +\r\n        '<button class=\"px-video-pause hide\" title=\"' + GLOBAL_STRINGS['PAUSE'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['PAUSE'] + '</span></button>' +\r\n        '<button class=\"px-video-forward\" title=\"' + GLOBAL_STRINGS['FORWARD'] + '\"\"><span class=\"sr-only\">forward <span class=\"px-seconds\">10</span> seconds</span></button>' +\r\n        '</div>' +\r\n        '<div class=\"controls-right\">' +\r\n        '<div class=\"px-video-mute-btn-container\" title=\"' + GLOBAL_STRINGS['MUTE'] + '\">' +\r\n        '<input class=\"px-video-mute sr-only\" id=\"btnMute' + obj.randomNum + '\" type=\"checkbox\" />' +\r\n        '<label id=\"labelMute' + obj.randomNum + '\" for=\"btnMute' + obj.randomNum + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['MUTE'] + '</span></label>' +\r\n        '</div>' +\r\n        '<label for=\"volume' + obj.randomNum + '\" class=\"sr-only\">Volume:</label><input id=\"volume' + obj.randomNum + '\" class=\"px-video-volume\" type=\"range\" min=\"0\" max=\"10\" value=\"5\" />' +\r\n        '<div class=\"px-video-captions-btn-container hide\" title=\"' + GLOBAL_STRINGS['CAPTIONS'] + '\">' +\r\n        '<input class=\"px-video-btnCaptions sr-only\" id=\"btnCaptions' + obj.randomNum + '\" type=\"checkbox\" />' +\r\n        '<label for=\"btnCaptions' + obj.randomNum + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['CAPTIONS'] + '</span></label>' +\r\n        '</div>' +\r\n        '<div class=\"px-video-fullscreen-btn-container show-inline\" title=\"' + GLOBAL_STRINGS['TOGGLE_FULL_SCREEN'] + '\">' +\r\n        '<input class=\"px-video-btnFullScreen sr-only\" id=\"btnFullscreen' + obj.randomNum + '\" type=\"checkbox\" />' +\r\n        '<label for=\"btnFullscreen' + obj.randomNum + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['TOGGLE_FULL_SCREEN'] + '</span></label>' +\r\n        '</div>' +\r\n        '<div class=\"px-video-time\">' +\r\n        '<span class=\"sr-only\">time</span> <span class=\"px-video-duration\">00:00</span>' +\r\n        '</div>' +\r\n        '</div>' +\r\n        '</div>' +\r\n        '</div>';\r\n\r\n    // // Adjust layout per width of video - container\r\n    // obj.movieWidth = obj.movie.width;\r\n    // if (obj.movieWidth < 360) {\r\n    //     obj.movieWidth = 360;\r\n    // }\r\n    // // obj.container.setAttribute(\"style\", \"width:\" + obj.movieWidth + \"px\");\r\n\r\n    // // Added for fullscreen reference\r\n    // obj.movieHeight = obj.movie.height;\r\n\r\n    // // Adjust layout per width of video - controls/mute offset\r\n    // obj.labelMute = document.getElementById(\"labelMute\" + obj.randomNum);\r\n    // obj.labelMuteOffset = obj.movieWidth - 390;\r\n    // if (obj.browserName === \"Firefox\") { // adjust for Firefox rendering\r\n    //     obj.labelMuteOffset = obj.labelMuteOffset - 10;\r\n    // }\r\n    // if (obj.labelMuteOffset < 0) {\r\n    //     obj.labelMuteOffset = 0;\r\n    // }\r\n    // obj.labelMute.setAttribute(\"style\", \"margin-left:\" + obj.labelMuteOffset + \"px\");\r\n\r\n    // Get URL of caption file if exists\r\n    var captionSrc = \"\",\r\n        kind,\r\n        children = obj.movie.childNodes;\r\n\r\n    for (var i = 0; i < children.length; i++) {\r\n        if (children[i].nodeName.toLowerCase() === 'track') {\r\n            kind = children[i].getAttribute('kind');\r\n            if (kind === 'captions') {\r\n                captionSrc = children[i].getAttribute('src');\r\n            }\r\n        }\r\n    }\r\n\r\n    // Record if caption file exists or not\r\n    obj.captionExists = true;\r\n    if (captionSrc === \"\") {\r\n        obj.captionExists = false;\r\n        if (options.debug) {\r\n            console.log(\"No caption track found.\");\r\n        }\r\n    } else {\r\n        if (options.debug) {\r\n            console.log(\"Caption track found; URI: \" + captionSrc);\r\n        }\r\n    }\r\n\r\n    // Set captions on/off - on by default\r\n    if (typeof(options.captionsOnDefault) === 'undefined') {\r\n        options.captionsOnDefault = true;\r\n    }\r\n    obj.isCaptionDefault = options.captionsOnDefault;\r\n\r\n    // Number of seconds for rewind and forward buttons\r\n    if (typeof(options.seekInterval) === 'undefined') {\r\n        options.seekInterval = 10;\r\n    }\r\n    obj.seekInterval = options.seekInterval;\r\n\r\n    // Get the elements for the controls\r\n    obj.video = obj.container.getElementsByTagName('video')[0];\r\n    obj.btnPlay = obj.container.getElementsByClassName('px-video-play')[0];\r\n    obj.btnPause = obj.container.getElementsByClassName('px-video-pause')[0];\r\n    obj.btnRestart = obj.container.getElementsByClassName('px-video-restart')[0];\r\n    obj.btnRewind = obj.container.getElementsByClassName('px-video-rewind')[0];\r\n    obj.btnForward = obj.container.getElementsByClassName('px-video-forward')[0];\r\n    obj.btnVolume = obj.container.getElementsByClassName('px-video-volume')[0];\r\n    obj.btnMute = obj.container.getElementsByClassName('px-video-mute')[0];\r\n    obj.progressBar = obj.container.getElementsByClassName('px-video-progress')[0];\r\n    obj.progressBarSpan = obj.progressBar.getElementsByTagName('span')[0];\r\n    obj.captionsContainer = obj.container.getElementsByClassName('px-video-captions')[0];\r\n    obj.captionsBtn = obj.container.getElementsByClassName('px-video-btnCaptions')[0];\r\n    obj.captionsBtnContainer = obj.container.getElementsByClassName('px-video-captions-btn-container')[0];\r\n    obj.duration = obj.container.getElementsByClassName('px-video-duration')[0];\r\n    obj.txtSeconds = obj.container.getElementsByClassName('px-seconds');\r\n    obj.fullScreenBtn = obj.container.getElementsByClassName('px-video-btnFullScreen')[0];\r\n    obj.fullScreenBtnContainer = obj.container.getElementsByClassName('px-video-fullscreen-btn-container')[0];\r\n\r\n    // Update number of seconds in rewind and fast forward buttons\r\n    obj.txtSeconds[0].innerHTML = obj.seekInterval;\r\n    obj.txtSeconds[1].innerHTML = obj.seekInterval;\r\n\r\n    // Determine if HTML5 textTracks is supported (for captions)\r\n    obj.isTextTracks = false;\r\n    if (obj.movie.textTracks) {\r\n        obj.isTextTracks = true;\r\n    }\r\n\r\n\r\n\r\n    obj.movie.addEventListener(\"ended\", resetVideo, false);\r\n\r\n    function resetVideo() {\r\n        // resets the video element by resetting the source\r\n        //obj.video.src = obj.video.src;\r\n        obj.video.src = obj.container.getElementsByTagName('source')[0].getAttribute(\"src\");\r\n        if (!obj.isTextTracks) {\r\n            obj.subcount = 0;\r\n        }\r\n        obj.movie.currentTime = 0;\r\n        obj.movie.pause();\r\n        obj.btnPlay.className = \"px-video-play px-video-show-inline\";\r\n        obj.btnPause.className = \"px-video-pause hide\";\r\n       \r\n    }\r\n\r\n\r\n    // Play\r\n    obj.btnPlay.addEventListener('click', function() {\r\n        obj.movie.play();\r\n        obj.btnPlay.className = \"px-video-play hide\";\r\n        obj.btnPause.className = \"px-video-pause px-video-show-inline\";\r\n        obj.btnPause.focus();\r\n    }, false);\r\n\r\n    // Play by in-text controlls\r\n    $('.js-play-video').click(function(e) {\r\n        var $target = $(e.target).data('target');\r\n        console.log($target);\r\n        var which_container = document.getElementById($target);\r\n        var which_video = which_container.getElementsByTagName('video')[0];\r\n        var which_btnPlay = which_container.getElementsByClassName('px-video-play')[0];\r\n        var which_btnPause = which_container.getElementsByClassName('px-video-pause')[0];\r\n        which_video.play();\r\n        which_btnPlay.className = \"px-video-play hide\";\r\n        which_btnPause.className = \"px-video-pause px-video-show-inline\";\r\n\r\n    });\r\n\r\n\r\n    // Pause\r\n    obj.btnPause.addEventListener('click', function() {\r\n        obj.movie.pause();\r\n        obj.btnPlay.className = \"px-video-play px-video-show-inline\";\r\n        obj.btnPause.className = \"px-video-pause hide\";\r\n        obj.btnPlay.focus();\r\n    }, false);\r\n\r\n    // Restart\r\n    obj.btnRestart.addEventListener('click', function() {\r\n        // Move to beginning\r\n        obj.movie.currentTime = 0;\r\n\r\n        // Special handling for \"manual\" captions\r\n        if (!obj.isTextTracks) {\r\n            obj.subcount = 0;\r\n        }\r\n\r\n        // Play and ensure the play button is in correct state\r\n        obj.movie.play();\r\n        obj.btnPlay.className = \"px-video-play hide\";\r\n        obj.btnPause.className = \"px-video-pause px-video-show-inline\";\r\n\r\n\r\n    }, false);\r\n\r\n    // Rewind\r\n    obj.btnRewind.addEventListener('click', function() {\r\n        var targetTime = obj.movie.currentTime - obj.seekInterval;\r\n        if (targetTime < 0) {\r\n            obj.movie.currentTime = 0;\r\n        } else {\r\n            obj.movie.currentTime = targetTime;\r\n        }\r\n        // Special handling for \"manual\" captions\r\n        if (!obj.isTextTracks) {\r\n            adjustManualCaptions(obj);\r\n        }\r\n\r\n        // we do not need to announce negative times\r\n        var announcePos = Math.round(targetTime) > 0 ? Math.round(targetTime) : 0;\r\n        var announceMsg = 'rewind to ' + announcePos + ' seconds';\r\n        ariaAnnounce(announceMsg);\r\n    }, false);\r\n\r\n    // Fast forward\r\n    obj.btnForward.addEventListener('click', function() {\r\n        var targetTime = obj.movie.currentTime + obj.seekInterval;\r\n        if (targetTime > obj.movie.duration) {\r\n            obj.movie.currentTime = obj.movie.duration;\r\n        } else {\r\n            obj.movie.currentTime = targetTime;\r\n        }\r\n        // Special handling for \"manual\" captions\r\n        if (!obj.isTextTracks) {\r\n            adjustManualCaptions(obj);\r\n        }\r\n\r\n        var announceMsg = 'forward to ' + Math.round(targetTime) + ' seconds';\r\n        ariaAnnounce(announceMsg);\r\n    }, false);\r\n\r\n    // Get the HTML5 range input element and append audio volume adjustment on change\r\n    obj.btnVolume.addEventListener('change', function() {\r\n        obj.movie.volume = parseFloat(this.value / 10);\r\n    }, false);\r\n\r\n    // Mute\r\n    obj.btnMute.addEventListener('click', function() {\r\n        if (obj.movie.muted === true) {\r\n            obj.movie.muted = false;\r\n        } else {\r\n            obj.movie.muted = true;\r\n        }\r\n    }, false);\r\n\r\n    obj.btnMute.onkeypress = function(e) {\r\n        if (e.keyCode == 13) { // enter key\r\n            e.preventDefault();\r\n            if (this.checked == true) {\r\n                this.checked = false;\r\n            } else {\r\n                this.checked = true;\r\n            }\r\n            if (obj.movie.muted === true) {\r\n                obj.movie.muted = false;\r\n            } else {\r\n                obj.movie.muted = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Duration\r\n    obj.movie.addEventListener(\"timeupdate\", function() {\r\n        obj.secs = parseInt(obj.movie.currentTime % 60);\r\n        obj.mins = parseInt((obj.movie.currentTime / 60) % 60);\r\n\r\n        // Ensure it's two digits. For example, 03 rather than 3.\r\n        obj.secs = (\"0\" + obj.secs).slice(-2);\r\n        obj.mins = (\"0\" + obj.mins).slice(-2);\r\n\r\n        // Render\r\n        obj.duration.innerHTML = obj.mins + ':' + obj.secs;\r\n    }, false);\r\n\r\n    // Progress bar\r\n    obj.movie.addEventListener('timeupdate', function() {\r\n        obj.percent = (100 / obj.movie.duration) * obj.movie.currentTime;\r\n        if (obj.percent > 0) {\r\n            obj.progressBar.value = obj.percent;\r\n            obj.progressBarSpan.innerHTML = obj.percent;\r\n        }\r\n    }, false);\r\n\r\n    // Skip when clicking progress bar\r\n    obj.progressBar.addEventListener('click', function(e) {\r\n        // obj.pos = (e.pageX - this.offsetLeft) / this.offsetWidth;\r\n        obj.pos = (e.offsetX) / this.offsetWidth;\r\n        obj.movie.currentTime = obj.pos * obj.movie.duration;\r\n\r\n        // Special handling for \"manual\" captions\r\n        if (!obj.isTextTracks) {\r\n            adjustManualCaptions(obj);\r\n        }\r\n    });\r\n\r\n    // Toggle display of fullscreen button\r\n    obj.fullScreenBtn.addEventListener('click', function() {\r\n        if (this.checked) {\r\n            launchFullScreen(obj.container);\r\n        } else {\r\n            exitFullScreen();\r\n        }\r\n    }, false);\r\n    obj.fullScreenBtn.onkeypress = function(e) {\r\n        if (e.keyCode == 13) { // enter key\r\n            e.preventDefault();\r\n            if (this.checked == true) {\r\n                this.checked = false;\r\n                exitFullScreen();\r\n            } else {\r\n                this.checked = true;\r\n                launchFullScreen(obj.container);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Clear captions at end of video\r\n    obj.movie.addEventListener('ended', function() {\r\n        obj.captionsContainer.innerHTML = \"\";\r\n    });\r\n\r\n    // ***\r\n    // Captions\r\n    // ***\r\n\r\n    // Toggle display of captions via captions button\r\n    obj.captionsBtn.addEventListener('click', function() {\r\n        if (this.checked) {\r\n            obj.captionsContainer.className = \"px-video-captions show-inline\";\r\n        } else {\r\n            obj.captionsContainer.className = \"px-video-captions hide\";\r\n        }\r\n        // if fullscreen add fullscreen class\r\n        if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement) {\r\n            var currClass = obj.captionsContainer.className;\r\n            obj.captionsContainer.className = currClass + ' js-fullscreen-captions';\r\n        }\r\n    }, false);\r\n    obj.captionsBtn.onkeypress = function(e) {\r\n        if (e.keyCode == 13) { // enter key\r\n            e.preventDefault();\r\n            if (this.checked == true) {\r\n                this.checked = false;\r\n            } else {\r\n                this.checked = true;\r\n            }\r\n            if (this.checked) {\r\n                obj.captionsContainer.className = \"px-video-captions show-inline\";\r\n            } else {\r\n                obj.captionsContainer.className = \"px-video-captions hide\";\r\n            }\r\n        }\r\n    }\r\n\r\n    // If no caption file exists, hide container for caption text\r\n    if (!obj.captionExists) {\r\n        obj.captionsContainer.className = \"px-video-captions hide\";\r\n    }\r\n\r\n    // If caption file exists, process captions\r\n    else {\r\n\r\n        // Can't use native captioning in the follow browsers:\r\n        if ((obj.browserName === \"IE\" && obj.browserMajorVersion === 10) ||\r\n            (obj.browserName === \"IE\" && obj.browserMajorVersion === 11) ||\r\n            (obj.browserName === \"Firefox\" && obj.browserMajorVersion >= 31) ||\r\n            (obj.browserName === \"Chrome\" && obj.browserMajorVersion === 43) ||\r\n            (obj.browserName === \"Safari\" && obj.browserMajorVersion >= 7)) {\r\n            if (options.debug) {\r\n                console.log(\"Detected browser unable to play HTML5 captions; using custom captions\");\r\n            }\r\n            // set to false so skips to 'manual' captioning\r\n            obj.isTextTracks = false;\r\n\r\n            // turn off native caption rendering to avoid double captions [doesn't work in Safari 7; see patch below]\r\n            var track = {};\r\n            var tracks = obj.movie.textTracks;\r\n            for (var j = 0; j < tracks.length; j++) {\r\n                track = obj.movie.textTracks[j];\r\n                track.mode = \"hidden\";\r\n            }\r\n        }\r\n\r\n        // Rendering caption tracks - native support required - http://caniuse.com/webvtt\r\n        if (obj.isTextTracks) {\r\n            if (options.debug) {\r\n                console.log(\"textTracks supported\");\r\n            }\r\n            showCaptionContainerAndButton(obj);\r\n\r\n            var track = {};\r\n            var tracks = obj.movie.textTracks;\r\n            for (var j = 0; j < tracks.length; j++) {\r\n                track = obj.movie.textTracks[j];\r\n                track.mode = \"hidden\";\r\n                if (track.kind === \"captions\") {\r\n                    track.addEventListener(\"cuechange\", function() {\r\n                        if (this.activeCues[0]) {\r\n                            if (this.activeCues[0].hasOwnProperty(\"text\") || this.activeCues[0].text !== \"\") {\r\n                                obj.captionsContainer.innerHTML = this.activeCues[0].text;\r\n                            }\r\n                        }\r\n                    }, false);\r\n                }\r\n            }\r\n        }\r\n        // Caption tracks not natively supported\r\n        else {\r\n            if (options.debug) {\r\n                console.log(\"textTracks not supported so rendering captions 'manually'\");\r\n            }\r\n            showCaptionContainerAndButton(obj);\r\n\r\n            // Render captions from array at appropriate time\r\n            obj.currentCaption = '';\r\n            obj.subcount = 0;\r\n            obj.captions = [];\r\n\r\n            obj.movie.addEventListener('timeupdate', function() {\r\n                // Check if the next caption is in the current time range\r\n                if (obj.movie.currentTime.toFixed(1) > video_timecode_min(obj.captions[obj.subcount][0]) &&\r\n                    obj.movie.currentTime.toFixed(1) < video_timecode_max(obj.captions[obj.subcount][0])) {\r\n                    obj.currentCaption = obj.captions[obj.subcount][1];\r\n                }\r\n                // Is there a next timecode?\r\n                if (obj.movie.currentTime.toFixed(1) > video_timecode_max(obj.captions[obj.subcount][0]) &&\r\n                    obj.subcount < (obj.captions.length - 1)) {\r\n                    obj.subcount++;\r\n                }\r\n                // Render the caption\r\n                obj.captionsContainer.innerHTML = obj.currentCaption;\r\n            }, false);\r\n\r\n            if (captionSrc != \"\") {\r\n                // Create XMLHttpRequest object\r\n                var xhr;\r\n                if (window.XMLHttpRequest) {\r\n                    xhr = new XMLHttpRequest();\r\n                } else if (window.ActiveXObject) { // IE8\r\n                    xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n                }\r\n                xhr.onreadystatechange = function() {\r\n                    if (xhr.readyState === 4) {\r\n                        if (xhr.status === 200) {\r\n                            if (options.debug) {\r\n                                console.log(\"xhr = 200\");\r\n                            }\r\n\r\n                            obj.captions = [];\r\n                            var records = [],\r\n                                record,\r\n                                req = xhr.responseText;\r\n                            records = req.split('\\n\\n');\r\n                            for (var r = 0; r < records.length; r++) {\r\n                                record = records[r];\r\n                                obj.captions[r] = [];\r\n                                obj.captions[r] = record.split('\\n');\r\n                            }\r\n                            // Remove first element (\"VTT\")\r\n                            obj.captions.shift();\r\n\r\n                            if (options.debug) {\r\n                                console.log('Successfully loaded the caption file via ajax.');\r\n                            }\r\n                        } else {\r\n                            if (options.debug) {\r\n                                console.log('There was a problem loading the caption file via ajax.');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                xhr.open(\"get\", captionSrc, true);\r\n                xhr.send();\r\n            }\r\n        }\r\n\r\n        // If Safari 7, removing track from DOM [see 'turn off native caption rendering' above]\r\n        if (obj.browserName === \"Safari\" && obj.browserMajorVersion === 7) {\r\n            console.log(\"Safari 7 detected; removing track from DOM\");\r\n            var tracks = obj.movie.getElementsByTagName(\"track\");\r\n            obj.movie.removeChild(tracks[0]);\r\n        }\r\n    }\r\n\r\n    document.addEventListener(\"fullscreenchange\", function() {\r\n        fullScreenStyles();\r\n    }, false);\r\n\r\n    document.addEventListener(\"mozfullscreenchange\", function() {\r\n        fullScreenStyles();\r\n    }, false);\r\n\r\n    document.addEventListener(\"webkitfullscreenchange\", function() {\r\n        fullScreenStyles();\r\n    }, false);\r\n\r\n    document.addEventListener(\"MSFullscreenChange\", function() {\r\n        fullScreenStyles();\r\n    }, false);\r\n};\r\n\r\nnew InitPxVideo({\r\n    \"videoId\": \"drLukas\",\r\n    \"captionsOnDefault\": false,\r\n    \"seekInterval\": 10,\r\n    \"videoTitle\": \"Dr Lukas\",\r\n    // \"debug\": true\r\n});\r\n\r\nnew InitPxVideo({\r\n    \"videoId\": \"governor\",\r\n    \"captionsOnDefault\": false,\r\n    \"seekInterval\": 20,\r\n    \"videoTitle\": \"Governor Baker\",\r\n    // \"debug\": true\r\n});\r\n\r\n\r\nnew InitPxVideo({\r\n    \"videoId\": \"sarahWakeman\",\r\n    \"captionsOnDefault\": false,\r\n    \"seekInterval\": 10,\r\n    \"videoTitle\": \"Sarah Wakeman\",\r\n    \"debug\": true\r\n});\r\n\r\nnew InitPxVideo({\r\n    \"videoId\": \"cotto\",\r\n    \"captionsOnDefault\": false,\r\n    \"seekInterval\": 10,\r\n    \"videoTitle\": \"Cotto\",\r\n    // \"debug\": true\r\n});\r\n\r\nnew InitPxVideo({\r\n    \"videoId\": \"sue\",\r\n    \"captionsOnDefault\": false,\r\n    \"seekInterval\": 10,\r\n    \"videoTitle\": \"Sue\",\r\n    // \"debug\": true\r\n});\r\n","(function() {\r\n  var slice = [].slice;\r\n\r\n  function queue(parallelism) {\r\n    var q,\r\n        tasks = [],\r\n        started = 0, // number of tasks that have been started (and perhaps finished)\r\n        active = 0, // number of tasks currently being executed (started but not finished)\r\n        remaining = 0, // number of tasks not yet finished\r\n        popping, // inside a synchronous task callback?\r\n        error = null,\r\n        await = noop,\r\n        all;\r\n\r\n    if (!parallelism) parallelism = Infinity;\r\n\r\n    function pop() {\r\n      while (popping = started < tasks.length && active < parallelism) {\r\n        var i = started++,\r\n            t = tasks[i],\r\n            a = slice.call(t, 1);\r\n        a.push(callback(i));\r\n        ++active;\r\n        t[0].apply(null, a);\r\n      }\r\n    }\r\n\r\n    function callback(i) {\r\n      return function(e, r) {\r\n        --active;\r\n        if (error != null) return;\r\n        if (e != null) {\r\n          error = e; // ignore new tasks and squelch active callbacks\r\n          started = remaining = NaN; // stop queued tasks from starting\r\n          notify();\r\n        } else {\r\n          tasks[i] = r;\r\n          if (--remaining) popping || pop();\r\n          else notify();\r\n        }\r\n      };\r\n    }\r\n\r\n    function notify() {\r\n      if (error != null) await(error);\r\n      else if (all) await(error, tasks);\r\n      else await.apply(null, [error].concat(tasks));\r\n    }\r\n\r\n    return q = {\r\n      defer: function() {\r\n        if (!error) {\r\n          tasks.push(arguments);\r\n          ++remaining;\r\n          pop();\r\n        }\r\n        return q;\r\n      },\r\n      await: function(f) {\r\n        await = f;\r\n        all = false;\r\n        if (!remaining) notify();\r\n        return q;\r\n      },\r\n      awaitAll: function(f) {\r\n        await = f;\r\n        all = true;\r\n        if (!remaining) notify();\r\n        return q;\r\n      }\r\n    };\r\n  }\r\n\r\n  function noop() {}\r\n\r\n  queue.version = \"1.0.7\";\r\n  if (typeof define === \"function\" && define.amd) define(function() { return queue; });\r\n  else if (typeof module === \"object\" && module.exports) module.exports = queue;\r\n  else this.queue = queue;\r\n})();\r\n","var Vis = (function(d3) {\r\n    \"use strict\";\r\n\r\n    var visualizationWrapper = d3.select('#binaryMaps_maps');\r\n\r\n    var geojson;\r\n    queue()\r\n        .defer(d3.json, 'js/data/TOWN.geo.json')\r\n        .defer(d3.json, 'js/data/rate_5yr_odc.json')\r\n        .await(visualize);\r\n\r\n    var width = 525,\r\n        height = 325;\r\n\r\n    var projection = d3.geo.conicConformal()\r\n        .parallels([41 + 43 / 60, 42 + 41 / 60])\r\n        .rotate([71 + 30 / 60, -41])\r\n        .scale([8600])\r\n        .translate([280, 360]);\r\n\r\n    var $maps_sub = d3.select(\"#carte\").append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n    var colors_5yr = [\"#d3d3d3\", \"#9ecae1\", \"#6baed6\", \"#2171b5\", \"#084594\"];\r\n\r\n    var path = d3.geo.path().projection(projection),\r\n        palette = d3.scale.threshold().domain([0.1, 2.1, 6.1, 17.1, Infinity])\r\n        //.range([\"#d3d3d3\", '#db8d8d', '#c54949', \"#b71c1c\", '#801313']);\r\n        .range(colors_5yr);\r\n\r\n\r\n\r\n    function visualize(error, states, data) {\r\n\r\n\r\n\r\n        data.data.forEach(function(data, i) {\r\n            var wrapper = visualizationWrapper.append('div').attr('class', 'map-wrapper').append('div');\r\n\r\n            createMap(wrapper, states, data);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    function createMap(wrapper, geo, data) {\r\n\r\n        wrapper.append('span')\r\n            .text(function(d) {\r\n                if (data.key == 2005) {\r\n                    return '2001 to 2005';\r\n                } else if (data.key == 2010) {\r\n                    return '2006 to 2010';\r\n                } else if (data.key == 2015) {\r\n                    return '2011 to 2015';\r\n                }\r\n            })\r\n            .attr('class', 'vis-title')\r\n            .style('padding-bottom', \"3%\");\r\n\r\n\r\n\r\n\r\n        wrapper.append('span')\r\n            .text(\"\")\r\n            .attr('class', 'selection-label');\r\n\r\n        var $maps_sub = wrapper\r\n            .classed(\"svg-container\", true) //container class to make it responsive\r\n            .append(\"svg\")\r\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\r\n            .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\r\n            //class to make it responsive\r\n            .classed(\"svg-content-responsive\", true);\r\n\r\n        $maps_sub.selectAll('path')\r\n            .data(geo.features)\r\n            .enter()\r\n            .append('path')\r\n            .attr('d', path)\r\n            .style(\"stroke\", \"white\")\r\n            .style(\"stroke-width\", \"0.0px\")\r\n            .style('fill', function(d, i) {\r\n                var value = data.values[d.properties.TOWN];\r\n                return palette(value);\r\n            })\r\n            .on('mouseover', function(d, i) {\r\n\r\n            })\r\n            .on('mouseout', function(d, i) {\r\n\r\n            })\r\n            .attr('class', function(d) {\r\n\t\treturn d.properties.TOWN.toLowerCase()+' bsasmap';\r\n            })\r\n            .on('mouseenter', function(d, i) {\r\n                notify('.' + d.properties.TOWN.toLowerCase(), 'select');\r\n                // var currentState = this;\r\n                // console.log(this);\r\n                // d3.select(this).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\r\n            })\r\n            .on('mouseleave', function(d) {\r\n                notify('.' + d.properties.TOWN.toLowerCase(), 'unselect');\r\n\r\n            })\r\n            .on('select', function(self) {\r\n                var geoData = self.data();\r\n                var town_value\r\n\r\n                if (data.values[geoData[0].properties.TOWN] > 0) {\r\n                    town_value = d3.format(\".1f\")(data.values[geoData[0].properties.TOWN]);\r\n                } else { town_value = \"0\"; }\r\n\r\n                //console.log(town_value);\r\n\r\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = (geoData[0].properties.TOWN_1 + \"<br>\" + town_value) + \" per 100,000\";\r\n                d3.select((self.node())).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\r\n            })\r\n            .on('unselect', function(self) {\r\n                //     self.node().parentNode.parentNode.getElementsByTagName('p2')[0].innerHTML = \"\";\r\n                //     d3.selectAll('#treatmentMaps_maps path').style({ 'fill-opacity': 1 }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\r\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = \"\";\r\n\t\td3.selectAll('path.bsasmap').style({\r\n                    'fill-opacity': 1\r\n                }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\r\n            })\r\n\r\n        function notify(selector, eventName) {\r\n            d3.selectAll(selector)[0].forEach(function(el, i) {\r\n                var shape = d3.select(el);\r\n                shape.on(eventName)(shape);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    var opChgScale = d3.scale.threshold().domain([0.1, 2.1, 6.1, 17.1, Infinity])\r\n        //.range([\"#d3d3d3\", '#db8d8d', '#c54949', \"#b71c1c\", '#801313'])\r\n        .range(colors_5yr);\r\n    opChgScale.domainStrings = function() {\r\n        return (['0', '>0-2.1', '>2.1-6.1', '>6.1-17.1', '>17.1']);\r\n    };\r\n    //popChgScale.domainStrings = function() { return (['< 0.1', '0.25-0.50', '0.50-0.75', '0.75-1.0', '1.0-1.25',\r\n    //'1.25-1.50', '1.50-1.75', '1.75-2.0', '> 2.0']); };\r\n    generateLegend_map_sub(opChgScale, 'binaryMaps_legend', 'Rate per 100,000 People');\r\n\r\n    function generateLegend_map_sub(scale, szDivId, szCaption) {\r\n\r\n        var legendHeight = 60,\r\n            legendWidth = '90%';\r\n\r\n\r\n\r\n        var $maps_sub_svg = d3.select('#' + szDivId).append(\"svg\")\r\n            .attr(\"width\", legendWidth)\r\n            .attr(\"height\", legendHeight);\r\n\r\n        var $maps_sub_legends = $maps_sub_svg.append(\"g\");\r\n\r\n        // Create data array.\r\n        var legendData = [];\r\n        // legendData.push({\r\n        //     d: -9999,\r\n        //     r: '#f1f1f1',\r\n        //     s: 'N/A*'\r\n        // });\r\n        for (var i = 0; i < scale.domain().length; i++) {\r\n            legendData.push({\r\n                d: scale.domain()[i],\r\n                r: scale.range()[i],\r\n                s: scale.domainStrings()[i]\r\n            });\r\n        }\r\n        var unitWidth = 100 / legendData.length;\r\n\r\n        $maps_sub_legends.selectAll(\"rect\")\r\n            .data(legendData)\r\n            .enter().append(\"rect\")\r\n            .attr(\"height\", legendHeight / 3)\r\n            .attr(\"width\", function(d, i) {\r\n                return unitWidth + '%';\r\n            })\r\n            .attr(\"x\", function(d, i) {\r\n                return (i * unitWidth) + '%';\r\n            })\r\n            .attr(\"y\", 20)\r\n            .style(\"stroke\", \"black\")\r\n            .style(\"stroke-width\", \"0.25px\")\r\n            .style(\"fill\", function(d, i) {\r\n                return d.r;\r\n            });\r\n\r\n        $maps_sub_legends.selectAll(\"text\")\r\n            .data(legendData)\r\n            .enter().append(\"text\")\r\n            .attr('text-anchor', 'middle')\r\n            .attr(\"x\", function(d, i) {\r\n                return (i * unitWidth) + (unitWidth / 2) + '%';\r\n            })\r\n            .attr(\"y\", 55)\r\n            .text(function(d, i) {\r\n                return d.s;\r\n            });\r\n\r\n        $maps_sub_legends.append(\"text\")\r\n            .attr(\"class\", \"vis-caption\")\r\n            .attr(\"y\", 12)\r\n            .text(szCaption);\r\n    }\r\n\r\n\r\n\r\n    $('.js-toggle-binary-map').click(function() {\r\n        var date = $(this).data('date');\r\n        $('#binaryMaps').attr('data-active-date', date);\r\n        $('.js-toggle-binary-map').removeClass('active');\r\n        $(this).addClass('active');\r\n    });\r\n\r\n})(d3);\r\nconsole.log(\"file loaded - binary\")\r\n","var Vis = (function(d3) {\r\n    \"use strict\";\r\n\r\n    var visualizationWrapper = d3.select('#treatmentMaps_maps');\r\n\r\n    var geojson;\r\n    queue()\r\n        .defer(d3.json, 'js/data/TOWN.geo.json')\r\n        .defer(d3.json, 'js/data/maps_susbtance_data.json')\r\n        .await(visualize);\r\n\r\n    var width = 525,\r\n        height = 325;\r\n\r\n    var projection = d3.geo.conicConformal()\r\n        .parallels([41 + 43 / 60, 42 + 41 / 60])\r\n        .rotate([71 + 30 / 60, -41])\r\n        .scale([7500])\r\n        .translate([280, 330]);\r\n\r\n    var $maps_sub = d3.select(\"#carte\").append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n    var path = d3.geo.path().projection(projection),\r\n        palette = d3.scale.threshold().domain([-0.1, 0.01, 0.14, 0.24, 0.33, 0.46, 1.1])\r\n        .range(['#d1d1d1','#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016450']);\r\n\r\n\r\n\r\n    function visualize(error, states, data) {\r\n\r\n\r\n\r\n        data.data.forEach(function(data, i) {\r\n            var wrapper = visualizationWrapper.append('div').attr('class', 'map-wrapper').append('div');\r\n\r\n            createMap(wrapper, states, data);\r\n        });\r\n    }\r\n\r\n    //console.log(geo.features)\r\n\r\n\r\n    function createMap(wrapper, geo, data) {\r\n\r\n        wrapper.append('span')\r\n            .text(data.key)\r\n            .attr('class', 'vis-title');\r\n        wrapper.append('span')\r\n            .text(\"\")\r\n            .attr('class', 'selection-label');\r\n\r\n        var $maps_sub = wrapper\r\n            .classed(\"svg-container\", true) //container class to make it responsive\r\n            .append(\"svg\")\r\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\r\n            .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\r\n            //class to make it responsive\r\n            .classed(\"svg-content-responsive\", true);\r\n\r\n        $maps_sub.selectAll('path')\r\n            .data(geo.features)\r\n            .enter()\r\n            .append('path')\r\n            .attr('d', path)\r\n            .style(\"stroke\", \"white\")\r\n            .style(\"stroke-width\", \"0.0px\")\r\n            .style('fill', function(d, i) {\r\n                var value = data.values[d.properties.TOWN];\r\n                return palette(value);\r\n            })\r\n            .on('mouseover', function(d, i) {\r\n\r\n            })\r\n            .on('mouseout', function(d, i) {\r\n\r\n            })\r\n            .attr('class', function(d) {\r\n        return d.properties.TOWN.toLowerCase() + ' bsasmap';\r\n            })\r\n            .on('mouseenter', function(d, i) {\r\n                notify('.' + d.properties.TOWN.toLowerCase(), 'select');\r\n                // var currentState = this;\r\n                // console.log(this);\r\n                // d3.select(this).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\r\n            })\r\n            .on('mouseleave', function(d) {\r\n                notify('.' + d.properties.TOWN.toLowerCase(), 'unselect');\r\n\r\n            })\r\n            .on('select', function(self) {\r\n                var geoData = self.data();\r\n                var town_value\r\n\r\n                if (data.values[geoData[0].properties.TOWN] >= 0) {\r\n                    //console.log(data.values[geoData[0].properties.TOWN] == 'Null');\r\n                    town_value = d3.format(\"%,.2f\")(data.values[geoData[0].properties.TOWN]);\r\n                } else {\r\n                    //console.log(data.values[geoData[0].properties.TOWN])\r\n            town_value = \"N/A\";\r\n                };\r\n\r\n                //console.log(town_value);\r\n\r\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = (geoData[0].properties.TOWN_1 + \":  \" + town_value);\r\n                d3.select((self.node())).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\r\n                //console.log(geoData[0].properties);\r\n            })\r\n            .on('unselect', function(self) {\r\n                //     self.node().parentNode.parentNode.getElementsByTagName('p2')[0].innerHTML = \"\";\r\n                //     d3.selectAll('#treatmentMaps_maps path').style({ 'fill-opacity': 1 }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\r\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = \"\";\r\n        d3.selectAll('path.bsasmap').style({\r\n                    'fill-opacity': 1\r\n                }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\r\n            })\r\n\r\n        function notify(selector, eventName) {\r\n            d3.selectAll(selector)[0].forEach(function(el, i) {\r\n                var shape = d3.select(el);\r\n                shape.on(eventName)(shape);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    var opChgScale = d3.scale.threshold().domain([0, 0.1, 0.15, 0.35, 0.6, 1.00]).range(['#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016450'])\r\n    opChgScale.domainStrings = function() {\r\n        return (['0%', '>0-14%', '>14-24%', '>24-33%', '>33-46%', '>46-100%'\r\n        ]);\r\n    };\r\n    //popChgScale.domainStrings = function() { return (['< 0.1', '0.25-0.50', '0.50-0.75', '0.75-1.0', '1.0-1.25',\r\n    //'1.25-1.50', '1.50-1.75', '1.75-2.0', '> 2.0']); };\r\n    generateLegend_map_sub(opChgScale, 'treatmentMaps_legend', 'Heroin Primary Substance of Abuse upon Seeking Treatment (%)');\r\n\r\n    function generateLegend_map_sub(scale, szDivId, szCaption) {\r\n        var width = 550,\r\n            height = 70;\r\n\r\n        var $maps_sub_svg = d3.select('#' + szDivId).append(\"svg\")\r\n            .attr(\"width\", \"100%\")\r\n            .attr(\"height\", height);\r\n\r\n        var $maps_sub_legends = $maps_sub_svg.append(\"g\");\r\n\r\n        // Create data array.\r\n        var legendData = [];\r\n        legendData.push({\r\n            d: -9999,\r\n            r: '#d1d1d1',\r\n        s: 'N/A*'\r\n        });\r\n        var i;\r\n        for (i = 0; i < scale.domain().length; i++) {\r\n            legendData.push({\r\n                d: scale.domain()[i],\r\n                r: scale.range()[i],\r\n                s: scale.domainStrings()[i]\r\n            });\r\n        }\r\n\r\n        $maps_sub_legends.selectAll(\"rect\")\r\n            .data(legendData)\r\n            .enter().append(\"rect\")\r\n            .attr(\"height\", 20)\r\n            .attr(\"width\", 60)\r\n            .attr(\"x\", function(d, i) {\r\n                return (i * (100 / legendData.length)) + \"%\";\r\n            })\r\n            .attr(\"y\", 20)\r\n            .style(\"stroke\", \"black\")\r\n            .style(\"stroke-width\", \"0.25px\")\r\n            .style(\"fill\", function(d, i) {\r\n                return d.r;\r\n            });\r\n\r\n        $maps_sub_legends.selectAll(\"text\")\r\n            .data(legendData)\r\n            .enter().append(\"text\")\r\n            .attr('text-anchor', 'middle')\r\n            .attr(\"x\", function(d, i) {\r\n                return ((i * (100 / legendData.length)) + 7) + \"%\";\r\n            })\r\n            .attr(\"y\", 55)\r\n            .text(function(d, i) {\r\n                return d.s;\r\n            });\r\n\r\n        $maps_sub_legends.append(\"text\")\r\n            .attr(\"class\", \"vis-caption\")\r\n            .attr(\"y\", 12)\r\n            .text(szCaption);\r\n    }\r\n\r\n\r\n\r\n    $('.js-toggle-treatment-map').click(function() {\r\n        var date = $(this).data('date');\r\n        $('#treatmentMaps').attr('data-active-date', date);\r\n        $('.js-toggle-treatment-map').removeClass('active');\r\n        $(this).addClass('active');\r\n    });\r\n\r\n})(d3);\r\n","/* global d3 */\r\n\r\n(function() {\r\n    \"use strict\";\r\n\r\n    var selector = '#deathLines';\r\n    var rootNode = document.querySelector(selector);\r\n\r\n    // Initial dimensions\r\n    var dimensions = {\r\n        margin: {\r\n            top: 20,\r\n            right: 20,\r\n            bottom: 20,\r\n            left: 50\r\n        },\r\n        width: rootNode.clientWidth,\r\n        height: 350\r\n    };\r\n\r\n    var MDG = 29;\r\n\r\n\r\n    var Massachusetts = [\"MA\"];\r\n    var UnitedStates = [\"USA\"];\r\n\r\n    var lines;\r\n    //var lines_hit_area;\r\n\r\n\r\n    // Setup\r\n\r\n    //Set up date formatting and years\r\n    var dateFormat = d3.time.format(\"%Y\");\r\n    //Set up scales\r\n    var xScale = d3.time.scale();\r\n    //var yScale = d3.scale.sqrt();\r\n    var yScale = d3.scale.linear();\r\n    var xAxis_death = d3.svg.axis();\r\n    var yAxis_death = d3.svg.axis();\r\n    var line_death = d3.svg.line();\r\n\r\n    //Create the empty SVG image\r\n    var $lines_death = d3.select(selector)\r\n        .append(\"svg\")\r\n        .attr(\"width\", dimensions.width)\r\n        .attr(\"height\", dimensions.height);\r\n\r\n\r\n    var $lines_death_x_axis = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"vis-x-axis\")\r\n        .attr(\"transform\", \"translate(0,\" + (dimensions.height - dimensions.margin.bottom - dimensions.margin.top) + \")\")\r\n        .call(xAxis_death);\r\n\r\n    var $lines_death_x_axis_label = $lines_death_x_axis\r\n        .append(\"text\")\r\n        .attr(\"x\", (dimensions.width - dimensions.margin.left) / 2)\r\n        .attr(\"y\", dimensions.margin.bottom)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-x-axis-label\")\r\n        .text(\"Year\");\r\n\r\n    var $lines_death_y_axis = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"vis-y-axis\")\r\n        .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')')\r\n        .call(yAxis_death);\r\n\r\n    var $lines_death_y_axis_label = $lines_death_y_axis\r\n        .append(\"text\")\r\n        .attr(\"x\", -(dimensions.height / 2))\r\n        .attr(\"y\", -dimensions.margin.left)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-y-axis-label\")\r\n        .text(\"Age-Adjusted Opioid-related Death Rate per 100,000 People\");\r\n\r\n\r\n    var $lines_death_ma_label = $lines_death.append(\"text\")\r\n        .attr(\"class\", \"aside-ma\")\r\n        .attr(\"x\", dimensions.width - dimensions.margin.left - 15)\r\n        .attr(\"y\", yScale(23.8) - 6)\r\n        .attr(\"dy\", \"1em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(\"MA\");\r\n\r\n    var $lines_death_usa_label = $lines_death.append(\"text\")\r\n        .attr(\"class\", \"aside-usa\")\r\n        .attr(\"x\", dimensions.width - dimensions.margin.left - 45)\r\n        .attr(\"y\", yScale(10.0) - 6)\r\n        .attr(\"dy\", \"1em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(\"USA\");\r\n\r\n\r\n    //defines a function to be used to append the title to the tooltip.  you can set how you want it to display here.\r\n    //var maketip = function(d) {\r\n    //    var tip = '<p class=\"tip3\">' + d.name + '<p class=\"tip1\">' + NumbType(d.value) + '</p> <p class=\"tip3\">' + formatDate(d.date) + '</p>';\r\n    //    return tip;\r\n    //}\r\n    // add a tooltip to the page - not to the svg itself!\r\n    var tooltip_death = d3.select(\"#deathLines\").append(\"div\").attr(\"class\", \"vis-tooltip hidden\");\r\n\r\n    var focus = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"focus\")\r\n        .classed(\"hidden\", true);\r\n\r\n\r\n\r\n    // Actually do stuff.\r\n    d3.csv(\"js/data/death_states.csv\", function(data) {\r\n        setupData(data);\r\n        render();\r\n        // bindEvents();\r\n        window.addEventListener('resize', render);\r\n\r\n    });\r\n\r\n\r\n    function setupData(data) {\r\n        var years = d3.keys(data[0]).slice(0, 65);\r\n        //Create a new, empty array to hold our restructured dataset\r\n        var dataset = [];\r\n\r\n        //Loop once for each row in data\r\n        data.forEach(function(d, i) {\r\n            var OMRs = [];\r\n            years.forEach(function(y) { //Loop through all the years - and get the rates for this data element\r\n                if (d[y]) { /// What we are checking is if the \"y\" value - the year string from our array, which would translate to a column in our csv file - is empty or not.\r\n                    OMRs.push({ //Add a new object to the new rates data array - for year, rate. These are OBJECTS that we are pushing onto the array\r\n                        year: y,\r\n                        rate: d[y], // this is the value for, for example, d[\"2004\"]\r\n                        Geography: d.Geography,\r\n                        FullName: d.FullName\r\n                    });\r\n                }\r\n            });\r\n            dataset.push({ // At this point we are accessing one index of data from our original csv \"data\", above and we have created an array of year and rate data from this index. We then create a new object with the Geography value from this index and the array that we have made from this index.\r\n                Geography: d.Geography,\r\n                FullName: d.FullName,\r\n                rates: OMRs // we just built this from the current index.\r\n            });\r\n        });\r\n\r\n        data.dataset = dataset;\r\n\r\n        //Set scale domains - max and min of the years\r\n        xScale.domain(\r\n            d3.extent(years, function(d) {\r\n                return dateFormat.parse(d);\r\n            }));\r\n\r\n        // max of rates to 0 (reversed, remember)\r\n        yScale.domain([\r\n            d3.max(dataset, function(d) {\r\n                return d3.max(d.rates, function(d) {\r\n                    return +d.rate;\r\n                });\r\n            }),\r\n            0\r\n        ]);\r\n\r\n        var groups = $lines_death.selectAll(\"g.lines-death\")\r\n            .data(dataset)\r\n            .enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", \"lines-death\");\r\n\r\n        lines = groups.selectAll(\"path\")\r\n            .data(function(d) { // because there's a group with data already...\r\n                return [d.rates]; // it has to be an array for the line function\r\n            })\r\n            .enter()\r\n            .append(\"path\")\r\n            .attr(\"class\", \"line-death\")\r\n            .classed(\"massachusetts\", function(d, i) {\r\n                //console.log(d[i].Geography);\r\n                if ($.inArray(d[i].Geography, Massachusetts) !== -1) {\r\n                    //console.log(\"true\");\r\n                    return true;\r\n                } else {\r\n                    //console.log(\"false\");\r\n                    return false;\r\n                }\r\n            })\r\n            .classed(\"usa\", function(d, i) {\r\n                //console.log(d[i].Geography);\r\n                if ($.inArray(d[i].Geography, UnitedStates) !== -1) {\r\n                    //console.log(\"true\");\r\n                    return true;\r\n                } else {\r\n                    //console.log(\"false\");\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        // var lines_hit_area = groups.selectAll(\"path\")\r\n        //     .data(function(d) { // because there's a group with data already...\r\n        //         return [d.rates]; // it has to be an array for the line function\r\n        //     })\r\n        //     .enter()\r\n        //     .append(\"path\")\r\n        //     .attr(\"class\", \"line-death\")\r\n        //     .attr(\"style\", \"stroke:transparent;stroke-width:10px\")\r\n        //     .style(\"fill\", \"none\");\r\n\r\n            d3.selectAll(\"g.lines-death\")\r\n            .on(\"mouseover\", mouseoverFunc)\r\n            .on(\"mouseout\", mouseoutFunc)\r\n            .on(\"mousemove\", mousemoveFunc);\r\n    }\r\n\r\n\r\n\r\n    function updateDimensions() {\r\n        dimensions.width = rootNode.clientWidth;\r\n        if (dimensions.width < 500) {\r\n            dimensions.margin.left = 30;\r\n        } else {\r\n            dimensions.margin.left = 50;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function render() {\r\n        updateDimensions();\r\n\r\n        $lines_death.attr('width', dimensions.width);\r\n\r\n        xScale.range([dimensions.margin.left, dimensions.width - dimensions.margin.right - dimensions.margin.left]);\r\n        yScale.range([dimensions.margin.top, dimensions.height - dimensions.margin.bottom - dimensions.margin.top]);\r\n\r\n        //Configure axis generators\r\n        xAxis_death.scale(xScale)\r\n            .orient(\"bottom\")\r\n            .ticks((dimensions.width < 700 ? 8 : 15))\r\n            .tickFormat(function(d) {\r\n                return dateFormat(d);\r\n            })\r\n            .innerTickSize([8]);\r\n\r\n        yAxis_death.scale(yScale)\r\n            .orient(dimensions.width < 500 ? 'right' : 'left')\r\n            .innerTickSize([8]);\r\n\r\n        $lines_death_x_axis_label\r\n            .attr(\"x\", (dimensions.width - dimensions.margin.left) / 2);\r\n\r\n        $lines_death_y_axis_label\r\n            .attr(\"y\", -dimensions.margin.left);\r\n\r\n        if (dimensions.width < 500) {\r\n            $lines_death_y_axis\r\n                .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')');\r\n        } else {\r\n            $lines_death_y_axis\r\n                .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')');\r\n        }\r\n\r\n        //Configure line\r\n        // each line dataset must have a d.year and a d.rate for this to work.\r\n        line_death.x(function(d) {\r\n                return xScale(dateFormat.parse(d.year));\r\n            })\r\n            .y(function(d) {\r\n                return yScale(+d.rate);\r\n            })\r\n            .defined(function(d) {\r\n                return yScale(+d.rate);\r\n            });\r\n\r\n\r\n        $lines_death_x_axis\r\n            .call(xAxis_death);\r\n\r\n        $lines_death_y_axis\r\n            .call(yAxis_death);\r\n\r\n\r\n        $lines_death_ma_label\r\n            .attr(\"x\", dimensions.width - dimensions.margin.left - 15)\r\n            .attr(\"y\", yScale(23.8) - 6);\r\n\r\n        $lines_death_usa_label\r\n            .attr(\"x\", dimensions.width - dimensions.margin.left - 45)\r\n            .attr(\"y\", yScale(10.0) - 6);\r\n\r\n        lines.attr(\"d\", line_death);\r\n\r\n       // lines_hit_area.attr(\"d\", line_death);\r\n\r\n        focus.append(\"circle\")\r\n            .style(\"stroke-width\", 1)\r\n            .attr(\"r\", 6)\r\n            .attr('pointer-events', 'none');\r\n\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n    function mouseoutFunc() {\r\n        d3.selectAll(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", false);\r\n        d3.selectAll(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", false).attr(\"d\", d3.svg.symbol().type(\"circle\").size(15)).style(\"fill-opacity\", \"1\");\r\n        tooltip_death.classed(\"hidden\", true); // this sets it to invisible!\r\n        focus.classed(\"hidden\", true);\r\n    }\r\n\r\n    function mouseoverFunc(d, i) {\r\n\r\n        d3.selectAll(\"path.line\").classed(\"unfocused\", true);\r\n        d3.selectAll(\"path.point\").classed(\"unfocused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(10)).style(\"fill-opacity\", \"0\");\r\n        d3.select(this).select(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", true);\r\n\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1];\r\n        var y1 = yScale.invert(y0);\r\n        var percentVal = d3.format(\".1f\")(y1)\r\n\r\n        tooltip_death.classed(\"hidden\", false)\r\n            .html(percentVal);\r\n        focus.classed(\"hidden\", false);\r\n    }\r\n\r\n    var coordinates = [0, 0];\r\n\r\n    function mousemoveFunc(d) {\r\n\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1]\r\n        var y1 = yScale.invert(y0);\r\n        var x1 = xScale.invert(x0)\r\n        //console.log(x1)\r\n\r\n        var percentVal = d3.format(\".1f\")(y1);\r\n\r\n        focus.attr(\"transform\", \"translate(\" + x0 + \",\" + y0 + \")\");\r\n\r\n        tooltip_death\r\n            .style(\"top\", (d3.event.offsetY + 20) + \"px\")\r\n            .style(\"left\", (d3.event.offsetX) + \"px\")\r\n            .html(percentVal);\r\n    }\r\n\r\n    // function bindEvents() {\r\n    //     d3.selectAll(\"g.lines-death\")\r\n    //         .on(\"mouseover\", mouseoverFunc)\r\n    //         .on(\"mouseout\", mouseoutFunc)\r\n    //         .on(\"mousemove\", mousemoveFunc);\r\n\r\n    //     function mouseoutFunc() {\r\n    //         d3.selectAll(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", false);\r\n    //         tooltip_death.classed(\"hidden\", true);\r\n    //     }\r\n\r\n    //     function mouseoverFunc(d, i) {\r\n    //         d3.selectAll(\"path.line-death\").classed(\"unfocused\", true);\r\n    //         d3.select(this).select(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", true);\r\n    //         tooltip_death.classed(\"hidden\", false).html(d.FullName);\r\n    //     }\r\n\r\n    //     var coordinates = [0, 0];\r\n\r\n    //     function mousemoveFunc(d) {\r\n    //         coordinates = d3.mouse(this);\r\n\r\n    //         var x = coordinates[0];\r\n    //         var y = coordinates[1];\r\n    //         tooltip_death\r\n    //             .style(\"top\", y + \"px\")\r\n    //             .style(\"left\", x + \"px\")\r\n    //             .style('position', 'absolute')\r\n    //             .style('z-index', 1001);\r\n    //     }\r\n    // }\r\n\r\n})();","/* global d3 */\r\n(function() {\r\n    \"use strict\";\r\n\r\n    var rootSelector = '#fentanyl-lines';\r\n    var rootNode = document.querySelector(\"#fentanyl-lines\");\r\n\r\n    var chartData = [{\r\n        \"date\": new Date(\"01/01/2014\"),\r\n        \"FentanylHeroin\": \"0.19\",\r\n        \"Fentanyl\": \"0.22\",\r\n        \"Heroin\": \"0.41\",\r\n        \"Methadone\": \"0.10\"\r\n    }, {\r\n        \"date\": new Date(\"04/01/2014\"),\r\n        \"FentanylHeroin\": \"0.18\",\r\n        \"Fentanyl\": \"0.19\",\r\n        \"Heroin\": \"0.49\",\r\n        \"Methadone\": \"0.07\"\r\n    }, {\r\n        \"date\": new Date(\"07/01/2014\"),\r\n        \"FentanylHeroin\": \"0.14\",\r\n        \"Fentanyl\": \"0.14\",\r\n        \"Heroin\": \"0.53\",\r\n        \"Methadone\": \"0.10\"\r\n    }, {\r\n        \"date\": new Date(\"10/01/2014\"),\r\n        \"FentanylHeroin\": \"0.22\",\r\n        \"Fentanyl\": \"0.27\",\r\n        \"Heroin\": \"0.35\",\r\n        \"Methadone\": \"0.06\"\r\n    }, {\r\n        \"date\": new Date(\"01/01/2015\"),\r\n        \"FentanylHeroin\": \"0.19\",\r\n        \"Fentanyl\": \"0.40\",\r\n        \"Heroin\": \"0.30\",\r\n        \"Methadone\": \"0.04\"\r\n    }, {\r\n        \"date\": new Date(\"04/01/2015\"),\r\n        \"FentanylHeroin\": \"0.24\",\r\n        \"Fentanyl\": \"0.38\",\r\n        \"Heroin\": \"0.29\",\r\n        \"Methadone\": \"0.05\"\r\n    }, {\r\n        \"date\": new Date(\"07/01/2015\"),\r\n        \"FentanylHeroin\": \"0.19\",\r\n        \"Fentanyl\": \"0.40\",\r\n        \"Heroin\": \"0.30\",\r\n        \"Methadone\": \"0.06\"\r\n    }, {\r\n        \"date\": new Date(\"10/01/2015\"),\r\n        \"FentanylHeroin\": \"0.22\",\r\n        \"Fentanyl\": \"0.43\",\r\n        \"Heroin\": \"0.24\",\r\n        \"Methadone\": \"0.05\"\r\n    }, {\r\n        \"date\": new Date(\"01/01/2016\"),\r\n        \"FentanylHeroin\": \"0.15\",\r\n        \"Fentanyl\": \"0.50\",\r\n        \"Heroin\": \"0.17\",\r\n        \"Methadone\": \"0.04\"\r\n    }];\r\n\r\n\r\n\r\n\r\n    var yearformat = d3.time.format(\"%Y\");\r\n\r\n    function quarter(date) {\r\n        var date2 = new Date();\r\n        date2.setMonth(date.getMonth() - 10);\r\n        var q = Math.ceil((date2.getMonth()) / 3);\r\n        return \"Q\" + q;\r\n    }\r\n\r\n    var seriesColors = [\"#333333\", \"#b71c1c\", \"#0071bc\", \"#333333\"];\r\n    var seriesLineStrokes = [\"1.5px\", \"3.5px\", \"3.5px\", \"2px\"];\r\n    var seriesLineDash = [\"10,10,10,10\", \"0,0,0,0\", \"0,0,0,0\", \"2,6,0,0\"];\r\n    var seriesPointShapes = [\"circle\", \"circle\", \"circle\", \"circle\"];\r\n    var seriesPointWidth = [\"1px\", \"1.5px\", \"1.5px\", \"1px\"];\r\n    var seriesPointFill = [\"#a50f15\", \"#08519c\", \"#636363\", \"#636363\"];\r\n    var xLabel = \"date\";\r\n\r\n\r\n\r\n\r\n    // Dimensions\r\n\r\n    var margin = {\r\n        top: 10, // space for the legend\r\n        right: 15,\r\n        bottom: 50,\r\n        left: 42\r\n    };\r\n\r\n    var wrapper_width = 540;\r\n    var wrapper_height = 400;\r\n    var width = wrapper_width - margin.left - margin.right;\r\n    var height = wrapper_height - margin.top - margin.bottom;\r\n\r\n\r\n    var x = d3.scale.ordinal().rangePoints([0, width]);\r\n    var x2 = d3.scale.ordinal().rangePoints([0, width]);\r\n\r\n    var y = d3.scale.linear().range([height, 0]);\r\n\r\n    var color = d3.scale.ordinal().range(seriesColors);\r\n\r\n    var lineStroke = d3.scale.ordinal().range(seriesLineStrokes);\r\n\r\n    var lineDash = d3.scale.ordinal().range(seriesLineDash);\r\n\r\n    var pointShape = d3.scale.ordinal().range(seriesPointShapes);\r\n\r\n    var pointWidth = d3.scale.ordinal().range(seriesPointWidth);\r\n\r\n    var pointFill = d3.scale.ordinal().range(seriesPointFill);\r\n\r\n    var xAxis_fent = d3.svg.axis()\r\n        .scale(x)\r\n        .orient(\"bottom\")\r\n        .ticks(d3.time.months, 3)\r\n        .tickFormat(quarter);\r\n\r\n\r\n    var xAxis2_fent = d3.svg.axis()\r\n        .scale(x)\r\n        .ticks(d3.time.years, 1)\r\n        .tickFormat(yearformat)\r\n        .tickSize(3, 0)\r\n        .tickPadding(1)\r\n        .orient(\"bottom\");\r\n\r\n    //percentage formatiing\r\n    var formatPercent = d3.format(\".0%\");\r\n\r\n    var yAxis_fent = d3.svg.axis()\r\n        .scale(y)\r\n        .orient(\"left\")\r\n        .tickFormat(formatPercent)\r\n        .ticks(5)\r\n        .tickSize(3, 0)\r\n        .tickPadding(1);\r\n\r\n    //create tooltipFent\r\n\r\n    // add a tooltipFent to the page - not to the svg itself!\r\n    var tooltipFent = d3.select(\"body\").append(\"div\").attr(\"class\", \"vis-tooltip\");\r\n\r\n    var line = d3.svg.line()\r\n        .x(function(d) {\r\n            return x(d.label);\r\n        })\r\n        .y(function(d) {\r\n            return y(d.value);\r\n        });\r\n\r\n    var $svg = d3.select(document.querySelector(rootSelector))\r\n        .append(\"svg\");\r\n    var $lines_fent = $svg.append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    var varSeries = d3.keys(chartData[0]).filter(function(key) {\r\n        return key !== xLabel;\r\n    });\r\n\r\n    color.domain(varSeries);\r\n    lineStroke.domain(varSeries);\r\n    lineDash.domain(varSeries);\r\n    pointShape.domain(varSeries);\r\n    pointWidth.domain(varSeries);\r\n    pointFill.domain(varSeries);\r\n\r\n    var seriesData = varSeries.map(function(name) {\r\n        return {\r\n            name: name,\r\n            values: chartData.map(function(d) {\r\n                return {\r\n                    name: name,\r\n                    label: d[xLabel],\r\n                    value: +d[name]\r\n                };\r\n            })\r\n        };\r\n    });\r\n\r\n\r\n    x.domain(chartData.map(function(d) {\r\n        return d.date;\r\n    }));\r\n\r\n    x2.domain(chartData.map(function(d) {\r\n        return d.date;\r\n    }));\r\n\r\n    y.domain([\r\n        d3.min(seriesData, function(c) {\r\n            return d3.min(c.values, function(d) {\r\n                //return d.value;\r\n                return 0;\r\n            });\r\n        }),\r\n        d3.max(seriesData, function(c) {\r\n            return d3.max(c.values, function(d) {\r\n                return d.value;\r\n                //return 0.6\r\n            });\r\n        })\r\n    ]);\r\n\r\n    var x_axis = $lines_fent.append(\"g\")\r\n        .attr(\"class\", \"vis-x-axis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(xAxis_fent);\r\n\r\n    var x_axis_lines = x_axis.append(\"path\")\r\n        .attr(\"class\", \"line\")\r\n        .style(\"stroke-width\", \"1.5px\")\r\n        .call(xAxis_fent);\r\n\r\n    var x_axis2 = $lines_fent.append(\"g\")\r\n        .attr(\"class\", \"vis-axis\")\r\n        .attr(\"transform\", \"translate(0,\" + (height + 15) + \")\")\r\n        .call(xAxis2_fent);\r\n\r\n    var x_axis2_text = x_axis2\r\n        .append(\"text\")\r\n        .attr(\"x\", (width - margin.left) / 2)\r\n        .attr(\"y\", margin.bottom - 32)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-x-axis-label\")\r\n        .text(\"Quarter\");\r\n\r\n\r\n    var y_axis = $lines_fent.append(\"g\")\r\n        .attr(\"class\", \"vis-y-axis\")\r\n        .call(yAxis_fent)\r\n        //.append(\"tspan\")\r\n        .append(\"text\")\r\n        .attr(\"x\", -(height / 2))\r\n        .attr(\"y\", -44)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-y-axis-label\")\r\n        .text(\"Percent of Opioid-related Deaths\");\r\n    //.html(\"<sup>1</sup>\");\r\n\r\n    var series = $lines_fent.selectAll(\".series\")\r\n        .data(seriesData)\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"seriesData\");\r\n\r\n\r\n    var $lines = series.append(\"path\")\r\n        .attr(\"class\", \"line\")\r\n        .attr(\"d\", function(d) {\r\n            return line(d.values);\r\n        })\r\n        .style(\"stroke\", function(d) {\r\n            return color(d.name);\r\n        })\r\n        .style(\"stroke-width\", function(d) {\r\n            return lineStroke(d.name);\r\n        })\r\n        .style(\"stroke-dasharray\", function(d) {\r\n            return lineDash(d.name);\r\n        })\r\n        .style(\"fill\", \"none\");\r\n\r\n\r\n    var $lines_hit_area = series.append(\"path\")\r\n        .attr(\"class\", \"hit-area-ext\")\r\n        .attr(\"d\", function(d) {\r\n            return line(d.values);\r\n        })\r\n        .attr(\"style\", \"stroke:transparent;stroke-width:10px\")\r\n        .style(\"fill\", \"none\");\r\n\r\n\r\n    // var x_axis_label_fh = $lines_fent.append(\"text\")\r\n    //  .attr(\"class\", \"vis-data-label\")\r\n    //  .attr(\"x\", width + 5)\r\n    //  .attr(\"y\", y(chartData[8].FentanylHeroin) - 5)\r\n    //  .attr(\"dy\", \"1em\")\r\n    //  .text(\"Fentanyl & Heroin\");\r\n\r\n    // var x_axis_label_m = $lines_fent.append(\"text\")\r\n    //  .attr(\"class\", \"vis-data-label\")\r\n    //  .attr(\"x\", width + 5)\r\n    //  .attr(\"y\", y(chartData[8].Methadone) - 7)\r\n    //  .attr(\"dy\", \"1em\")\r\n    //  .text(\"Methadone\");\r\n\r\n    // var x_axis_label_h = $lines_fent.append(\"text\")\r\n    //  .attr(\"class\", \"vis-data-label\")\r\n    //   .attr(\"x\", width + 5)\r\n    //   .attr(\"y\", y(chartData[8].Heroin) - 10)\r\n    //   .attr(\"dy\", \"1em\")\r\n    //   .text(\"Heroin\");\r\n\r\n    // var x_axis_label_f = $lines_fent.append(\"text\")\r\n    //  .attr(\"class\", \"vis-data-label\")\r\n    //   .attr(\"x\", width + 5)\r\n    //   .attr(\"y\", y(chartData[8].Fentanyl) - 10)\r\n    //   .attr(\"dy\", \"1em\")\r\n    //   .text(\"Fentanyl\");\r\n\r\n\r\n\r\n    /*======================================================================\r\n     Mouse Functions\r\n    ======================================================================*/\r\n    var focus = $lines_fent.append(\"g\")\r\n        .attr(\"class\", \"focus\")\r\n        .classed(\"hidden\", true);\r\n\r\n    focus.append(\"circle\")\r\n        .style(\"stroke-width\", 1)\r\n        .attr(\"r\", 6)\r\n        .attr('pointer-events', 'none');\r\n\r\n    d3.selectAll(\"g.seriesData\")\r\n        .on(\"mouseover\", mouseoverFunc)\r\n        .on(\"mouseout\", mouseoutFunc)\r\n        .on(\"mousemove\", mousemoveFunc);\r\n\r\n    function mouseoutFunc() {\r\n\r\n        d3.selectAll(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", false);\r\n        d3.selectAll(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", false).attr(\"d\", d3.svg.symbol().type(\"circle\").size(15)).style(\"fill-opacity\", \"1\");\r\n        tooltipFent.classed(\"hidden\", true); // this sets it to invisible!\r\n        focus.classed(\"hidden\", true);\r\n    }\r\n\r\n    function mouseoverFunc(d, i) {\r\n\r\n        d3.selectAll(\"path.line\").classed(\"unfocused\", true);\r\n        d3.selectAll(\"path.point\").classed(\"unfocused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(10)).style(\"fill-opacity\", \"0\");\r\n        // below code sets the sub set of data even more - they only go \"unfocused\" if a certain line is selected. Otherwise, they remain at the regular opacity. .\r\n        //         if(!d3.select(this).select(\"path.line\").classed(\"ssAfrica\")) {\r\n        //             d3.selectAll(\"path.ssAfrica\").classed(\"unfocused\", false);\r\n        //         }\r\n\r\n        d3.select(this).select(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", true);\r\n        //d3.select(this).select(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(0));\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1]\r\n        var y1 = y.invert(y0);\r\n        var percentVal = d3.format(\".0%\")(y1)\r\n\r\n        tooltipFent.classed(\"hidden\", false)\r\n            .html(percentVal);\r\n        //console.log(d.rates[i]);\r\n        //console.log(d3.select(this).select(\"path.point\"));\r\n        focus.classed(\"hidden\", false);\r\n    }\r\n\r\n    function mousemoveFunc(d) {\r\n\r\n        //console.log(\"events\", window.event, d3.event);\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1]\r\n        var y1 = y.invert(y0);\r\n        var percentVal = d3.format(\".0%\")(y1);\r\n\r\n        focus.attr(\"transform\", \"translate(\" + x0 + \",\" + y0 + \")\");\r\n\r\n\r\n\r\n        tooltipFent\r\n            .style(\"top\", (d3.event.pageY - 45) + \"px\")\r\n            .style(\"left\", (d3.event.pageX + 5) + \"px\")\r\n            .html(percentVal);\r\n    }\r\n\r\n\r\n\r\n    function render() {\r\n        updateWidth(rootNode.clientWidth);\r\n\r\n        x.rangePoints([0, width]);\r\n        x2.rangePoints([0, width]);\r\n        y.range([height, 0]);\r\n        xAxis_fent.scale(x);\r\n        xAxis2_fent.scale(x);\r\n        yAxis_fent.scale(y);\r\n        // update lines\r\n        line.x(function(d) {\r\n                return x(d.label);\r\n            })\r\n            .y(function(d) {\r\n                return y(d.value);\r\n            });\r\n\r\n        x_axis\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .call(xAxis_fent);\r\n\r\n        x_axis2\r\n            .attr(\"transform\", \"translate(0,\" + (height + 15) + \")\")\r\n            .call(xAxis2_fent);\r\n\r\n        x_axis2_text\r\n            .attr(\"x\", (width - margin.left) / 2)\r\n            .attr(\"y\", margin.bottom - 32);\r\n\r\n\r\n        y_axis.call(yAxis_fent);\r\n\r\n        $svg.attr(\"width\", wrapper_width).attr(\"height\", wrapper_height);\r\n\r\n        // x_axis_label_fh.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].FentanylHeroin) - 5);\r\n\r\n        // x_axis_label_m.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Methadone) - 7);\r\n\r\n        // x_axis_label_h.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Heroin) - 10);\r\n\r\n        // x_axis_label_f.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Fentanyl) - 10);\r\n\r\n        $lines.attr(\"d\", function(d) {\r\n            return line(d.values);\r\n        });\r\n\r\n        $lines_hit_area.attr(\"d\", function(d) {\r\n            return line(d.values);\r\n        });\r\n\r\n        $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\" + (width - margin.right * 10) + \",0)\");\r\n    }\r\n\r\n    function updateWidth(componentWidth) {\r\n        wrapper_width = componentWidth;\r\n        width = wrapper_width - margin.left - margin.right;\r\n        height = wrapper_height - margin.top - margin.bottom;\r\n    }\r\n\r\n    var $legend = $svg.append(\"g\");\r\n    var $item = $legend.append(\"g\");\r\n\r\n    function renderLegend() {\r\n\r\n\r\n        var legendItems = [\r\n            \"FentanylHeroin\",\r\n            \"Fentanyl\",\r\n            \"Heroin\",\r\n            \"Methadone\"\r\n        ];\r\n\r\n        var footenote_19 = \"<a href='#footnote-19' class='page-scroll' aria-describedby='footnote-label><span class='sr-only>see footnote</span><sup>19</sup></a>\";\r\n        var legendItemsTranslate = [\r\n            \"Both Fentanyl & Heroin\",\r\n            \"Only Fentanyl\",\r\n            \"Only Heroin\",\r\n            \"Only Methadone\"\r\n        ];\r\n        $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\" + (width - (margin.right * 10)) + \",0)\");\r\n        var lineHeight = 15;\r\n        // var seriesColors = [\"#ffffff\", \"#b71c1c\", \"#0071bc\", \"#ffffff\"];\r\n        // var seriesLineStrokes = [\"1.5px\", \"3.5px\", \"3.5px\", \"2px\"];\r\n        // var seriesLineDash = [\"10,10,10,10\", \"0,0,0,0\", \"0,0,0,0\", \"2,6,0,0\"];\r\n\r\n        legendItems.forEach(function(item, i) {\r\n            $item = $legend.append(\"g\")\r\n                .attr(\"class\", \"legend-item-\" + item)\r\n                .attr(\"transform\", \"translate(0,\" + (i * lineHeight) + \")\");\r\n\r\n            $item.append(\"svg:line\")\r\n                .attr(\"class\", \"legend-item-\" + item)\r\n                .attr(\"x1\", 0)\r\n                .attr(\"y1\", 5)\r\n                .attr(\"x2\", 30)\r\n                .attr(\"y2\", 5)\r\n                .style(\"stroke\", seriesColors[i])\r\n                .style(\"stroke-dasharray\", seriesLineDash[i])\r\n                .style(\"stroke-width\", seriesLineStrokes[i]);\r\n\r\n            $item.append(\"text\")\r\n                .attr(\"class\", \"legend-item-\" + item)\r\n                .attr(\"x\", 40)\r\n                .attr(\"y\", 10)\r\n                .html(legendItemsTranslate[i]);\r\n                // .append(footenote_19);\r\n        });\r\n    }\r\n\r\n\r\n    render();\r\n    renderLegend();\r\n\r\n    window.addEventListener('resize', render);\r\n    //window.addEventListener('resize', renderLegend);\r\n\r\n\r\n\r\n})();\r\n","$(document).ready(function() {\r\n    var prescription = [{\r\n            \"Yes\": 83,\r\n            \"No\": 17\r\n        }, {\r\n            \"Yes\": 57,\r\n            \"No\": 43\r\n        }, {\r\n            \"Yes\": 50,\r\n            \"No\": 50\r\n        }, {\r\n            \"Yes\": 37,\r\n            \"No\": 63\r\n        }],\r\n\r\n        heroin = [{\r\n            \"Yes\": 65,\r\n            \"No\": 35\r\n        }, {\r\n            \"Yes\": 28,\r\n            \"No\": 72\r\n        }, {\r\n            \"Yes\": 20,\r\n            \"No\": 80\r\n        }, {\r\n            \"Yes\": 13,\r\n            \"No\": 87\r\n        }],\r\n\r\n        fentanyl = [{\r\n            \"Yes\": 68,\r\n            \"No\": 32\r\n        }, {\r\n            \"Yes\": 30,\r\n            \"No\": 70\r\n        }, {\r\n            \"Yes\": 22,\r\n            \"No\": 78\r\n        }, {\r\n            \"Yes\": 17,\r\n            \"No\": 83\r\n        }],\r\n\r\n        both = [{\r\n            \"Yes\": 64,\r\n            \"No\": 36\r\n        }, {\r\n            \"Yes\": 24,\r\n            \"No\": 76\r\n        }, {\r\n            \"Yes\": 15,\r\n            \"No\": 85\r\n        }, {\r\n            \"Yes\": 9,\r\n            \"No\": 91\r\n        }],\r\n\r\n        methadone = [{\r\n            \"Yes\": 76,\r\n            \"No\": 24\r\n        }, {\r\n            \"Yes\": 46,\r\n            \"No\": 54\r\n        }, {\r\n            \"Yes\": 41,\r\n            \"No\": 59\r\n        }, {\r\n            \"Yes\": 27,\r\n            \"No\": 73\r\n        }],\r\n\r\n        buprenorphine = [{\r\n            \"Yes\": 60,\r\n            \"No\": 40\r\n        }, {\r\n            \"Yes\": 60,\r\n            \"No\": 40\r\n        }, {\r\n            \"Yes\": 60,\r\n            \"No\": 40\r\n        }, {\r\n            \"Yes\": 60,\r\n            \"No\": 40\r\n        }],\r\n\r\n        dataset = [{\r\n                data: [{\r\n                    count: 867,\r\n                    name: 'Heroin',\r\n                    alias: heroin\r\n                }],\r\n                name: 'Heroin'\r\n            }, {\r\n                data: [{\r\n                    count: 288,\r\n                    name: 'Fentanyl',\r\n                    alias: fentanyl\r\n                }],\r\n                name: 'Fentanyl'\r\n            }, {\r\n                data: [{\r\n                    count: 249,\r\n                    name: 'both Fentanyl & Heroin',\r\n                    alias: both\r\n                }],\r\n                name: 'Fentanyl & Heroin'\r\n            }, {\r\n                data: [{\r\n                    count: 154,\r\n                    name: 'Prescription Opioids',\r\n                    alias: prescription\r\n                }],\r\n                name: 'Prescription Opioids'\r\n            }, {\r\n                data: [{\r\n                    count: 84,\r\n                    name: 'Methadone',\r\n                    alias: methadone\r\n                }],\r\n                name: 'Methadone'\r\n            },\r\n            //  {\r\n            //     data: [{\r\n            //         count: 15,\r\n            //         name: 'Buprenorphine'\r\n            //     }],\r\n            //     name: 'Buprenorphine'\r\n            // }\r\n\r\n        ];\r\n\r\n\r\n    //add screen reader text\r\n    for (var i = 0; i < 5; i++) {\r\n        var dl_blocks_bar = $(\"<dl>\");\r\n        dl_blocks_bar.append(\"<dt>\" + dataset[i].data[0].count + \" people had a positive \" + dataset[i].data[0].name.toLowerCase() + \" toxicology screen from 2013-2014.</dt>\");\r\n        dl_blocks_bar.append(\"<dd>Of those with a positive \" + dataset[i].data[0].name.toLowerCase() + \" toxicology screen, \" +\r\n            dataset[i].data[0].alias[0].Yes + \"% had a legal opioid prescription at some point from 2011 - 2014, \" + \r\n            dataset[i].data[0].alias[1].Yes +\"% had a legal opioid prescription 6 month before death, \" + \r\n            dataset[i].data[0].alias[2].Yes + \"% had a legal opioid prescription 3 month before death, and \" + \r\n            dataset[i].data[0].alias[3].Yes + \"% had a legal opioid prescription 1 month before death.</dd>\");\r\n        $(\"#sr-blocks-bar\").append(dl_blocks_bar);\r\n    };\r\n\r\n\r\n\r\n    var data_substance = prescription;\r\n    var time = 0;\r\n    asignVal_substance(data_substance, time);\r\n\r\n    $(\".btn-substance\").on('click', function() {\r\n        var sub = parseInt($(this).val());\r\n        var substance;\r\n        $(\".btn-time\").removeClass('disableClick disabled');\r\n        switch (sub) {\r\n            case 0:\r\n                substance = prescription;\r\n                break;\r\n            case 1:\r\n                substance = heroin;\r\n                break;\r\n            case 2:\r\n                substance = fentanyl;\r\n                break;\r\n            case 3:\r\n                substance = both;\r\n                break;\r\n            case 4:\r\n                substance = methadone;\r\n                break;\r\n            case 5:\r\n                substance = buprenorphine;\r\n                $(\".btn-time\").removeClass('active').addClass('disableClick disabled');\r\n                $(\"#studyperiod\").addClass('active');\r\n                break;\r\n        }\r\n        data_substance = substance;\r\n        asignVal_substance(data_substance, time);\r\n    });\r\n\r\n\r\n    $(\".btn-time\").on('click', function() {\r\n        $('.btn-time').removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        time = parseInt($(this).val());\r\n        asignVal_substance(data_substance, time);\r\n        var time_period;\r\n        switch (time) {\r\n            case 0:\r\n                time_period = \"during 20112014\";\r\n                break;\r\n            case 1:\r\n                time_period = \"6 Months Before Death\";\r\n                break;\r\n            case 2:\r\n                time_period = \"3 Months Before Death\";\r\n                break;\r\n            case 3:\r\n                time_period = \"1 Month Before Death\";\r\n                break;\r\n        }\r\n        $(\"#time-period\").html(time_period.toLowerCase());\r\n        $(\"#label_blocks\").html(time_period);\r\n    });\r\n\r\n    function asignVal_substance(type, time) {\r\n        $('#percentage').html(type[time].Yes + '%');\r\n        $(\"#people\").empty();\r\n        $('#people').each(function() {\r\n            makeChart_substance(type, time);\r\n            $('#table_substance').html('<table class=\"table table_substance\"><tr><th>Had legal prescription</th><th>Did not have legal prescription</th></tr><tr><td class=\"type_substance0\">' + type[time].Yes + '%</td><td class=\"type_substance1\">' + type[time].No + '%</td></tr></table>');\r\n\r\n        })\r\n    };\r\n\r\n\r\n\r\n    function makeChart_substance(data_substance, i) {\r\n        var blockArray_substance = [];\r\n        var noOfBlocks_No = Math.round(data_substance[i].No);\r\n        var noOfBlocks_Yes = Math.round(data_substance[i].Yes);\r\n        var blocksAdded = 0;\r\n        blockArray = addBlocks_substance(\"#people\", noOfBlocks_Yes, noOfBlocks_No, data_substance, blockArray_substance, i);\r\n        addBlock_substance(\"#people\", blockArray_substance, 0);\r\n    }\r\n\r\n    function addBlocks_substance(id, noOfBlocks_Yes, noOfBlocks_No, data_substance, blockArray_substance, i) {\r\n        var person_path = '<path d=\"M4,12.6c0-0.7,0-1.5,0-2.2c0-1,0.5-1.8,1.4-2.2C6,7.9,6.6,7.8,7.3,7.8c0.7,0,1.4,0,2.1,0c0.7,0,1.4,0.2,2,0.6c0.7,0.4,1.1,1.1,1.1,2c0,1.5,0,3,0,4.5c0,0.9-0.2,1.8-0.8,2.6c-0.1,0.2-0.3,0.3-0.4,0.5c-0.1,0.1-0.1,0.2-0.2,0.3c-0.1,0.6-0.3,1.2-0.4,1.8c-0.2,1.3-0.4,2.6-0.6,3.8c-0.1,0.7-0.6,1.1-1.3,1.1c-0.4,0-0.8,0-1.2,0c-0.1,0-0.2,0-0.3,0c-0.5-0.1-0.9-0.5-1-1c-0.2-1.2-0.4-2.4-0.6-3.5c-0.1-0.6-0.2-1.2-0.3-1.8c-0.1-0.3-0.2-0.5-0.4-0.7c-0.4-0.3-0.6-0.8-0.7-1.3C4.1,15.9,4,15.3,4,14.7C4,14,4,13.3,4,12.6z\"/>' + '<path d=\"M4.8,3.6c0-1.8,1.4-3.4,3.4-3.5c1.9,0,3.5,1.5,3.5,3.5c0,2-1.5,3.4-3.5,3.4C6.3,7,4.8,5.5,4.8,3.6z\"/>';\r\n        var person_svg_No = '<svg class=\"block type_substance1\" width=\"25px\" height=\"25px\">' + person_path + '</svg>';\r\n\r\n        for (b = 0; b < noOfBlocks_No; b++) {\r\n            blockArray_substance.push(person_svg_No);\r\n\r\n            //blockArray_substance.push('<div class=\"block type_substance' + 1 + ' data-index=' + data_substance[i].No + '\">' + '</div>');\r\n        };\r\n        for (b = 0; b < noOfBlocks_Yes; b++) {\r\n            //$(id).append('<div class=\"block type_substance' + 0 + ' data-index=' + data_substance[i].Yes + '\">' + '</div>');\r\n            var person_svg_Yes = '<svg class=\"block type_substance0\" width=\"25px\" height=\"25px\">' + person_path + '</svg>';\r\n            $(id).append(person_svg_Yes);\r\n        };\r\n        return blockArray_substance;\r\n\r\n    }\r\n\r\n    function addBlock_substance(id, blockArray_substance, i) {\r\n        if (i < blockArray.length) {\r\n            $(id).append(blockArray_substance[i]);\r\n            i++;\r\n            addBlock_substance(id, blockArray_substance, i);\r\n        }\r\n    }\r\n\r\n\r\n    ////////////////////////\r\n    //BAR CHART\r\n    ///////////////////////\r\n\r\n    var width = '100%',\r\n        height = 30;\r\n    // series = dataset.map(function(d) {\r\n    //     return d.name;\r\n    // }),\r\n    dataset = dataset.map(function(d) {\r\n            return d.data.map(function(o, i) {\r\n                // Structure it so that your numeric\r\n                // axis (the stacked amount) is y\r\n                return {\r\n                    y: o.count,\r\n                    s: o.name,\r\n                };\r\n            });\r\n        }),\r\n        stack = d3.layout.stack();\r\n\r\n    stack(dataset);\r\n\r\n\r\n    var dataset = dataset.map(function(group) {\r\n            return group.map(function(d) {\r\n                // Invert the x and y values, and y0 becomes x0\r\n                return {\r\n                    x: d.y,\r\n                    n: d.s,\r\n                    y: d.x,\r\n                    x0: d.y0\r\n                };\r\n            });\r\n        }),\r\n        $bar = d3.select('#bar')\r\n        .append('svg')\r\n        .attr('id', 'bar_svg')\r\n        .attr('width', width)\r\n        .attr('height', height)\r\n    var color = [\"#b71c1c\", '#CFD8DC']\r\n    var colors;\r\n    colors = [color[1], color[1], color[1], color[0], color[1], color[1]];\r\n    draw(colors);\r\n    $(\".btn-substance\").on('click', function() {\r\n        $('#bar_svg').empty();\r\n        colors = [color[1], color[1], color[1], color[1], color[1], color[1]];\r\n        $('.btn-substance').removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        colors[$(this).val()] = color[0];\r\n        draw(colors);\r\n        var i = $(this).val(),\r\n            d = dataset[$(this).val()][0];\r\n        var xPos = parseFloat(xScale(d.x0) + 100 / (i + 1));\r\n        var yPos = parseFloat(d3.select(this).attr('y')) + yScale.rangeBand();\r\n        console.log(d);\r\n        console.log(d.n == 'Fentanyl & Heroin')\r\n\r\n        if (d.n == 'both Fentanyl & Heroin') {\r\n            substance_html = d.n + \"<a href=\\\"#footnote-16\\\" class=\\\"page-scroll\\\"><sup>16</sup></a>\";\r\n        } else if (d.n == 'Prescription Opioids') {\r\n\t    substance_html = d.n.toLowerCase() + \"<a href=\\\"#footnote-15\\\" class=\\\"page-scroll\\\"><sup>15</sup></a>\";\r\n        } else {\r\n            substance_html = d.n;\r\n        }\r\n\r\n        console.log(substance_html)\r\n        $('.substance-type').html(substance_html);\r\n        $('#total').html(d.x);\r\n\r\n    });\r\n\r\n    function draw(colors) {\r\n        $('#bar_svg')\r\n            .append('g')\r\n            .attr('class', 'bar_g')\r\n            //  .attr('transform', 'translate(' + margins.left + ',' + margins.top + ')'),\r\n        xMax = d3.max(dataset, function(group) {\r\n                return d3.max(group, function(d) {\r\n                    return d.x + d.x0;\r\n                });\r\n            }),\r\n            xScale = d3.scale.linear()\r\n            .domain([0, xMax])\r\n            .range([0, width]),\r\n            // months = dataset[0].map(function(d) {\r\n            //     return d.y;\r\n            // }),\r\n            yScale = d3.scale.ordinal()\r\n            //.domain(months)\r\n            .rangeRoundBands([0, height], .1),\r\n\r\n            colours = d3.scale.ordinal()\r\n            .range(colors),\r\n\r\n            bar_groups = $bar.selectAll('.bar_g')\r\n            .data(dataset)\r\n            .enter()\r\n            .append('g')\r\n            .style('fill', function(d, i) {\r\n                return colours(i);\r\n            }),\r\n\r\n            rects = bar_groups.selectAll('rect')\r\n            .data(function(d) {\r\n                return d;\r\n            })\r\n            .enter()\r\n            .append('rect')\r\n            .style({ 'stroke': '#b71c1c', 'stroke-width': '1px' })\r\n            .attr('x', function(d) {\r\n                return xScale(d.x0);\r\n            })\r\n            .attr('y', function(d, i) {\r\n                return yScale(d.y);\r\n            })\r\n            .attr('height', function(d) {\r\n                return yScale.rangeBand();\r\n            })\r\n            .attr('width', function(d) {\r\n                return xScale(d.x);\r\n            })\r\n    };\r\n\r\n})\r\n","$(document).ready(function() {\r\n\r\n    var prescription = [\r\n        [0, 0],\r\n        [\"No\", 58],\r\n        [\"Yes\", 13],\r\n        [\"Yes\", 8],\r\n        [\"No\", 21],\r\n        [0, 0]\r\n    ];\r\n    var heroin = [\r\n        [0, 0],\r\n        [\"No\", 22],\r\n        [\"Yes\", 49],\r\n        [\"Yes\", 17],\r\n        [\"No\", 12],\r\n        [0, 0]\r\n    ];\r\n\r\n    var multi = [\r\n        [\"1\", 15],\r\n        [\"2\", 31],\r\n        [\"3\", 25],\r\n        [\"3\", 18],\r\n        [\"2\", 9],\r\n        [\"1\", 2]\r\n    ];\r\n\r\n\r\n    // var person = '<svg width=\"10\" height=\"10\"><path d=\"M12.6,18.4c0-1,0-2,0-3c0-1.4,0.7-2.5,2-3.1c0.8-0.4,1.6-0.6,2.5-0.6c1,0,1.9,0,2.9,0c1,0,1.9,0.3,2.8,0.8c1,0.6,1.6,1.6,1.6,2.7c0,2.1,0,4.1,0,6.2c0,1.3-0.3,2.5-1.1,3.6c-0.2,0.2-0.4,0.4-0.6,0.6c-0.1,0.1-0.2,0.2-0.2,0.4c-0.2,0.8-0.4,1.6-0.5,2.5c-0.3,1.8-0.6,3.5-0.9,5.3c-0.2,1-0.8,1.5-1.8,1.5c-0.5,0-1.1,0-1.6,0c-0.2,0-0.3,0-0.5,0c-0.6-0.1-1.2-0.7-1.3-1.4c-0.3-1.6-0.5-3.2-0.8-4.9c-0.1-0.8-0.3-1.6-0.5-2.5c-0.1-0.4-0.2-0.7-0.5-1c-0.5-0.5-0.8-1.1-1-1.8c-0.3-0.8-0.4-1.6-0.4-2.5C12.6,20.3,12.6,19.3,12.6,18.4z\"/><path d=\"M13.6,6c0-2.4,1.9-4.7,4.7-4.7c2.7,0,4.8,2.1,4.8,4.8c0,2.7-2.1,4.7-4.7,4.7C15.7,10.7,13.6,8.6,13.6,6z\"/></svg>'\r\n    // console.log(person);\r\n    var table_html = [\r\n\t'<div class=\"people-blocks\">Prescription Opioids in Toxicology Screen</div><table class=\"table table_gender\"><tr><th></th><th>Present</th><th>Not Present</th></tr><tr><th>Male</th><td class=\"type_gender2\">' + prescription[2][1] + '%</td><td class=\"type_gender0\">' + prescription[1][1] + '%</td></tr><tr><th>Female</th><td class=\"type_gender3\">' + prescription[3][1] + '%</td><td class=\"type_gender5\">' + prescription[4][1] + '%</td></tr></table>',\r\n\t'<div class=\"people-blocks\">Heroin in Toxicology Screen</div><table class=\"table table_gender\"><tr><th></th><th>Present</th><th>Not Present</th></tr><tr><th>Male</th><td class=\"type_gender2\">' + heroin[2][1] + '%</td><td class=\"type_gender0\">' + heroin[1][1] + '%</td></tr><tr><th>Female</th><td class=\"type_gender3\">' + heroin[3][1] + '%</td><td class=\"type_gender5\">' + heroin[4][1] + '%</td></tr></table>',\r\n\t'<div class=\"people-blocks\">Number of Different Prescribers</div><table class=\"table table_gender\"><tr><th></th><th>0 Prescribers</th><th>12 Prescribers</th><th>3+ Prescribers</th></tr><tr><th>Male</th><td td class=\"type_gender0\">' + multi[0][1] + '%</td><td td class=\"type_gender1\">' + multi[1][1] + '%</td><td td class=\"type_gender2\">' + multi[2][1] + '%</td></tr><tr><th>Female</th><td td class=\"type_gender5\">' + multi[5][1] + '%</td><td td class=\"type_gender4\">' + multi[4][1] + '%</td><td td class=\"type_gender3\">' + multi[3][1] + '%</td></tr></table>'\r\n    ];\r\n\r\n\r\n    var data_gender = prescription;\r\n    var value;\r\n    var option;\r\n\r\n    //Set initial values\r\n    makeChart_gender(prescription);\r\n    $('#table_gender').html(table_html[0]);\r\n    $(\"#prescription\").addClass(\"active\");\r\n\r\n    //Link text controls\r\n    $('.controls-block').click(function() {\r\n        $option = $(this).data('select');\r\n        //$value = eval($(this).val());\r\n        if ($option == 'multi') { $value = 2; } else if ($option == 'heroin') { $value = 1; } else if ($option = 'prescription') { $value = 0; }\r\n        console.log($value);\r\n        asignVal_gender($option, $value);\r\n    });\r\n\r\n\r\n    //Link button controls\r\n    $('.btn-blocks').click(function() {\r\n        $option = $(this).attr('id');\r\n        $value = eval($(this).val());\r\n        //console.log($value);\r\n        asignVal_gender($option, $value);\r\n    });\r\n\r\n\r\n    function asignVal_gender(option, value) {\r\n        $(\"#buttons-blocks button\").removeClass(\"active\");\r\n        $('#' + option).addClass('active');\r\n        $(\"#gender\").empty();\r\n        makeChart_gender(eval(option));\r\n        $('#table_gender').html(table_html[value]);\r\n        //console.log(value);\r\n    };\r\n\r\n\r\n    function makeChart_gender(data_gender) {\r\n\r\n        var blockArray = [];\r\n        if (data_gender == multi) {\r\n            var index = [0, 1, 2, 3, 4, 5];\r\n        } else {\r\n            var index = [0, 0, 2, 3, 5, 5];\r\n        };\r\n        for (i = 0; i < 6; i++) {\r\n            var noOfBlocks_gender = Math.round(data_gender[i][1]);\r\n            var blocksAdded = 0;\r\n            blockArray_gender = addBlocks_gender(\"#gender\", noOfBlocks_gender, data_gender, blockArray, index);\r\n        }\r\n        addBlock_gender(\"#gender\", blockArray_gender, 0);\r\n    }\r\n\r\n    function addBlock_gender(id, blockArray, i) {\r\n        if (i < blockArray.length) {\r\n            $(id).append(blockArray[i]);\r\n            i++;\r\n            //timeout += 1;\r\n            // setTimeout(function() {\r\n            addBlock_gender(id, blockArray, i);\r\n            //})\r\n        }\r\n    }\r\n\r\n\r\n    function addBlocks_gender(id, noOfBlocks, data_gender, blockArray, index) {\r\n        for (b = 0; b < noOfBlocks; b++) {\r\n            var person_svg = '<svg class=\"block type_gender' + index[i] + ' data-index=' + data_gender[i][0] + ' width=\"25px\" height=\"25px\">'+'<path d=\"M4,12.6c0-0.7,0-1.5,0-2.2c0-1,0.5-1.8,1.4-2.2C6,7.9,6.6,7.8,7.3,7.8c0.7,0,1.4,0,2.1,0c0.7,0,1.4,0.2,2,0.6c0.7,0.4,1.1,1.1,1.1,2c0,1.5,0,3,0,4.5c0,0.9-0.2,1.8-0.8,2.6c-0.1,0.2-0.3,0.3-0.4,0.5c-0.1,0.1-0.1,0.2-0.2,0.3c-0.1,0.6-0.3,1.2-0.4,1.8c-0.2,1.3-0.4,2.6-0.6,3.8c-0.1,0.7-0.6,1.1-1.3,1.1c-0.4,0-0.8,0-1.2,0c-0.1,0-0.2,0-0.3,0c-0.5-0.1-0.9-0.5-1-1c-0.2-1.2-0.4-2.4-0.6-3.5c-0.1-0.6-0.2-1.2-0.3-1.8c-0.1-0.3-0.2-0.5-0.4-0.7c-0.4-0.3-0.6-0.8-0.7-1.3C4.1,15.9,4,15.3,4,14.7C4,14,4,13.3,4,12.6z\"/>'\r\n        + '<path d=\"M4.8,3.6c0-1.8,1.4-3.4,3.4-3.5c1.9,0,3.5,1.5,3.5,3.5c0,2-1.5,3.4-3.5,3.4C6.3,7,4.8,5.5,4.8,3.6z\"/></svg>';\r\n\r\n            // blockArray.push('<div class=\"block type' + i + '\">' + '<p>' + data[i][0] + '</p></div>');\r\n            //blockArray.push('<div class=\"block type_gender' + index[i] + ' data-index=' + data_gender[i][0] + '\">' + '</div>');\r\n            blockArray.push(person_svg);\r\n            // $(id).append('<div class=\"block type'+i+'\"><p>'+ data[i][0] +'</p></div>');\r\n        }\r\n        return blockArray;\r\n    }\r\n\r\n});\r\n\r\n\r\n// var $block = document.getElementByClassName('block');\r\n// $(\".block\").hover(function() { console.log($(this).dataset.index); });\r\n","(function() {\r\n\r\n    var width = 600;\r\n    var height = 300;\r\n    var margin = 50;\r\n    var selected;\r\n\r\n\r\n\r\n    //setup the svg\r\n\r\n    var $bars_age = d3.select(\"#changing_bars\").append(\"svg\")\r\n        .attr(\"width\", width + 100)\r\n        .attr(\"height\", height + 10); // adding some random padding\r\n    $bars_age.append(\"rect\")\r\n        .attr(\"width\", \"100%\")\r\n        .attr(\"height\", \"100%\")\r\n        .attr(\"fill\", \"none\");\r\n\r\n    var age_bar_color = d3.scale.ordinal()\r\n        .range([\"malFocus\", \"femFocus\"]);\r\n    var age_bar_label = d3.scale.ordinal()\r\n        .range([\"Male\", \"Female\"]);\r\n\r\n    var ages_label = $bars_age.append('text')\r\n        .text(\"Age\")\r\n        .attr(\"class\", \"vis-x-axis-label\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .attr(\"y\", 10)\r\n        .attr(\"x\", 10);\r\n\r\n    var chart_title = $bars_age.append('text');\r\n\r\n    var age_bars_legend = $bars_age.selectAll(\".vis-legend\")\r\n        .data(['male', 'female'])\r\n        .enter().append(\"g\");\r\n\r\n    age_bars_legend.append(\"rect\")\r\n        .attr(\"x\", 0)\r\n        .attr(\"width\", 20)\r\n        .attr(\"height\", 20)\r\n        .attr(\"class\", age_bar_color);\r\n    // .style(\"fill\", age_bar_color);\r\n\r\n\r\n\r\n    age_bars_legend.append(\"text\")\r\n        .attr(\"x\", 25)\r\n        .attr(\"y\", 9)\r\n        .attr(\"dy\", \".5em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(age_bar_label);\r\n\r\n    d3.csv(\"js/data/bars-age.csv\", function(error, data) {\r\n\r\n            var selected = \"percentOpiodDeaths\";\r\n            //console.log(column);\r\n            var dataset = drawGraph(data, selected); // you need to finish this function below.\r\n            //\r\n            // //console.log(column, dataset);\r\n            //\r\n\r\n\r\n            updateWidth();\r\n            redraw(dataset, selected);\r\n\r\n            window.addEventListener('resize', function() {\r\n                updateWidth();\r\n                redraw(dataset, selected);\r\n            });\r\n\r\n            d3.select(\"#POD\").classed(\"selected\", true);\r\n            $(\"#POD\").addClass(\"active\");\r\n\r\n            d3.select(\"#POD\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"percentOpiodDeaths\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n            d3.select(\"#DR\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"deathRate\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n            d3.select(\"#NOD\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"numberOpioidDeaths\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n\r\n            d3.select(\"#age18to24\")\r\n                .on(\"click\", function(d, i) {\r\n                    //selected = \"18to24\"\r\n                    // dataset = drawGraph(data, selected);\r\n                    // redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n\r\n                    //d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    //$(\"#buttons-bar button\").removeClass(\"active\");\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".bar.malFocus\")\r\n                        .classed(\"malSelector\", true);\r\n                    d3.selectAll(\".bar.femFocus\")\r\n                        .classed(\"femSelector\", true);\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", true);    \r\n\r\n                    d3.selectAll(\".bar.malFocus.age18to24\")\r\n                        .classed(\"malSelector\", false);\r\n                    d3.selectAll(\".bar.femFocus.age18to24\")\r\n                        .classed(\"femSelector\", false);\r\n                    \r\n                     d3.selectAll(\".vis-axis\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".vis-data-label\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"noageSelector\", false)\r\n                        .classed(\"ageSelector\", true);  \r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n\r\n            d3.select(\"#age25to34\")\r\n                .on(\"click\", function(d, i) {\r\n                    //lected = \"18to24\"\r\n                    // dataset = drawGraph(data, selected);\r\n                    // redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n\r\n                    //d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    //$(\"#buttons-bar button\").removeClass(\"active\");\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".bar.malFocus\")\r\n                        .classed(\"malSelector\", true);\r\n                    d3.selectAll(\".bar.femFocus\")\r\n                        .classed(\"femSelector\", true);\r\n                     \r\n\r\n                    d3.selectAll(\".bar.malFocus.age25to34\")\r\n                        .classed(\"malSelector\", false);\r\n                    d3.selectAll(\".bar.femFocus.age25to34\")\r\n                        .classed(\"femSelector\", false);\r\n\r\n                    d3.selectAll(\".vis-axis\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".vis-data-label\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"noageSelector\", false)\r\n                        .classed(\"ageSelector\", true);                    \r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n\r\n\r\n                });\r\n\r\n            //setup our ui -- requires access to data variable, so inside csv\r\n            // d3.select(\"#menu select\")\r\n            //     .on(\"change\", function() {\r\n            //         column = d3.select(\"#menu select\").property(\"value\");\r\n            //         dataset = drawGraph(data, column);\r\n            //         //console.log(column, dataset);\r\n            //         redraw(dataset, column);\r\n            // });\r\n\r\n        }) // end csv\r\n\r\n\r\n    function updateWidth() {\r\n        width = document.querySelector(\"#changing_bars\").clientWidth - 100;\r\n        height = 300;\r\n        margin = 50;\r\n\r\n        $bars_age\r\n            .attr(\"width\", width + 100)\r\n            .attr(\"height\", height + 10); // adding some random padding\r\n    }\r\n\r\n    //make the bars for the first data set.  They will be red at first.\r\n\r\n    function drawGraph(data, column) {\r\n\r\n        return data.sort(function(a, b) {\r\n            return b[column] - a[column]; // descending order, biggest at the top!\r\n        }); // cut off the top 10!\r\n\r\n    }\r\n\r\n    // This function is used to draw and update the data. It takes different data each time.\r\n\r\n    function redraw(data, column) {\r\n\r\n        chart_title.text(toTitle(column))\r\n            .attr(\"class\", \"vis-label\")\r\n            .style(\"text-anchor\", \"end\")\r\n            .attr(\"y\", 12)\r\n            .attr(\"x\", width + margin + margin);\r\n\r\n        var max = d3.max(data, function(d) {\r\n            return +d[column];\r\n        });\r\n\r\n        xScale = d3.scale.linear()\r\n            .domain([0, max])\r\n            .range([0, width]);\r\n\r\n        yScale = d3.scale.ordinal()\r\n            .domain(d3.range(data.length))\r\n            .rangeBands([20, height], .2);\r\n\r\n        // yScale = function calc(e){return i[((u.get(e)||(\"range\"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]};\r\n\r\n\r\n        var bars = $bars_age.selectAll(\"rect.bar\")\r\n            .data(data, function(d) {\r\n                return d.gender_age;\r\n            }); // key function!\r\n\r\n\r\n\r\n        age_bars_legend\r\n            .attr(\"class\", \"vis-legend\")\r\n            .attr(\"transform\", function(d, i) {\r\n                return \"translate(\" + (width - 10) + \",\" + (height - (margin * 2) + (i * 24)) + \")\";\r\n            });\r\n\r\n\r\n        //update -- existing bars get blue when we \"redraw\". We don't change labels.\r\n        // bars\r\n        //   .attr(\"fill\", \"steelblue\");\r\n\r\n        //enter - new bars get set to darkorange when we \"redraw.\"\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"bar\");\r\n        // .attr(\"fill\", \"steelblue\");\r\n\r\n        //exit -- remove ones that aren't in the index set\r\n        bars.exit()\r\n            .transition()\r\n            .duration(200)\r\n            .ease(\"exp\")\r\n            .attr(\"width\", 0)\r\n            .remove();\r\n\r\n        //console.log(yScale);\r\n        // transition -- move the bars to proper widths and location\r\n        bars\r\n            .transition()\r\n            .duration(500)\r\n            .ease(\"quad\")\r\n            .attr(\"width\", function(d) {\r\n                return xScale(+d[column]);\r\n            })\r\n            .attr(\"height\", yScale.rangeBand())\r\n            .attr(\"transform\", function(d, i) {\r\n                return \"translate(\" + [(0 + margin), yScale(i)] + \")\";\r\n            })\r\n            .attr(\"class\", function(d, i) {\r\n                if (d.gender === 'Male' && d.age === '18 to 24') {\r\n                    return \"bar malFocus age18to24\";\r\n                } else if (d.gender === 'Female' && d.age === '18 to 24') {\r\n                    return \"bar femFocus age18to24\";\r\n                } else if (d.gender === 'Female' && d.age === '25 to 34') {\r\n                    return \"bar femFocus age25to34\";\r\n                } else if (d.gender === 'Male' && d.age === '25 to 34') {\r\n                    return \"bar malFocus age25to34\";\r\n                } else if (d.gender === 'Female' && d.age === '35 to 49') {\r\n                    return \"bar femFocus age35to49\";\r\n                } else if (d.gender === 'Male' && d.age === '35 to 49') {\r\n                    return \"bar malFocus age35to49\";\r\n                } else if (d.gender === 'Female' && d.age === '50 to 64') {\r\n                    return \"bar femFocus age50to64\";\r\n                } else if (d.gender === 'Male' && d.age === '50 to 64') {\r\n                    return \"bar malFocus age50to64\";\r\n                } else if (d.gender === 'Female') {\r\n                    return \"bar femFocus age65plus\";\r\n                } else if (d.gender === 'Male') {\r\n                    return \"bar malFocus age65plus\";\r\n                }\r\n            });\r\n        //.classed(\"18to24\", (d.age === '18 to 24'))\r\n\r\n        //   .attr(\"class\", function (d, i) {\r\n        //       if (d.age === '18 to 24') {\r\n        //           return \"18to24\";\r\n        //      } else if (d.age === '25 to 34') {\r\n        //           return \"25to34\";\r\n        //       }\r\n        //   });\r\n\r\n        //add legend\r\n\r\n\r\n        //  We are attaching the labels separately, not in a group with the bars...\r\n\r\n        var dataLabels = $bars_age.selectAll(\"text.vis-data-label\")\r\n            .data(data, function(d) {\r\n                //console.log(d.age)\r\n                return d.gender_age\r\n            });\r\n             // key function!\r\n\r\n        var axisLabels = $bars_age\r\n            .selectAll(\"text.vis-axis\")\r\n\r\n            .data(data, function(d) {\r\n                return d.gender_age\r\n            })\r\n            ;\r\n\r\n\r\n        // everything gets a class and a text field.  But we assign attributes in the transition.\r\n        axisLabels.enter()\r\n            .append(\"text\")\r\n            .attr(\"class\", function(d, i) {\r\n                if(d.age == '25 to 34'){\r\n                    return \"vis-axis lab25to34\"\r\n                }\r\n                else if(d.age == '18 to 24'){\r\n                    return \"vis-axis lab18to24\"\r\n                }\r\n                else{\r\n                    return \"vis-axis\"\r\n                }\r\n            });\r\n        axisLabels.exit()\r\n            .remove();\r\n\r\n        dataLabels.enter()\r\n            .append(\"text\")\r\n            .attr(\"class\", function(d, i) {\r\n                if(d.age == '25 to 34'){\r\n                    return \"vis-data-label lab25to34\"\r\n                }\r\n                else if(d.age == '18 to 24'){\r\n                    return \"vis-data-label lab18to24\"\r\n                }\r\n                else{\r\n                    return \"vis-data-label\"\r\n                }\r\n            });\r\n        dataLabels.exit()\r\n            .remove();\r\n\r\n        numberFormat = d3.format(\".0f\");\r\n        percentageFormat = d3.format(\".1f\");\r\n        rateFormat = d3.format(\".1f\");\r\n\r\n        dataLabels.transition()\r\n            .duration(500)\r\n            .attr(\"transform\", function(d, i) {\r\n                //console.log(xScale(+d[column]) + 50);\r\n                //console.log(d[column]);\r\n                return \"translate(\" + (xScale(+d[column]) + margin) + \",\" + (yScale(i) + 4) + \")\"\r\n            })\r\n            .text(function(d) {\r\n                // console.log(column);\r\n                if (column == \"percentOpiodDeaths\" && d.age == '65+') {\r\n                    return \"<1%\";\r\n                }\r\n                if (column == \"percentOpiodDeaths\" && d.age != '65+') {\r\n                    return percentageFormat(d[column]) + \"%\";\r\n                }\r\n                if (column == \"numberOpioidDeaths\") {\r\n                    return numberFormat(d[column]);\r\n                } else {\r\n                    return rateFormat(d[column]);\r\n                }\r\n            })\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"dx\", \"5px\");\r\n\r\n        axisLabels.transition()\r\n            .duration(500)\r\n            .attr(\"transform\", function(d, i) {\r\n                //return \"translate(\" + xScale(+d[column]) + \",\" + yScale(i) + \")\"\r\n                return \"translate(\" + 0 + \",\" + (yScale(i) + 5) + \")\"\r\n            })\r\n            .text(function(d) {\r\n                return d.age;\r\n            })\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"dx\", \"40px\");\r\n\r\n\r\n    } // end of draw function\r\n\r\n\r\n    function toTitle(key) {\r\n        var titleLookup = {\r\n            percentOpiodDeaths: 'Percent of Opioid-related Deaths Among All Deaths',\r\n            deathRate: 'Opioid-related Death Rate per 100,000 People per Year',\r\n            numberOpioidDeaths: 'Number of Opioid-related Deaths from 2013 to 2014'\r\n        };\r\n        return titleLookup[key];\r\n    }\r\n})();","$(document).ready(function() {\r\n\r\n    dataset = [{\r\n        raceth: \"All\",\r\n        \"2014\": 19.9,\r\n        \"2015\": 23.3\r\n    }, {\r\n        raceth: \"White non-Hispanic\",\r\n        \"2014\": 23.3,\r\n        \"2015\": 27.5\r\n    }, {\r\n        raceth: \"Black non-Hispanic\",\r\n        \"2014\": 11.1,\r\n        \"2015\": 13.7\r\n    }, {\r\n        raceth: \"Hispanic\",\r\n        \"2014\": 15.3,\r\n        \"2015\": 18.8\r\n    }];\r\n\r\n    var color = d3.scale.ordinal()\r\n        .range([\"rgb(211, 211, 211)\", \"#78909C\"]);\r\n\r\n    var width, height, margin = {};\r\n\r\n    updateWidth();\r\n\r\n    var x0 = d3.scale.ordinal().rangeRoundBands([0, width], .1);\r\n\r\n    var x1 = d3.scale.ordinal().rangeBands([0, width], 0);\r\n\r\n    var y = d3.scale.linear()\r\n        .range([height, 0]);\r\n\r\n    var min2014 = [18.8, 22.0, 5.5, 12.4]\r\n    var max2014 = [20.9, 24.7, 18.5, 18.3]\r\n    var min2015 = [22.2, 26.0, 7.4, 15.7]\r\n    var max2015 = [24.5, 29.0, 21.9, 21.9]\r\n\r\n    var errorBarArea2014all = d3.svg.area()\r\n    var errorBarArea2015all = d3.svg.area()\r\n    var errorBarArea2014white = d3.svg.area()\r\n    var errorBarArea2015white = d3.svg.area()\r\n    var errorBarArea2014black = d3.svg.area()\r\n    var errorBarArea2015black = d3.svg.area()\r\n    var errorBarArea2014hisp = d3.svg.area()\r\n    var errorBarArea2015hisp = d3.svg.area()\r\n\r\n    var errorBars2014all;\r\n    var errorBars2015all;\r\n    var errorBars2014white;\r\n    var errorBars2015white;\r\n    var errorBars2014black;\r\n    var errorBars2015black;\r\n    var errorBars2014hisp;\r\n    var errorBars2015hisp;\r\n\r\n    var xAxis_bars = d3.svg.axis()\r\n        .scale(x0)\r\n        .orient(\"bottom\");\r\n\r\n    var yAxis_bars = d3.svg.axis()\r\n        .scale(y)\r\n        .orient(\"left\")\r\n        .tickFormat(d3.format(\".0f\"));\r\n\r\n    var divtooltip_raceeth = d3.select(\"#race_ethnicity_chart\").append(\"div\").classed(\"vis-tooltip hidden\", true);\r\n\r\n\r\n    var $svg = d3.select(\"#race_ethnicity_chart\").append(\"svg\")\r\n    var $bars_race = $svg\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n\r\n    var options = d3.keys(dataset[0]).filter(function(key) {\r\n        return key !== \"raceth\";\r\n    });\r\n\r\n    dataset.forEach(function(d) {\r\n        d.values = options.map(function(name) {\r\n            return {\r\n                name: name,\r\n                value: +d[name]\r\n            };\r\n        });\r\n    });\r\n\r\n    x0.domain(dataset.map(function(d) {\r\n        return d.raceth;\r\n    }));\r\n    x1.domain(options).rangeRoundBands([0, x0.rangeBand()]);\r\n    y.domain([0, d3.max(dataset, function(d) {\r\n        return d3.max(d.values, function(d) {\r\n            return d.value;\r\n        });\r\n    })]);\r\n\r\n    var xAxis = $bars_race.append(\"g\")\r\n        .attr(\"class\", \"vis-x-axis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\");\r\n\r\n    var yAxis = $bars_race.append(\"g\")\r\n        .attr(\"class\", \"vis-y-axis\");\r\n\r\n    var yAxisLabel = yAxis.append(\"text\")\r\n        .attr(\"y\", -35)\r\n        .attr(\"dy\", \".71em\")\r\n        .attr(\"class\", \"vis-y-axis-label\")\r\n        .text(\"Age Adjusted Rates per 100,000\");\r\n\r\n    var bar = $bars_race.selectAll(\".bar\")\r\n        .data(dataset)\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"rect\")\r\n        .attr(\"transform\", function(d) {\r\n            return \"translate(\" + (x0(d.raceth) - 10) + \",0)\";\r\n        });\r\n\r\n\r\n    var bars = bar.selectAll(\"rect\")\r\n        .data(function(d) {\r\n            return d.values;\r\n        })\r\n        .enter().append(\"rect\");\r\n\r\n    bars\r\n        .attr(\"width\", x1.rangeBand())\r\n        .attr(\"x\", function(d) {\r\n            return x1(d.name) + 5;\r\n        })\r\n        .attr(\"y\", function(d) {\r\n            //console.log(d.value + \": \" + y(d.value))\r\n            return y(d.value);\r\n        })\r\n        .attr(\"value\", function(d) {\r\n            return d.name;\r\n        })\r\n        .attr(\"height\", function(d) {\r\n            //console.log(height - y(9.7));\r\n            return height - y(d.value);\r\n        })\r\n        .style(\"fill\", function(d) {\r\n\r\n            return color(d.name);\r\n        });\r\n\r\n    //bar.on(\r\n    //\"mouseover\", function(){\r\n    //d3.select(this).attr(\"fill\",\"red !important\");\r\n    //});\r\n\r\n    bar\r\n        .on(\"mousemove\", function(d) {\r\n            divtooltip_raceeth.style(\"left\", d3.event.pageX - $(\"#race_ethnicity_chart\").offset().left + \"px\");\r\n            divtooltip_raceeth.style(\"top\", d3.event.pageY - $(\"#race_ethnicity_chart\").offset().top + \"px\");\r\n            divtooltip_raceeth.classed(\"hidden\", false);\r\n            var x = d3.event.pageX,\r\n                y = d3.event.pageY\r\n            var elements = document.querySelectorAll(':hover');\r\n            l = elements.length\r\n            l = l - 1\r\n            elementData = elements[l].__data__\r\n                //divtooltip_raceeth.html(\"<rate>\" + (elementData.value) + \"</rate>\"  +\"<br>\" + \"<reth> - \" + (d.raceth) + \" - </reth>\" + \"<br>\" + \"<year>\" + (elementData.name) + \"</year>\");\r\n            divtooltip_raceeth.html(\"<rate>\" + (elementData.value) + \"</rate>\");\r\n\r\n        });\r\n\r\n    bar\r\n        .on(\"mouseout\", function(d) {\r\n            divtooltip_raceeth.classed(\"hidden\", true);\r\n        });\r\n\r\n\r\n\r\n    var legend = $bars_race.selectAll(\".vis-legend\")\r\n        .data(options.slice())\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"vis-legend\")\r\n        .attr(\"transform\", function(d, i) {\r\n            return \"translate(0,\" + i * 20 + \")\";\r\n        });\r\n\r\n    var legendRect = legend.append(\"rect\")\r\n        .attr(\"x\", width - 24)\r\n        .attr(\"width\", 18)\r\n        .attr(\"height\", 18)\r\n        .style(\"fill\", color);\r\n    \r\n\r\n    var legendText = legend.append(\"text\")\r\n        .attr(\"x\", width - 24)\r\n        .attr(\"y\", 9)\r\n        .attr(\"dy\", \".35em\")\r\n        .style(\"text-anchor\", \"end\")\r\n        .text(function(d) {\r\n            return d;\r\n        });\r\n\r\n    var $legend = $svg.append(\"g\");\r\n    var $item = $legend.append(\"g\");\r\n    var seriesColors = [\"#0071bc\"];\r\n     var seriesLineStrokes = [\"1.5px\"];\r\n     var seriesLineDash = [\"0,0,0,0\"];\r\n\r\n    function renderLegend() {\r\n\r\n\r\n      var legendItems = [\r\n        \"ConfInt\"\r\n      ];\r\n      var legendItemsTranslate = [\r\n        \"Confidence Interval\"\r\n      ];\r\n      $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\"+(width-(margin.right*10))+\",0)\");\r\n      var lineHeight = 15;\r\n      // var seriesColors = [\"#ffffff\", \"#b71c1c\", \"#0071bc\", \"#ffffff\"];\r\n      // var seriesLineStrokes = [\"1.5px\", \"3.5px\", \"3.5px\", \"2px\"];\r\n      // var seriesLineDash = [\"10,10,10,10\", \"0,0,0,0\", \"0,0,0,0\", \"2,6,0,0\"];\r\n\r\n      legendItems.forEach(function(item, i) {\r\n      $item = $legend.append(\"g\")\r\n          .attr(\"class\", \"legend-item-\"+item)\r\n          .attr(\"transform\", \"translate(0,\"+(i*lineHeight)+\")\");\r\n\r\n        $item.append(\"svg:line\")\r\n          .attr(\"class\", \"legend-item-\"+item)\r\n          .attr(\"x1\", 133)\r\n          .attr(\"y1\", 37)\r\n          .attr(\"x2\", 150)\r\n          .attr(\"y2\", 37)\r\n          .style(\"stroke\", seriesColors[i])\r\n          .style(\"stroke-dasharray\", seriesLineDash[i])\r\n          .style(\"stroke-width\", seriesLineStrokes[i]);\r\n\r\n        $item.append(\"text\")\r\n          .attr(\"class\", \"legend-item-\"+item)\r\n          .attr(\"x\", 40)\r\n          .attr(\"y\", 40)\r\n          .text(legendItemsTranslate[i]);\r\n      });\r\n    }\r\n\r\n    \r\n\r\n    errorBarArea2014all\r\n        .x(function(d) {\r\n            return x0('All') + x1.rangeBand() / 2;\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2014[0]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2014[0]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2015all\r\n        .x(function(d) {\r\n            return x0('All') + x1.rangeBand() / 2 + x1.rangeBand();\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2015[0]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2015[0]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2014white\r\n        .x(function(d) {\r\n            return x0('White non-Hispanic') + x1.rangeBand() / 2;\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2014[1]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2014[1]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2015white\r\n        .x(function(d) {\r\n            return x0('White non-Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2015[1]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2015[1]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2014black\r\n        .x(function(d) {\r\n            return x0('Black non-Hispanic') + x1.rangeBand() / 2;\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2014[2]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2014[2]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2015black\r\n        .x(function(d) {\r\n            return x0('Black non-Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2015[2]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2015[2]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2014hisp\r\n        .x(function(d) {\r\n            return x0('Hispanic') + x1.rangeBand() / 2;\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2014[3]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2014[3]);\r\n        })\r\n        .interpolate(\"linear\");\r\n    errorBarArea2015hisp\r\n        .x(function(d) {\r\n            return x0('Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n        })\r\n        .y0(function(d) {\r\n            return y(min2015[3]);\r\n        })\r\n        .y1(function(d) {\r\n            return y(max2015[3]);\r\n        })\r\n        .interpolate(\"linear\");\r\n\r\n\r\n    //var errorBarSVG = d3.select(\"#race_ethnicity_chart\").append(\"svg\")\r\n    errorBars2014all = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2015all = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2014white = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2015white = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2014black = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2015black = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2014hisp = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n    errorBars2015hisp = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\r\n\r\n    //\r\n    errorBars2014all.enter().append(\"path\");\r\n    errorBars2015all.enter().append(\"path\");\r\n    errorBars2014white.enter().append(\"path\");\r\n    errorBars2015white.enter().append(\"path\");\r\n    errorBars2014black.enter().append(\"path\");\r\n    errorBars2015black.enter().append(\"path\");\r\n    errorBars2014hisp.enter().append(\"path\");\r\n    errorBars2015hisp.enter().append(\"path\");\r\n\r\n    //\r\n    errorBars2014all\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2014all([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2015all\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2015all([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2014white\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2014white([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2015white\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2015white([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2014black\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2014black([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2015black\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2015black([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2014hisp\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2014hisp([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n    errorBars2015hisp\r\n        .attr(\"d\", function(d) {\r\n            return errorBarArea2015hisp([d]);\r\n        })\r\n        .attr(\"class\", \"bars_race_error\");\r\n\r\n\r\n\r\n    function wrap(text, width) {\r\n        text.each(function() {\r\n            var text = d3.select(this),\r\n                words = text.text().split(/\\s+/).reverse(),\r\n                word,\r\n                line = [],\r\n                lineNumber = 0,\r\n                lineHeight = 1.1, // ems\r\n                y = text.attr(\"y\"),\r\n                dy = parseFloat(text.attr(\"dy\")),\r\n                tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\r\n            while (word = words.pop()) {\r\n                line.push(word);\r\n                tspan.text(line.join(\" \"));\r\n                if (tspan.node().getComputedTextLength() > width) {\r\n                    line.pop();\r\n                    tspan.text(line.join(\" \"));\r\n                    line = [word];\r\n                    tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    function render() {\r\n        updateWidth();\r\n        $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\"+(width-margin.right*10)+\",0)\");\r\n        x1.rangeRoundBands([0, x0.rangeBand()]);\r\n\r\n        x0.rangeRoundBands([0, width], .1);\r\n        y.range([height, 0]);\r\n\r\n        xAxis_bars.scale(x0);\r\n        yAxis_bars.scale(y);\r\n\r\n        $svg.attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\r\n\r\n        xAxis\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .call(xAxis_bars)\r\n            .selectAll(\".tick text\")\r\n            .call(wrap, x0.rangeBand());\r\n\r\n        yAxis.call(yAxis_bars);\r\n        yAxisLabel.attr(\"x\", -height / 2);\r\n        legendRect.attr(\"x\", width - 18);\r\n        legendText.attr(\"x\", width - 24);\r\n\r\n        bar.attr(\"transform\", function(d) {\r\n            return \"translate(\" + (x0(d.raceth) - 10) + \",0)\";\r\n        });\r\n\r\n        bars.attr(\"width\", x1.rangeBand())\r\n            .attr(\"x\", function(d) {\r\n\r\n                return x1(d.name) + 10;\r\n            })\r\n            .attr(\"y\", function(d) {\r\n\r\n                return y(d.value);\r\n            })\r\n            .attr(\"value\", function(d) {\r\n                return d.name;\r\n            })\r\n            .attr(\"height\", function(d) {\r\n                return height - y(d.value);\r\n            });\r\n\r\n\r\n        errorBarArea2014all\r\n            .x(function(d) {\r\n                return x0('All') + x1.rangeBand() / 2;\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2014[0]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2014[0]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2015all\r\n            .x(function(d) {\r\n                return x0('All') + x1.rangeBand() / 2 + x1.rangeBand();\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2015[0]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2015[0]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2014white\r\n            .x(function(d) {\r\n                return x0('White non-Hispanic') + x1.rangeBand() / 2;\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2014[1]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2014[1]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2015white\r\n            .x(function(d) {\r\n                return x0('White non-Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2015[1]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2015[1]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2014black\r\n            .x(function(d) {\r\n                return x0('Black non-Hispanic') + x1.rangeBand() / 2;\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2014[2]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2014[2]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2015black\r\n            .x(function(d) {\r\n                return x0('Black non-Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2015[2]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2015[2]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2014hisp\r\n            .x(function(d) {\r\n                return x0('Hispanic') + x1.rangeBand() / 2;\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2014[3]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2014[3]);\r\n            })\r\n            .interpolate(\"linear\");\r\n        errorBarArea2015hisp\r\n            .x(function(d) {\r\n                return x0('Hispanic') + x1.rangeBand() / 2 + x1.rangeBand();\r\n            })\r\n            .y0(function(d) {\r\n                return y(min2015[3]);\r\n            })\r\n            .y1(function(d) {\r\n                return y(max2015[3]);\r\n            })\r\n            .interpolate(\"linear\");\r\n\r\n        errorBars2014all\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2014all([d]);\r\n            });\r\n        errorBars2015all\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2015all([d]);\r\n            });\r\n        errorBars2014white\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2014white([d]);\r\n            });\r\n        errorBars2015white\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2015white([d]);\r\n            });\r\n        errorBars2014black\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2014black([d]);\r\n            });\r\n        errorBars2015black\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2015black([d]);\r\n            });\r\n        errorBars2014hisp\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2014hisp([d]);\r\n            });\r\n        errorBars2015hisp\r\n            .attr(\"d\", function(d) {\r\n                return errorBarArea2015hisp([d]);\r\n            });\r\n\r\n    }\r\n\r\n    function updateWidth() {\r\n        var w = document.querySelector('#race_ethnicity_chart').clientWidth;\r\n        margin = {\r\n                top: 50,\r\n                right: 10,\r\n                bottom: 60,\r\n                left: 50\r\n            },\r\n            width = w - margin.left - margin.right;\r\n\r\n        if (w < 500) {\r\n            height = 350 - margin.top - margin.bottom;\r\n            linemult = 1.4\r\n            linepad = 40\r\n        } else {\r\n            height = 500 - margin.top - margin.bottom;\r\n            linemult = 1.35\r\n            linepad = 30\r\n        }\r\n\r\n    }\r\n    render();\r\n    renderLegend();\r\n    window.addEventListener('resize', render);\r\n});"],"sourceRoot":"/source/"}