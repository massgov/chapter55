{"version":3,"sources":["custom.js","lines-bsas.js","video.js","queue.js","maps_binary5yr.js","maps-substance.js","lines-death.js","lines-fent.js","blocks-bar.js","blocks-gender.js","bars-age.js","bars-race.js"],"names":["parallax","speed","document","querySelectorAll","window","onscroll","i","length","$offset","$","offset","$windowYOffset","height","pageYOffset","top","extraY","elBackgrounPos","style","backgroundPosition","collapseNavbar","addClass","removeClass","BoldText","elem","currElem","fontWeight","opioidsY2000","d","d3","select","attr","classed","opioidsY2015","InitPxVideo","options","video_timecode_min","tc","tcpair","split","videosub_tcsecs","video_timecode_max","undefined","seconds","tc1","tc2","Math","floor","adjustManualCaptions","obj","subcount","captions","movie","currentTime","toFixed","showCaptionContainerAndButton","captionsBtnContainer","className","isCaptionDefault","captionsContainer","captionsBtn","setAttribute","browserSniff","nameOffset","verOffset","ix","nAgt","navigator","appVersion","userAgent","browserName","appName","fullVersion","parseFloat","majorVersion","parseInt","indexOf","substring","lastIndexOf","toLowerCase","toUpperCase","isNaN","launchFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullScreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","call","fullScreenStyles","fullscreen","mozFullScreen","webkitIsFullScreen","fullScreenBtn","checked","container","controls","movieWidth","movieHeight","exitFullScreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","ariaAnnounce","msg","announce","getElementById","innerHTML","div","createElement","id","overflow","textIndent","body","appendChild","arBrowserInfo","browserMajorVersion","isSmartphoneOrTablet","test","debug","console","log","videoTitle","playAriaLabel","videoId","getElementsByTagName","getElementsByClassName","removeAttribute","randomNum","random","GLOBAL_STRINGS","kind","captionSrc","children","childNodes","nodeName","getAttribute","captionExists","captionsOnDefault","seekInterval","btnPlay","btnPause","btnRestart","btnRewind","btnForward","btnVolume","btnMute","progressBar","progressBarSpan","duration","txtSeconds","fullScreenBtnContainer","isTextTracks","textTracks","addEventListener","play","focus","pause","targetTime","announcePos","round","announceMsg","volume","this","value","muted","onkeypress","e","keyCode","preventDefault","secs","mins","slice","percent","pos","pageX","offsetLeft","offsetWidth","currClass","track","tracks","j","mode","activeCues","hasOwnProperty","text","currentCaption","xhr","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","record","records","req","responseText","r","shift","open","send","removeChild","queue","parallelism","pop","popping","started","tasks","active","t","a","push","callback","apply","error","remaining","NaN","notify","await","all","concat","q","noop","Infinity","defer","arguments","f","awaitAll","version","define","amd","module","exports","scroll","ready","bind","event","href","stop","animate","scrollTop","location","hash","on","tab","target","newTabHeight","querySelector","clientHeight","parent","click","each","$id","$current","html","find","$target","data","get","load","response","asignVal_svg","val","val_svg","words","trim","potentialWidow","newWords","join","Vis","visualize","states","forEach","wrapper","visualizationWrapper","append","createMap","geo","selector","eventName","selectAll","el","shape","key","$maps_sub","width","features","enter","path","values","properties","TOWN_1","palette","self","town_value","geoData","format","TOWN","node","parentNode","fill-opacity","generateLegend_map_sub","scale","szDivId","szCaption","legendHeight","legendWidth","$maps_sub_svg","$maps_sub_legends","legendData","domain","range","s","domainStrings","unitWidth","json","projection","conicConformal","parallels","rotate","translate","colors_5yr","threshold","opChgScale","date","setupData","years","keys","dataset","OMRs","y","year","rate","Geography","FullName","rates","xScale","extent","dateFormat","parse","yScale","max","groups","$lines_death","lines","inArray","Massachusetts","UnitedStates","updateDimensions","dimensions","rootNode","clientWidth","margin","left","render","right","bottom","xAxis_death","orient","ticks","tickFormat","innerTickSize","yAxis_death","$lines_death_x_axis_label","$lines_death_y_axis_label","$lines_death_y_axis","line_death","x","defined","$lines_death_x_axis","$lines_death_ma_label","$lines_death_usa_label","mouseoutFunc","tooltip_death","mouseoverFunc","y0","mouse","y1","invert","percentVal","mousemoveFunc","offsetY","time","linear","svg","axis","line","csv","quarter","date2","Date","setMonth","getMonth","ceil","symbol","type","size","tooltipFent","x0","pageY","updateWidth","rangePoints","x2","xAxis_fent","xAxis2_fent","yAxis_fent","label","x_axis","x_axis2","x_axis2_text","y_axis","$svg","wrapper_width","wrapper_height","$lines","$lines_hit_area","$legend","componentWidth","renderLegend","legendItems","legendItemsTranslate","lineHeight","item","$item","seriesColors","seriesLineDash","seriesLineStrokes","rootSelector","chartData","FentanylHeroin","Fentanyl","Heroin","Methadone","yearformat","seriesPointShapes","seriesPointWidth","seriesPointFill","xLabel","ordinal","color","lineStroke","lineDash","pointShape","pointWidth","pointFill","months","tickSize","tickPadding","formatPercent","$lines_fent","varSeries","filter","seriesData","map","name","min","c","series","xAxis_bsas","outerTickSize","yAxis_bsas","age","$x_axis","$y_axis","$lines_bsas","$eventOverlay","$lines_bsas_x_axis_label","$lines_bsas_y_axis_label","renderLines","updateDots","w","setupLegend","opioids","circle","alcohol","marijuana","other","top_offset","line_height","legend_pos_dot","legend_pos_text","setupLines","current_town","y_circle_alcohol","transition","delay","string_select","value_select","town_names","abington","acton","acushnet","adams","agawam","alford","amesbury","amherst","andover","aquinnah","arlington","ashburnham","ashby","ashfield","ashland","athol","attleboro","auburn","avon","ayer","barnstable","barre","becket","bedford","belchertown","bellingham","belmont","berkley","berlin","bernardston","beverly","billerica","blackstone","blandford","bolton","boston","bourne","boxborough","boxford","boylston","braintree","brewster","bridgewater","brimfield","brockton","brookfield","brookline","buckland","burlington","cambridge","canton","carlisle","carver","charlemont","charlton","chatham","chelmsford","chelsea","cheshire","chester","chesterfield","chicopee","chilmark","clarksburg","clinton","cohasset","colrain","concord","conway","cummington","dalton","danvers","dartmouth","dedham","deerfield","dennis","dighton","douglas","dover","dracut","dudley","dunstable","duxbury","eastbridgewater","eastbrookfield","eastham","easthampton","eastlongmeadow","easton","edgartown","egremont","erving","essex","everett","fairhaven","fallriver","falmouth","fitchburg","florida","foxborough","framingham","franklin","freetown","gardner","georgetown","gill","gloucester","goshen","gosnold","grafton","granby","granville","greatbarrington","greenfield","groton","groveland","hadley","halifax","hamilton","hampden","hancock","hanover","hanson","hardwick","harvard","harwich","hatfield","haverhill","hawley","heath","hingham","hinsdale","holbrook","holden","holland","holliston","holyoke","hopedale","hopkinton","hubbardston","hudson","hull","huntington","ipswich","kingston","lakeville","lancaster","lanesborough","lawrence","lee","leicester","lenox","leominster","leverett","lexington","leyden","lincoln","littleton","longmeadow","lowell","ludlow","lunenburg","lynn","lynnfield","malden","manchester","mansfield","marblehead","marion","marlborough","marshfield","mashpee","mattapoisett","maynard","medfield","medford","medway","melrose","mendon","merrimac","methuen","middleborough","middlefield","middleton","milford","millbury","millis","millville","milton","monroe","monson","montague","monterey","montgomery","mountwashington","nahant","nantucket","natick","needham","newashford","newbedford","newbraintree","newbury","newburyport","newmarlborough","newsalem","newton","norfolk","northadams","northampton","northandover","northattleborough","northborough","northbridge","northbrookfield","northfield","northreading","norton","norwell","norwood","oakbluffs","oakham","orange","orleans","otis","oxford","palmer","paxton","peabody","pelham","pembroke","pepperell","peru","petersham","phillipston","pittsfield","plainfield","plainville","plymouth","plympton","princeton","provincetown","quincy","randolph","raynham","reading","rehoboth","revere","richmond","rochester","rockland","rockport","rowe","rowley","royalston","russell","rutland","salem","salisbury","sandisfield","sandwich","saugus","savoy","scituate","seekonk","sharon","sheffield","shelburne","sherborn","shirley","shrewsbury","shutesbury","somerset","somerville","southampton","southborough","southbridge","southhadley","southwick","spencer","springfield","sterling","stockbridge","stoneham","stoughton","stow","sturbridge","sudbury","sunderland","sutton","swampscott","swansea","taunton","templeton","tewksbury","tisbury","tolland","topsfield","townsend","truro","tyngsborough","tyringham","upton","uxbridge","wakefield","wales","walpole","waltham","ware","wareham","warren","warwick","washington","watertown","wayland","webster","wellesley","wellfleet","wendell","wenham","westborough","westboylston","westbridgewater","westbrookfield","westfield","westford","westhampton","westminster","westnewbury","weston","westport","westspringfield","weststockbridge","westtisbury","westwood","weymouth","whately","whitman","wilbraham","williamsburg","williamstown","wilmington","winchendon","winchester","windsor","winthrop","woburn","worcester","worthington","wrentham","yarmouth","bisectAge","bisector","category10","none","mousemove","i_alcohol","d0_alcohol","d1_alcohol","d_alcohol","focusalcohol","i_marijuana","d0_marijuana","d1_marijuana","d_marijuana","focusmarijuana","i_opioids","d0_opioids","d1_opioids","d_opioids","focusopioids","i_other","d0_other","d1_other","d_other","focusother","autocomplete","source","request","matches","acItem","term","ui","asignVal_substance","Yes","empty","makeChart_substance","No","data_substance","blockArray_substance","noOfBlocks_No","noOfBlocks_Yes","blockArray","addBlocks_substance","addBlock_substance","person_path","person_svg_No","b","person_svg_Yes","draw","colors","xMax","group","rangeRoundBands","colours","bar_groups","$bar","rects","stroke","stroke-width","rangeBand","prescription","heroin","fentanyl","both","methadone","buprenorphine","count","substance","sub","time_period","o","stack","layout","n","substance_html","asignVal_gender","option","makeChart_gender","eval","table_html","data_gender","multi","index","noOfBlocks_gender","blockArray_gender","addBlocks_gender","addBlock_gender","noOfBlocks","person_svg","$option","$value","$bars_age","drawGraph","column","sort","redraw","chart_title","toTitle","rangeBands","bars","gender_age","age_bars_legend","exit","ease","remove","gender","dataLabels","axisLabels","numberFormat","percentageFormat","rateFormat","titleLookup","percentOpiodDeaths","deathRate","numberOpioidDeaths","age_bar_color","age_bar_label","selected","thisButton","wrap","word","reverse","lineNumber","dy","tspan","getComputedTextLength","x1","xAxis_bars","yAxis_bars","xAxis","yAxis","yAxisLabel","legendRect","legendText","bar","raceth","errorBarArea2014all","min2014","max2014","interpolate","errorBarArea2015all","min2015","max2015","errorBarArea2014white","errorBarArea2015white","errorBarArea2014black","errorBarArea2015black","errorBarArea2014hisp","errorBarArea2015hisp","errorBars2014all","errorBars2015all","errorBars2014white","errorBars2015white","errorBars2014black","errorBars2015black","errorBars2014hisp","errorBars2015hisp","linemult","linepad","2014","2015","area","divtooltip_raceeth","$bars_race","elements","l","elementData","__data__","legend","PLAY","PAUSE","TOGGLE_FULL_SCREEN","MUTE","RESTART","CAPTIONS","REWIND","FORWARD"],"mappings":"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","file":"main.js","sourcesContent":["// Create HTML5 elements for IE\n\ndocument.createElement(\"article\");\ndocument.createElement(\"section\");\n\nvar speed = -80;\nparallax(speed);\n\nfunction parallax(speed) {\n\n    var parallax = document.querySelectorAll(\".parallax\");\n    // console.log(parallax[0]);\n\n    window.onscroll = function() {\n        for (var i = 0; i < parallax.length; i++) {\n\n            //var position = $(el).position();\n            // var offset = [];\n            var $offset = $(parallax[i]).offset();\n            //console.log(offset);\n            var $windowHeight = window.height;\n            var $windowYOffset = window.pageYOffset / $offset.top;\n            // $windowYOffset[0] = 0;\n            //       console.log($windowYOffset);\n            //console.log('windowYOffset: pageYOffset (' + window.pageYOffset + ') / ( window.height (' + window.height + ') - offset.top ( ' + offset.top + ' ) = ' + windowYOffset);\n            // console.log(el+\",\"+i);\n\n            var extraY = [0, -10, -60, -40, 0, -20];\n\n            var elBackgrounPos = [];\n\n            elBackgrounPos[i] = \"50% \" + (extraY[i] + $windowYOffset * speed) + \"%\";\n\n            //console.log(elBackgrounPos);\n\n            parallax[i].style.backgroundPosition = elBackgrounPos[i];\n        };\n    };\n\n};\n\n\n\n\n\n/////////////////////////////NAV\nfunction collapseNavbar() {\n    if ($(\".navbar\").offset().top > 50) {\n        $(\".navbar-fixed-top\").addClass(\"top-nav-collapse\");\n    } else {\n        $(\".navbar-fixed-top\").removeClass(\"top-nav-collapse\");\n    }\n}\n\n$(window).scroll(collapseNavbar);\n$(document).ready(collapseNavbar);\n\n// jQuery for page scrolling feature - requires jQuery Easing plugin\n$(function() {\n    $('a.page-scroll').bind('click', function(event) {\n        event.preventDefault();\n\tvar href = $(this).attr('href');\n        $('html, body').stop().animate({\n\t    scrollTop: $(href).offset().top\n\t}, 750, function() {\n\t    window.location.hash = href;\n\t});\n        event.preventDefault();\n    });\n});\n\n\n$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\n  var tab = $(e.target).attr('href');\n  var newTabHeight = document.querySelector(tab).clientHeight;\n  $(tab).parent().animate({ height: newTabHeight });\n});\n\n\n\n// Closes the Responsive Menu on Menu Item Click\n$('.navbar-collapse ul li a').click(function() {\n    if ($(this).attr('class') != 'dropdown-toggle active' && $(this).attr('class') != 'dropdown-toggle') {\n        $('.navbar-toggle:visible').click();\n    }\n});\n\n\n//when scrolling...\n$(window).scroll(function() {\n    if ($(window).scrollTop() >= 400) {\n        $(\"#navigation\").addClass(\"navbar-fixed-top\");\n    } else {\n        $(\"#navigation\").removeClass(\"navbar-fixed-top\");\n    };\n\n\n    $('.target').each(function() {\n        if ($(window).scrollTop() >= ($(this).offset().top) - 10) {\n            var $id = $(this).attr('id');\n            $('#navigation li').removeClass('active');\n            $('#navigation li[id=' + $id + '1]').addClass('active');\n\n            var $current = $(this).attr('data-index');\n            // var $current = $(this).find('.section-title').text();\n            $('#current-section').html($current);\n        }\n    });\n\n});\n\n$(\"#navigation li\").on('click', function() {\n    $(this).parent().find(\"li\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n});\n\n\n\n/////////////////////////////Pills\n\n$('#pills-first a').click(function(e) {\n    e.preventDefault()\n    $(this).tab('show')\n});\n\n\n/////////////////////////////Video Links\n\n$(document).click('.js-play-video', function(e) {\n    var $target = $($(e.target).data('target'));\n    if($target.get(0)) {\n        $target.get(0).play();\n    }\n});\n\n/////////////////////////////SVG Infographic\n$(function() {\n    $(\"#odInfographic\").load('img/human1.svg', function(response) {\n        var $svg = $(this).find('svg');\n        // $svg.attr(\"preserveAspectRatio\", \"xMinYMin meet\");\n        var val_svg = '2/3';\n        asignVal_svg(val_svg);\n\n        function asignVal_svg(val) {\n            $('.btn-svg').removeClass('active');\n            $('.btn-svg[value=\"' + val + '\"]').addClass('active');\n            if (val == '1/12') {\n                $('.svg-studyperiod').attr(\"opacity\", 0);\n                $('.svg-onemonth').attr(\"opacity\", 1);\n                $('#odInfographic_details').html('Only about '+ '<strong>1 in 12</strong>' +' people who died from opioids in 2013 and 2014 had an active opioid prescription a month before they died')\n            } else {\n                $('.svg-studyperiod').attr(\"opacity\", 1);\n                $('#odInfographic_details').html('About '+ '<strong>8 in 12</strong>' +' people who died from opioids in 2013 and 2014 had an opioid prescription at some point from 20112014')\n            }\n        }\n\n        $('.btn-svg').on('click', function() {\n            asignVal_svg($(this).val());\n        });\n\n        $('.controls-svg').on('click', function() {\n            asignVal_svg($(this).data('select'));\n        });\n    });\n});\n\n\n// Fix widows (no words on own line at the end of a <p>)\n$('p').each(function() {\n    var innerHTML = $(this).html();\n    var words = innerHTML.trim().split(' ');\n    if(words.length > 2) {\n        var potentialWidow = words[words.length-1];\n        var newWords = words.slice(0,-1).join(' ');\n        $(this).html(newWords+'&nbsp;'+potentialWidow);\n    }\n})\n\n//bold footnote on in text num click\n\nvar currElem = null; //will hold the element that is bold now\n\n function BoldText(elem) {\n    //console.log(elem)\n    //document.getElementById(\"footnote-4\")\n \n  if (elem != currElem) { //do thing if you're clicking on a bold link\n\n   if (currElem) //if a link bold right now unbold it\n\n    currElem.style.fontWeight='lighter';\n\n   currElem = elem; //assign this element as the current one\n\n   elem.style.fontWeight='bolder';  //make the element clicked bold\n \n  }\n\n }","/* global d3*/\n(function() {\n    var rootNode = document.querySelector('#lines-bsas');\n    var town_names = {\n        //\"massachusetts\" : \"Massachusetts\",\n        \"abington\": \"Abington\",\n        \"acton\": \"Acton\",\n        \"acushnet\": \"Acushnet\",\n        \"adams\": \"Adams\",\n        \"agawam\": \"Agawam\",\n        \"alford\": \"Alford\",\n        \"amesbury\": \"Amesbury\",\n        \"amherst\": \"Amherst\",\n        \"andover\": \"Andover\",\n        \"aquinnah\": \"Aquinnah\",\n        \"arlington\": \"Arlington\",\n        \"ashburnham\": \"Ashburnham\",\n        \"ashby\": \"Ashby\",\n        \"ashfield\": \"Ashfield\",\n        \"ashland\": \"Ashland\",\n        \"athol\": \"Athol\",\n        \"attleboro\": \"Attleboro\",\n        \"auburn\": \"Auburn\",\n        \"avon\": \"Avon\",\n        \"ayer\": \"Ayer\",\n        \"barnstable\": \"Barnstable\",\n        \"barre\": \"Barre\",\n        \"becket\": \"Becket\",\n        \"bedford\": \"Bedford\",\n        \"belchertown\": \"Belchertown\",\n        \"bellingham\": \"Bellingham\",\n        \"belmont\": \"Belmont\",\n        \"berkley\": \"Berkley\",\n        \"berlin\": \"Berlin\",\n        \"bernardston\": \"Bernardston\",\n        \"beverly\": \"Beverly\",\n        \"billerica\": \"Billerica\",\n        \"blackstone\": \"Blackstone\",\n        \"blandford\": \"Blandford\",\n        \"bolton\": \"Bolton\",\n        \"boston\": \"Boston\",\n        \"bourne\": \"Bourne\",\n        \"boxborough\": \"Boxborough\",\n        \"boxford\": \"Boxford\",\n        \"boylston\": \"Boylston\",\n        \"braintree\": \"Braintree\",\n        \"brewster\": \"Brewster\",\n        \"bridgewater\": \"Bridgewater\",\n        \"brimfield\": \"Brimfield\",\n        \"brockton\": \"Brockton\",\n        \"brookfield\": \"Brookfield\",\n        \"brookline\": \"Brookline\",\n        \"buckland\": \"Buckland\",\n        \"burlington\": \"Burlington\",\n        \"cambridge\": \"Cambridge\",\n        \"canton\": \"Canton\",\n        \"carlisle\": \"Carlisle\",\n        \"carver\": \"Carver\",\n        \"charlemont\": \"Charlemont\",\n        \"charlton\": \"Charlton\",\n        \"chatham\": \"Chatham\",\n        \"chelmsford\": \"Chelmsford\",\n        \"chelsea\": \"Chelsea\",\n        \"cheshire\": \"Cheshire\",\n        \"chester\": \"Chester\",\n        \"chesterfield\": \"Chesterfield\",\n        \"chicopee\": \"Chicopee\",\n        \"chilmark\": \"Chilmark\",\n        \"clarksburg\": \"Clarksburg\",\n        \"clinton\": \"Clinton\",\n        \"cohasset\": \"Cohasset\",\n        \"colrain\": \"Colrain\",\n        \"concord\": \"Concord\",\n        \"conway\": \"Conway\",\n        \"cummington\": \"Cummington\",\n        \"dalton\": \"Dalton\",\n        \"danvers\": \"Danvers\",\n        \"dartmouth\": \"Dartmouth\",\n        \"dedham\": \"Dedham\",\n        \"deerfield\": \"Deerfield\",\n        \"dennis\": \"Dennis\",\n        \"dighton\": \"Dighton\",\n        \"douglas\": \"Douglas\",\n        \"dover\": \"Dover\",\n        \"dracut\": \"Dracut\",\n        \"dudley\": \"Dudley\",\n        \"dunstable\": \"Dunstable\",\n        \"duxbury\": \"Duxbury\",\n        \"eastbridgewater\": \"East Bridgewater\",\n        \"eastbrookfield\": \"East Brookfield\",\n        \"eastham\": \"Eastham\",\n        \"easthampton\": \"Easthampton\",\n        \"eastlongmeadow\": \"East Longmeadow\",\n        \"easton\": \"Easton\",\n        \"edgartown\": \"Edgartown\",\n        \"egremont\": \"Egremont\",\n        \"erving\": \"Erving\",\n        \"essex\": \"Essex\",\n        \"everett\": \"Everett\",\n        \"fairhaven\": \"Fairhaven\",\n        \"fallriver\": \"Fall River\",\n        \"falmouth\": \"Falmouth\",\n        \"fitchburg\": \"Fitchburg\",\n        \"florida\": \"Florida\",\n        \"foxborough\": \"Foxborough\",\n        \"framingham\": \"Framingham\",\n        \"franklin\": \"Franklin\",\n        \"freetown\": \"Freetown\",\n        \"gardner\": \"Gardner\",\n        \"georgetown\": \"Georgetown\",\n        \"gill\": \"Gill\",\n        \"gloucester\": \"Gloucester\",\n        \"goshen\": \"Goshen\",\n        \"gosnold\": \"Gosnold\",\n        \"grafton\": \"Grafton\",\n        \"granby\": \"Granby\",\n        \"granville\": \"Granville\",\n        \"greatbarrington\": \"Great Barrington\",\n        \"greenfield\": \"Greenfield\",\n        \"groton\": \"Groton\",\n        \"groveland\": \"Groveland\",\n        \"hadley\": \"Hadley\",\n        \"halifax\": \"Halifax\",\n        \"hamilton\": \"Hamilton\",\n        \"hampden\": \"Hampden\",\n        \"hancock\": \"Hancock\",\n        \"hanover\": \"Hanover\",\n        \"hanson\": \"Hanson\",\n        \"hardwick\": \"Hardwick\",\n        \"harvard\": \"Harvard\",\n        \"harwich\": \"Harwich\",\n        \"hatfield\": \"Hatfield\",\n        \"haverhill\": \"Haverhill\",\n        \"hawley\": \"Hawley\",\n        \"heath\": \"Heath\",\n        \"hingham\": \"Hingham\",\n        \"hinsdale\": \"Hinsdale\",\n        \"holbrook\": \"Holbrook\",\n        \"holden\": \"Holden\",\n        \"holland\": \"Holland\",\n        \"holliston\": \"Holliston\",\n        \"holyoke\": \"Holyoke\",\n        \"hopedale\": \"Hopedale\",\n        \"hopkinton\": \"Hopkinton\",\n        \"hubbardston\": \"Hubbardston\",\n        \"hudson\": \"Hudson\",\n        \"hull\": \"Hull\",\n        \"huntington\": \"Huntington\",\n        \"ipswich\": \"Ipswich\",\n        \"kingston\": \"Kingston\",\n        \"lakeville\": \"Lakeville\",\n        \"lancaster\": \"Lancaster\",\n        \"lanesborough\": \"Lanesborough\",\n        \"lawrence\": \"Lawrence\",\n        \"lee\": \"Lee\",\n        \"leicester\": \"Leicester\",\n        \"lenox\": \"Lenox\",\n        \"leominster\": \"Leominster\",\n        \"leverett\": \"Leverett\",\n        \"lexington\": \"Lexington\",\n        \"leyden\": \"Leyden\",\n        \"lincoln\": \"Lincoln\",\n        \"littleton\": \"Littleton\",\n        \"longmeadow\": \"Longmeadow\",\n        \"lowell\": \"Lowell\",\n        \"ludlow\": \"Ludlow\",\n        \"lunenburg\": \"Lunenburg\",\n        \"lynn\": \"Lynn\",\n        \"lynnfield\": \"Lynnfield\",\n        \"malden\": \"Malden\",\n        \"manchester\": \"Manchester\",\n        \"mansfield\": \"Mansfield\",\n        \"marblehead\": \"Marblehead\",\n        \"marion\": \"Marion\",\n        \"marlborough\": \"Marlborough\",\n        \"marshfield\": \"Marshfield\",\n        \"mashpee\": \"Mashpee\",\n        \"mattapoisett\": \"Mattapoisett\",\n        \"maynard\": \"Maynard\",\n        \"medfield\": \"Medfield\",\n        \"medford\": \"Medford\",\n        \"medway\": \"Medway\",\n        \"melrose\": \"Melrose\",\n        \"mendon\": \"Mendon\",\n        \"merrimac\": \"Merrimac\",\n        \"methuen\": \"Methuen\",\n        \"middleborough\": \"Middleborough\",\n        \"middlefield\": \"Middlefield\",\n        \"middleton\": \"Middleton\",\n        \"milford\": \"Milford\",\n        \"millbury\": \"Millbury\",\n        \"millis\": \"Millis\",\n        \"millville\": \"Millville\",\n        \"milton\": \"Milton\",\n        \"monroe\": \"Monroe\",\n        \"monson\": \"Monson\",\n        \"montague\": \"Montague\",\n        \"monterey\": \"Monterey\",\n        \"montgomery\": \"Montgomery\",\n        \"mountwashington\": \"Mount Washington\",\n        \"nahant\": \"Nahant\",\n        \"nantucket\": \"Nantucket\",\n        \"natick\": \"Natick\",\n        \"needham\": \"Needham\",\n        \"newashford\": \"New Ashford\",\n        \"newbedford\": \"New Bedford\",\n        \"newbraintree\": \"New Braintree\",\n        \"newbury\": \"Newbury\",\n        \"newburyport\": \"Newburyport\",\n        \"newmarlborough\": \"New Marlborough\",\n        \"newsalem\": \"New Salem\",\n        \"newton\": \"Newton\",\n        \"norfolk\": \"Norfolk\",\n        \"northadams\": \"North Adams\",\n        \"northampton\": \"Northampton\",\n        \"northandover\": \"North Andover\",\n        \"northattleborough\": \"North Attleborough\",\n        \"northborough\": \"Northborough\",\n        \"northbridge\": \"Northbridge\",\n        \"northbrookfield\": \"North Brookfield\",\n        \"northfield\": \"Northfield\",\n        \"northreading\": \"North Reading\",\n        \"norton\": \"Norton\",\n        \"norwell\": \"Norwell\",\n        \"norwood\": \"Norwood\",\n        \"oakbluffs\": \"Oak Bluffs\",\n        \"oakham\": \"Oakham\",\n        \"orange\": \"Orange\",\n        \"orleans\": \"Orleans\",\n        \"otis\": \"Otis\",\n        \"oxford\": \"Oxford\",\n        \"palmer\": \"Palmer\",\n        \"paxton\": \"Paxton\",\n        \"peabody\": \"Peabody\",\n        \"pelham\": \"Pelham\",\n        \"pembroke\": \"Pembroke\",\n        \"pepperell\": \"Pepperell\",\n        \"peru\": \"Peru\",\n        \"petersham\": \"Petersham\",\n        \"phillipston\": \"Phillipston\",\n        \"pittsfield\": \"Pittsfield\",\n        \"plainfield\": \"Plainfield\",\n        \"plainville\": \"Plainville\",\n        \"plymouth\": \"Plymouth\",\n        \"plympton\": \"Plympton\",\n        \"princeton\": \"Princeton\",\n        \"provincetown\": \"Provincetown\",\n        \"quincy\": \"Quincy\",\n        \"randolph\": \"Randolph\",\n        \"raynham\": \"Raynham\",\n        \"reading\": \"Reading\",\n        \"rehoboth\": \"Rehoboth\",\n        \"revere\": \"Revere\",\n        \"richmond\": \"Richmond\",\n        \"rochester\": \"Rochester\",\n        \"rockland\": \"Rockland\",\n        \"rockport\": \"Rockport\",\n        \"rowe\": \"Rowe\",\n        \"rowley\": \"Rowley\",\n        \"royalston\": \"Royalston\",\n        \"russell\": \"Russell\",\n        \"rutland\": \"Rutland\",\n        \"salem\": \"Salem\",\n        \"salisbury\": \"Salisbury\",\n        \"sandisfield\": \"Sandisfield\",\n        \"sandwich\": \"Sandwich\",\n        \"saugus\": \"Saugus\",\n        \"savoy\": \"Savoy\",\n        \"scituate\": \"Scituate\",\n        \"seekonk\": \"Seekonk\",\n        \"sharon\": \"Sharon\",\n        \"sheffield\": \"Sheffield\",\n        \"shelburne\": \"Shelburne\",\n        \"sherborn\": \"Sherborn\",\n        \"shirley\": \"Shirley\",\n        \"shrewsbury\": \"Shrewsbury\",\n        \"shutesbury\": \"Shutesbury\",\n        \"somerset\": \"Somerset\",\n        \"somerville\": \"Somerville\",\n        \"southampton\": \"Southampton\",\n        \"southborough\": \"Southborough\",\n        \"southbridge\": \"Southbridge\",\n        \"southhadley\": \"South Hadley\",\n        \"southwick\": \"Southwick\",\n        \"spencer\": \"Spencer\",\n        \"springfield\": \"Springfield\",\n        \"sterling\": \"Sterling\",\n        \"stockbridge\": \"Stockbridge\",\n        \"stoneham\": \"Stoneham\",\n        \"stoughton\": \"Stoughton\",\n        \"stow\": \"Stow\",\n        \"sturbridge\": \"Sturbridge\",\n        \"sudbury\": \"Sudbury\",\n        \"sunderland\": \"Sunderland\",\n        \"sutton\": \"Sutton\",\n        \"swampscott\": \"Swampscott\",\n        \"swansea\": \"Swansea\",\n        \"taunton\": \"Taunton\",\n        \"templeton\": \"Templeton\",\n        \"tewksbury\": \"Tewksbury\",\n        \"tisbury\": \"Tisbury\",\n        \"tolland\": \"Tolland\",\n        \"topsfield\": \"Topsfield\",\n        \"townsend\": \"Townsend\",\n        \"truro\": \"Truro\",\n        \"tyngsborough\": \"Tyngsborough\",\n        \"tyringham\": \"Tyringham\",\n        \"upton\": \"Upton\",\n        \"uxbridge\": \"Uxbridge\",\n        \"wakefield\": \"Wakefield\",\n        \"wales\": \"Wales\",\n        \"walpole\": \"Walpole\",\n        \"waltham\": \"Waltham\",\n        \"ware\": \"Ware\",\n        \"wareham\": \"Wareham\",\n        \"warren\": \"Warren\",\n        \"warwick\": \"Warwick\",\n        \"washington\": \"Washington\",\n        \"watertown\": \"Watertown\",\n        \"wayland\": \"Wayland\",\n        \"webster\": \"Webster\",\n        \"wellesley\": \"Wellesley\",\n        \"wellfleet\": \"Wellfleet\",\n        \"wendell\": \"Wendell\",\n        \"wenham\": \"Wenham\",\n        \"westborough\": \"Westborough\",\n        \"westboylston\": \"West Boylston\",\n        \"westbridgewater\": \"West Bridgewater\",\n        \"westbrookfield\": \"West Brookfield\",\n        \"westfield\": \"Westfield\",\n        \"westford\": \"Westford\",\n        \"westhampton\": \"Westhampton\",\n        \"westminster\": \"Westminster\",\n        \"westnewbury\": \"West Newbury\",\n        \"weston\": \"Weston\",\n        \"westport\": \"Westport\",\n        \"westspringfield\": \"West Springfield\",\n        \"weststockbridge\": \"West Stockbridge\",\n        \"westtisbury\": \"West Tisbury\",\n        \"westwood\": \"Westwood\",\n        \"weymouth\": \"Weymouth\",\n        \"whately\": \"Whately\",\n        \"whitman\": \"Whitman\",\n        \"wilbraham\": \"Wilbraham\",\n        \"williamsburg\": \"Williamsburg\",\n        \"williamstown\": \"Williamstown\",\n        \"wilmington\": \"Wilmington\",\n        \"winchendon\": \"Winchendon\",\n        \"winchester\": \"Winchester\",\n        \"windsor\": \"Windsor\",\n        \"winthrop\": \"Winthrop\",\n        \"woburn\": \"Woburn\",\n        \"worcester\": \"Worcester\",\n        \"worthington\": \"Worthington\",\n        \"wrentham\": \"Wrentham\",\n        \"yarmouth\": \"Yarmouth\"\n    };\n    var current_town = \"massachusetts\";\n\n    var margin = {\n            top: 0,\n            right: 25,\n            bottom: 35,\n            left: 45\n        },\n        wrapper_width = rootNode.clientWidth,\n        wrapper_height = 400,\n        width = wrapper_width - margin.left - margin.right,\n        height = wrapper_height - margin.top - margin.bottom;\n\n    var bisectAge = d3.bisector(function(d) {\n        return d.age;\n    }).left;\n    var percent = d3.format(',.0%');\n    var yearformat = d3.format(\"d\");\n    // var min_age = 2005;\n    // var fields = ['emp', 'edu', 'race', 'orig'];\n    var groups = {};\n\n    var x = d3.scale.linear();\n\n    var y = d3.scale.linear();\n\n    var color = d3.scale.category10();\n\n    var xAxis_bsas = d3.svg.axis();\n\n    var yAxis_bsas = d3.svg.axis();\n\n    var line = d3.svg.line();\n\n\n    var $svg = d3.select(\"#lines-bsas\").append(\"svg\");\n\n    var $lines_bsas = $svg\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n    var $x_axis = $lines_bsas.append(\"g\").attr(\"class\", \"vis-x-axis\");\n    $x_axis\n        .append(\"text\")\n        .attr(\"x\", 635)\n        .attr(\"y\", 15)\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Year\");\n\n    var $y_axis = $lines_bsas.append(\"g\").attr(\"class\", \"vis-y-axis\");\n    $y_axis.append(\"text\");\n\n    var $lines_bsas_x_axis_label = $x_axis.append(\"text\");\n    var $lines_bsas_y_axis_label = $y_axis.append(\"text\");\n\n    var legend_pos_text = -60,\n        legend_pos_dot = -70;\n    var $legend = {\n        opioids: {},\n        alcohol: {},\n        marijuana: {},\n        other: {},\n        none: {}\n    };\n\n    setupLegend();\n\n    var $lines = {};\n\n    var $eventOverlay = $lines_bsas.append(\"rect\").attr(\"class\", \"overlay\");\n\n\n\n\n\n\n    function render() {\n        updateWidth(rootNode.clientWidth);\n\n        $svg.attr(\"width\", wrapper_width).attr(\"height\", wrapper_height);\n        x.range([0, width]);\n        y.range([height, 0]);\n\n        xAxis_bsas\n            .scale(x)\n            .tickFormat(yearformat)\n            .ticks((width < 500 ? 4 : 10))\n            .orient(\"bottom\")\n            .outerTickSize(0);\n\n        yAxis_bsas\n            .scale(y)\n            .tickSize(width)\n            .orient(\"right\")\n            .tickFormat(percent);\n\n\n\n        line.x(function(d) {\n                return x(d.age);\n            })\n            .y(function(d) {\n                return y(d.value);\n            })\n            .defined(function(d) {\n                return y(d.value);\n            }); // Omit empty values.\n\n        $x_axis.attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis_bsas);\n        $y_axis.call(yAxis_bsas);\n        $lines_bsas.selectAll(\".vis-y-axis .tick text\").attr(\"x\", -5).attr(\"dy\", 0).style(\"text-anchor\", \"end\");\n        $eventOverlay.attr(\"width\", width).attr(\"height\", height);\n\n\n        $lines_bsas_x_axis_label\n            .attr(\"x\", (width - margin.left)/2)\n            .attr(\"y\", (margin.bottom) / 2)\n            .attr(\"dy\", \"1em\")\n            .attr(\"class\", \"vis-x-axis-label\")\n            .text(\"Fiscal Year\");\n\n\n        $lines_bsas_y_axis_label\n            .attr(\"x\", -(height - margin.top)/2)\n            .attr(\"y\", -margin.left)\n            .attr(\"dy\", \"1em\")\n            .attr(\"class\", \"vis-y-axis-label\")\n            .text(\"Percent Primary Substance of Use\");\n\n\n\n        renderLegend();\n        renderLines();\n        updateDots();\n    }\n\n\n    function updateWidth(w) {\n        wrapper_width = w;\n        width = wrapper_width - margin.left - margin.right;\n    }\n\n    function setupLegend() {\n        $legend.opioids.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle opioids\").attr(\"r\", 3);\n        $legend.opioids.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus opioids\").text(\"opioids\");\n        $legend.alcohol.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle alcohol\").attr(\"r\", 3);\n        $legend.alcohol.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus alcohol\").text(\"alcohol\");\n        $legend.marijuana.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle marijuana\").attr(\"r\", 3);\n        $legend.marijuana.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus marijuana\").text(\"marijuana\");\n        $legend.other.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle other\").attr(\"r\", 3);\n        $legend.other.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus other\").text(\"other\");\n        //$legend.none.circle = $lines_bsas.append(\"circle\").attr(\"class\", \"circle none\").attr(\"r\", 3);\n        //$legend.none.text = $lines_bsas.append(\"g\").append(\"text\").attr(\"class\", \"focus none\").text(\"none\");\n    }\n\n    function renderLegend() {\n        var top_offset = 0;\n        var line_height = 15;\n        $legend.opioids.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (1 * line_height));\n        $legend.opioids.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (1 * line_height) + 3);\n        $legend.alcohol.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (2 * line_height));\n        $legend.alcohol.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (2 * line_height) + 3);\n        $legend.marijuana.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (3 * line_height));\n        $legend.marijuana.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (3 * line_height) + 3);\n        $legend.other.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (4 * line_height));\n        $legend.other.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (4 * line_height) + 3);\n        //$legend.none.circle.attr(\"cx\", width + legend_pos_dot).attr(\"cy\", top_offset + (5 * line_height));\n        //$legend.none.text.attr(\"x\", width + legend_pos_text).attr(\"y\", top_offset + (5 * line_height) + 3);\n    }\n\n    function setupLines() {\n        $lines.alcohol = $lines_bsas.append(\"path\").attr(\"class\", \"line alcohol\").attr(\"pointer-events\", \"none\");\n        for (i = 0; i < groups[current_town + \"alcohol\"].values.length; i++) {\n\n            var x_circle_alcohol = groups[current_town + \"alcohol\"].values[i].age;\n            var y_circle_alcohol = groups[current_town + \"alcohol\"].values[i].value;\n\n            if (y_circle_alcohol >= 0) {\n\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\n                //console.log(\"circle alcohol y\" + groups[current_town + \"alcohol\"].values[i].age)\n\n                $lines_bsas.append(\"circle\")\n                    .attr(\"class\", function(d) {\n                        return \"circle alcohol y\" + groups[current_town + \"alcohol\"].values[i].age\n                    })\n                    .attr(\"cx\", x(groups[current_town + \"alcohol\"].values[i].age))\n                    .attr(\"cy\", y(groups[current_town + \"alcohol\"].values[i].value))\n                    .attr(\"r\", 3)\n                    .attr(\"pointer-events\", \"none\");\n            }\n        }\n\n        $lines.marijuana = $lines_bsas.append(\"path\").attr(\"class\", \"line marijuana\").attr(\"pointer-events\", \"none\");\n        for (i = 0; i < groups[current_town + \"marijuana\"].values.length; i++) {\n\n            var x_circle_alcohol = groups[current_town + \"marijuana\"].values[i].age;\n            var y_circle_alcohol = groups[current_town + \"marijuana\"].values[i].value;\n\n            if (y_circle_alcohol >= 0) {\n\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\n                //console.log(\"circle marijuana y\" + groups[current_town + \"marijuana\"].values[i].age)\n\n                $lines_bsas.append(\"circle\")\n                    .attr(\"class\", function(d) {\n                        return \"circle marijuana y\" + groups[current_town + \"marijuana\"].values[i].age\n                    })\n                    .attr(\"cx\", x(groups[current_town + \"marijuana\"].values[i].age))\n                    .attr(\"cy\", y(groups[current_town + \"marijuana\"].values[i].value))\n                    .attr(\"r\", 3)\n                    .attr(\"pointer-events\", \"none\");\n            }\n        }\n\n        // $lines.none = $lines_bsas.append(\"path\").attr(\"class\", \"line none\").attr(\"pointer-events\", \"none\");\n        // for (i = 0; i < groups[current_town + \"none\"].values.length; i++) {\n\n        //     var x_circle_alcohol = groups[current_town + \"none\"].values[i].age;\n        //     var y_circle_alcohol = groups[current_town + \"none\"].values[i].value;\n\n        //     if (y_circle_alcohol >= 0) {\n\n        //         //console.log(groups[current_town+\"alcohol\"].values[i].age);\n        //         //console.log(\"circle none y\" + groups[current_town + \"none\"].values[i].age)\n\n        //         $lines_bsas.append(\"circle\")\n        //             .attr(\"class\", function(d) {\n        //                 return \"circle none y\" + groups[current_town + \"none\"].values[i].age\n        //             })\n        //             .attr(\"cx\", x(groups[current_town + \"none\"].values[i].age))\n        //             .attr(\"cy\", y(groups[current_town + \"none\"].values[i].value))\n        //             .attr(\"r\", 3)\n        //             .attr(\"pointer-events\", \"none\");\n        //     }\n        // }\n\n        $lines.opioids = $lines_bsas.append(\"path\").attr(\"class\", \"line opioids\").attr(\"pointer-events\", \"none\");\n        for (i = 0; i < groups[current_town + \"opioids\"].values.length; i++) {\n\n            var x_circle_alcohol = groups[current_town + \"opioids\"].values[i].age;\n            var y_circle_alcohol = groups[current_town + \"opioids\"].values[i].value;\n\n            if (y_circle_alcohol >= 0) {\n\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\n                //console.log(\"circle opioids y\" + groups[current_town + \"opioids\"].values[i].age)\n\n                $lines_bsas.append(\"circle\")\n                    .attr(\"class\", function(d) {\n                        return \"circle opioids y\" + groups[current_town + \"opioids\"].values[i].age\n                    })\n                    .attr(\"cx\", x(groups[current_town + \"opioids\"].values[i].age))\n                    .attr(\"cy\", y(groups[current_town + \"opioids\"].values[i].value))\n                    .attr(\"r\", 3)\n                    .attr(\"pointer-events\", \"none\");\n            }\n        }\n\n        $lines.other = $lines_bsas.append(\"path\").attr(\"class\", \"line other\").attr(\"pointer-events\", \"none\");\n        for (i = 0; i < groups[current_town + \"other\"].values.length; i++) {\n\n            var x_circle_alcohol = groups[current_town + \"other\"].values[i].age;\n            var y_circle_alcohol = groups[current_town + \"other\"].values[i].value;\n\n            if (y_circle_alcohol >= 0) {\n\n                //console.log(groups[current_town+\"alcohol\"].values[i].age);\n                // console.log(\"circle other y\" + groups[current_town + \"other\"].values[i].age)\n\n                $lines_bsas.append(\"circle\")\n                    .attr(\"class\", function(d) {\n                        return \"circle other y\" + groups[current_town + \"other\"].values[i].age\n                    })\n                    .attr(\"cx\", x(groups[current_town + \"other\"].values[i].age))\n                    .attr(\"cy\", y(groups[current_town + \"other\"].values[i].value))\n                    .attr(\"r\", 3)\n                    .attr(\"pointer-events\", \"none\");\n            }\n        }\n    }\n\n\n    function renderLines() {\n        $lines.alcohol.attr(\"d\", function(d) {\n            return line(groups[current_town + \"alcohol\"].values);\n        });\n        $lines.opioids.attr(\"d\", function(d) {\n            return line(groups[current_town + \"opioids\"].values);\n        });\n        $lines.marijuana.attr(\"d\", function(d) {\n            return line(groups[current_town + \"marijuana\"].values);\n        });\n        $lines.other.attr(\"d\", function(d) {\n            return line(groups[current_town + \"other\"].values);\n        });\n        // $lines.none.attr(\"d\", function(d) {\n        //     return line(groups[current_town + \"none\"].values);\n        // });\n    }\n\n\n\n    function updateDots() {\n\n        // marriages = groups[current_town];\n        //update alcohol line\n        $lines_bsas.select(\".line.alcohol\")\n            .transition()\n            .duration(1000)\n            .delay(180)\n            .attr(\"d\", function(d) {\n                return line(groups[current_town + \"alcohol\"].values);\n            });\n\n        //console.log(groups[current_town + \"alcohol\"].values[5].value >= 0);\n\n        //update alcohol circles\n        for (i = 0; i < groups[current_town + \"alcohol\"].values.length; i++) {\n            var string_select = \".circle.alcohol.y\" + groups[current_town + \"alcohol\"].values[i].age\n                // console.log(string_select);\n\n            if (groups[current_town + \"alcohol\"].values[i].value >= 0) {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"cx\", function(d) {\n                        return x(groups[current_town + \"alcohol\"].values[i].age)\n                    })\n                    .attr(\"cy\", function(d) {\n                        return y(groups[current_town + \"alcohol\"].values[i].value)\n                    })\n                    .attr(\"r\", 3)\n            } else {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"r\", 0)\n            }\n\n        }\n\n\n\n        //marijuana\n        $lines_bsas.select(\".line.marijuana\")\n            .transition()\n            .duration(1000)\n            .attr(\"d\", function(d) {\n                return line(groups[current_town + \"marijuana\"].values);\n            });\n        //update marijuana circles\n        for (i = 0; i < groups[current_town + \"marijuana\"].values.length; i++) {\n            var string_select = \".circle.marijuana.y\" + groups[current_town + \"marijuana\"].values[i].age\n                //console.log(string_select);\n\n            if (groups[current_town + \"marijuana\"].values[i].value >= 0) {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"cx\", function(d) {\n                        return x(groups[current_town + \"marijuana\"].values[i].age)\n                    })\n                    .attr(\"cy\", function(d) {\n                        return y(groups[current_town + \"marijuana\"].values[i].value)\n                    })\n                    .attr(\"r\", 3)\n            } else {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"r\", 0)\n            }\n\n        }\n\n        //none\n        // $lines_bsas.select(\".line.none\")\n        //     .transition()\n        //     .duration(1000)\n        //     .attr(\"d\", function(d) {\n        //         return line(groups[current_town + \"none\"].values);\n        //     });\n        // //update none circles\n        // for (i = 0; i < groups[current_town + \"none\"].values.length; i++) {\n\n\n        //     var string_select = \".circle.none.y\" + groups[current_town + \"none\"].values[i].age\n        //     var value_select = groups[current_town + \"none\"].values[i].value\n        //         // console.log(string_select);\n        //         // console.log(value_select);\n        //         // console.log(value_select >= 0);\n\n        //     if (groups[current_town + \"none\"].values[i].value >= 0) {\n        //         $lines_bsas.selectAll(string_select)\n        //             .transition()\n        //             .duration(1000)\n        //             .attr(\"cx\", function(d) {\n        //                 return x(groups[current_town + \"none\"].values[i].age)\n        //             })\n        //             .attr(\"cy\", function(d) {\n        //                 return y(groups[current_town + \"none\"].values[i].value)\n        //             })\n        //             .attr(\"r\", 3);\n        //     } else {\n        //         $lines_bsas.selectAll(string_select)\n        //             .transition()\n        //             .duration(1000)\n        //             .attr(\"r\", 0);\n        //     }\n\n        // }\n\n        //opioids\n        $lines_bsas.select(\".line.opioids\")\n            .transition()\n            .duration(1000)\n            .attr(\"d\", function(d) {\n                return line(groups[current_town + \"opioids\"].values);\n            });\n        //update opioids circles\n        for (i = 0; i < groups[current_town + \"opioids\"].values.length; i++) {\n\n\n            var string_select = \".circle.opioids.y\" + groups[current_town + \"opioids\"].values[i].age\n            var value_select = groups[current_town + \"opioids\"].values[i].value\n                //console.log(string_select);\n                //console.log(value_select);\n                //console.log(value_select >= 0);\n\n            if (value_select >= 0) {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"cx\", function(d) {\n                        return x(groups[current_town + \"opioids\"].values[i].age)\n                    })\n                    .attr(\"cy\", function(d) {\n                        return y(groups[current_town + \"opioids\"].values[i].value)\n                    })\n                    .attr(\"r\", 3);\n            } else {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"r\", 0);\n            }\n\n        }\n\n        //other\n        $lines_bsas.select(\".line.other\")\n            .transition()\n            .duration(1000)\n            .attr(\"d\", function(d) {\n                return line(groups[current_town + \"other\"].values);\n            });\n        //update other circles\n        for (i = 0; i < groups[current_town + \"other\"].values.length; i++) {\n\n            var string_select = \".circle.other.y\" + groups[current_town + \"other\"].values[i].age\n            var value_select = groups[current_town + \"other\"].values[i].value\n                // console.log(string_select);\n                // console.log(value_select);\n                // console.log(value_select >= 0);\n\n            if (value_select >= 0) {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"cx\", function(d) {\n                        return x(groups[current_town + \"other\"].values[i].age)\n                    })\n                    .attr(\"cy\", function(d) {\n                        return y(groups[current_town + \"other\"].values[i].value)\n                    })\n                    .attr(\"r\", 3);\n            } else {\n                $lines_bsas.selectAll(string_select)\n                    .transition()\n                    .duration(1000)\n                    .attr(\"r\", 0);\n            }\n\n        }\n\n    }\n\n\n\n\n\n    d3.csv(\"js/data/bsas-data-2000to2015.csv\", type, function(error, data) {\n        if (error) throw error;\n        //console.log(groups);\n        // var marriages = groups[current_town];\n\n        x.domain([2000, d3.max(data, function(d) {\n            return d.age;\n        })]);\n        y.domain([0, 1.00]);\n\n        setupLines();\n        render();\n        window.addEventListener('resize', render);\n\n\n\n        // Autocomplete\n\n        $(\".btn-bsas\").addClass('active');\n        d3.selectAll(\".btn-bsas\").on(\"click\", function() {\n            current_town = d3.select(this).attr(\"data-val\");\n            updateDots();\n            d3.select(this).classed('active', true);\n            $(\"#tags\").val('');\n        });\n\n\n\n        $(\"#tags\").autocomplete({\n            source: function(request, response) {\n                //console.log(town_names);\n                var matches = $.map(town_names, function(acItem) {\n                    if (acItem.toUpperCase().indexOf(request.term.toUpperCase()) === 0) {\n                        return acItem;\n                    }\n                });\n                response(matches);\n                //$(\"#tags\").focus(function() {\n                // if (matches.length == 1) {\n                //     current_town = matches[0];\n                //     $(\".btn-bsas\").removeClass('active');\n                //     updateDots();\n                // }\n                //});\n                //console.log(matches);\n            },\n            select: function(event, ui) {\n                $.each(town_names, function(key, value) {\n                    if (value === ui.item.value) {\n                        current_town = key;\n                        console.log(value)\n                    }\n                });\n\n\n                $(\".btn-bsas\").removeClass('active');\n                updateDots();\n            }\n        });\n\n\n\n\n        // alcohol\n        var focusalcohol = $lines_bsas.append(\"g\")\n            .attr(\"class\", \"focus alcohol\")\n            .style(\"display\", \"none\");\n        focusalcohol.append(\"circle\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"r\", 3);\n        focusalcohol.append(\"text\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"x\", 9)\n            .attr(\"dy\", \".35em\");\n\n        // marijuana\n        var focusmarijuana = $lines_bsas.append(\"g\")\n            .attr(\"class\", \"focus marijuana\")\n            .style(\"display\", \"none\");\n        focusmarijuana.append(\"circle\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"r\", 3);\n        focusmarijuana.append(\"text\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"x\", 9)\n            .attr(\"dy\", \".35em\");\n\n        // none\n        // var focusnone = $lines_bsas.append(\"g\")\n        //     .attr(\"class\", \"focus none\")\n        //     .style(\"display\", \"none\");\n        // focusnone.append(\"circle\")\n        //     .attr(\"pointer-events\", \"none\")\n        //     .attr(\"r\", 3);\n        // focusnone.append(\"text\")\n        //     .attr(\"pointer-events\", \"none\")\n        //     .attr(\"x\", 9)\n        //     .attr(\"dy\", \".35em\");\n\n        // opioids\n        var focusopioids = $lines_bsas.append(\"g\")\n            .attr(\"class\", \"focus opioids\")\n            .style(\"display\", \"none\");\n        focusopioids.append(\"circle\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"r\", 3);\n        focusopioids.append(\"text\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"x\", 9)\n            .attr(\"dy\", \".35em\");\n\n        // none\n        var focusother = $lines_bsas.append(\"g\")\n            .attr(\"class\", \"focus other\")\n            .style(\"display\", \"none\");\n        focusother.append(\"circle\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"r\", 3);\n        focusother.append(\"text\")\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"x\", 9)\n            .attr(\"dy\", \".35em\");\n\n        // Events\n        $eventOverlay\n            .on(\"mouseover\", function() {\n                focusmarijuana.style(\"display\", null);\n                focusalcohol.style(\"display\", null);\n                //focusnone.style(\"display\", null);\n                focusopioids.style(\"display\", null);\n                focusother.style(\"display\", null);\n                //focusage.style(\"display\", null);\n            })\n            .on(\"mouseout\", function() {\n                focusmarijuana.style(\"display\", \"none\");\n                focusalcohol.style(\"display\", \"none\");\n                //focusnone.style(\"display\", \"none\");\n                focusopioids.style(\"display\", \"none\");\n                focusother.style(\"display\", \"none\");\n                //focusage.style(\"display\", \"none\");\n            })\n            .on(\"mousemove\", mousemove);\n\n        function mousemove() {\n\n\n\n            var x0 = x.invert(d3.mouse(this)[0])\n\n            // Alcohol\n            var i_alcohol = bisectAge(groups[current_town + \"alcohol\"].values, x0, 1),\n                d0_alcohol = groups[current_town + \"alcohol\"].values[i_alcohol - 1],\n                d1_alcohol = groups[current_town + \"alcohol\"].values[i_alcohol],\n                d_alcohol = x0 - d0_alcohol.age > d1_alcohol.age - x0 ? d1_alcohol : d0_alcohol;\n\n            if (d_alcohol.value >= 0) {\n                focusalcohol.attr(\"transform\", \"translate(\" + x(d_alcohol.age) + \",\" + y(d_alcohol.value) + \")\");\n                focusalcohol.select(\"text\").text(percent(d_alcohol.value)).attr('transform', \"translate(-28,0)\");\n                focusalcohol.select(\"circle\").attr(\"r\", 4);\n            } else {\n                focusalcohol.select(\"circle\").attr(\"r\", 0);\n                focusalcohol.select(\"text\").text(\"\");\n            }\n\n            // Marijuana\n\n            var i_marijuana = bisectAge(groups[current_town + \"marijuana\"].values, x0, 1),\n                d0_marijuana = groups[current_town + \"marijuana\"].values[i_marijuana - 1],\n                d1_marijuana = groups[current_town + \"marijuana\"].values[i_marijuana],\n                d_marijuana = x0 - d0_marijuana.age > d1_marijuana.age - x0 ? d1_marijuana : d0_marijuana;\n\n\n            // console.log(d_marijuana.value + \" \" + d_marijuana.age);\n            // console.log(d_marijuana.value >= 0);\n\n            if (d_marijuana.value >= 0) {\n                focusmarijuana.attr(\"transform\", \"translate(\" + x(d_marijuana.age) + \",\" + y(d_marijuana.value) + \")\");\n                focusmarijuana.select(\"text\").text(percent(d_marijuana.value)).attr('transform', \"translate(-28,0)\");\n                focusmarijuana.select(\"circle\").attr(\"r\", 4);\n            } else {\n                focusmarijuana.select(\"circle\").attr(\"r\", 0);\n                focusmarijuana.select(\"text\").text(\"\");\n            }\n\n            // None\n\n            // var i_none = bisectAge(groups[current_town + \"none\"].values, x0, 1),\n            //     d0_none = groups[current_town + \"none\"].values[i_none - 1],\n            //     d1_none = groups[current_town + \"none\"].values[i_none],\n            //     d_none = x0 - d0_none.age > d1_none.age - x0 ? d1_none : d0_none;\n\n            // if (d_none.value >= 0) {\n            //     focusnone.attr(\"transform\", \"translate(\" + x(d_none.age) + \",\" + y(d_none.value) + \")\");\n            //     focusnone.select(\"text\").text(percent(d_none.value));\n            //     focusnone.select(\"circle\").attr(\"r\", 4);\n            // } else {\n            //     focusnone.select(\"circle\").attr(\"r\", 0);\n            //     focusnone.select(\"text\").text(\"\");\n            // }\n\n\n            // Opioids\n            var i_opioids = bisectAge(groups[current_town + \"opioids\"].values, x0, 1),\n                d0_opioids = groups[current_town + \"opioids\"].values[i_opioids - 1],\n                d1_opioids = groups[current_town + \"opioids\"].values[i_opioids],\n                d_opioids = x0 - d0_opioids.age > d1_opioids.age - x0 ? d1_opioids : d0_opioids;\n\n            if (d_opioids.value >= 0) {\n                focusopioids.attr(\"transform\", \"translate(\" + x(d_opioids.age) + \",\" + y(d_opioids.value) + \")\");\n                focusopioids.select(\"text\").text(percent(d_opioids.value));\n                focusopioids.select(\"circle\").attr(\"r\", 4);\n            } else {\n                focusopioids.select(\"circle\").attr(\"r\", 0);\n                focusopioids.select(\"text\").text(\"\");\n            }\n\n\n            // other\n            var i_other = bisectAge(groups[current_town + \"other\"].values, x0, 1),\n                d0_other = groups[current_town + \"other\"].values[i_other - 1],\n                d1_other = groups[current_town + \"other\"].values[i_other],\n                d_other = x0 - d0_other.age > d1_other.age - x0 ? d1_other : d0_other;\n\n            //console.log(d_other.value);\n\n            if (d_other.value >= 0) {\n                focusother.attr(\"transform\", \"translate(\" + x(d_other.age) + \",\" + y(d_other.value) + \")\");\n                focusother.select(\"text\").text(percent(d_other.value));\n                focusother.select(\"circle\").attr(\"r\", 4);\n            } else {\n                focusother.select(\"circle\").attr(\"r\", 0);\n                focusother.select(\"text\").text(\"\");\n            }\n\n\n            // Adjust label horizontal positions.\n            if (x0 > 80) {\n                focusalcohol.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\n                focusmarijuana.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\n                //focusnone.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\n                focusopioids.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\n                focusother.select(\"text\").attr(\"x\", 3).attr(\"y\", -7).attr(\"text-anchor\", \"beginning\");\n            } else {\n                focusalcohol.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\n                focusmarijuana.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\n                //focusnone.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\n                focusopioids.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\n                focusother.select(\"text\").attr(\"x\", 10).attr(\"text-anchor\", \"beginning\");\n            }\n\n\n\n        }\n\n\n    }); // @end d3.tsv()\n\n\n    function type(d, i) {\n\n        d3.keys(d).forEach(function(key) {\n            d[key] = +d[key];\n            if (key != 'age') {\n                if (!(key in groups)) {\n                    groups[key] = {\n                        'values': [{\n                            age: d.age,\n                            value: d[key]\n                        }]\n                    };\n                } else {\n                    groups[key]['values'].push({\n                        age: d.age,\n                        value: d[key]\n                    });\n                }\n            }\n        });\n\n        return d;\n\n    }\n\n\n\n\n})();\n\nfunction opioidsY2000(d, i) {\n            d3.select(\".circle.opioids.y2015\").attr(\"r\", 3).style(\"fill-opacity\", 0.75).style(\"stroke-width\", \"0\");\n            d3.select(\".circle.opioids.y2000\").attr(\"r\", 15).style(\"fill-opacity\", 0.9).style(\"stroke-width\", \"0\").style(\"stroke\", \"#8e1014\");\n            d3.select(\".btn-bsas\").classed('active', true);\n        };\n\n        function opioidsY2015(d, i) {\n            d3.select(\".circle.opioids.y2000\").attr(\"r\", 3).style(\"fill-opacity\", 0.75).style(\"stroke-width\", \"0\");\n            d3.select(\".circle.opioids.y2015\").attr(\"r\", 15).style(\"fill-opacity\", 0.9).style(\"stroke-width\", \"0\").style(\"stroke\", \"#8e1014\");\n            d3.select(\".btn-bsas\").classed('active', true);\n        };\n","var GLOBAL_STRINGS = {\n    \"PLAY\": \"Play\",\n    \"PAUSE\": \"Pause\",\n    \"TOGGLE_FULL_SCREEN\": \"Toggle full screen\",\n    \"MUTE\": \"Mute\",\n    \"RESTART\": \"Restart\",\n    \"CAPTIONS\": \"Closed captions\",\n    \"REWIND\": \"Rewind\",\n    \"FORWARD\": \"Forward\"\n}\n\nfunction InitPxVideo(options) {\n\n    \"use strict\";\n\n    // Utilities for caption time codes\n    function video_timecode_min(tc) {\n\tvar tcpair = [];\n\ttcpair = tc.split(' --> ');\n\treturn videosub_tcsecs(tcpair[0]);\n    }\n\n    function video_timecode_max(tc) {\n\tvar tcpair = [];\n\ttcpair = tc.split(' --> ');\n\treturn videosub_tcsecs(tcpair[1]);\n    }\n\n    function videosub_tcsecs(tc) {\n\tif (tc === null || tc === undefined) {\n\t    return 0;\n\t} else {\n\t    var tc1 = [],\n\t\ttc2 = [],\n\t\tseconds;\n\t    tc1 = tc.split(',');\n\t    tc2 = tc1[0].split(':');\n\t    seconds = Math.floor(tc2[0] * 60 * 60) + Math.floor(tc2[1] * 60) + Math.floor(tc2[2]);\n\t    return seconds;\n\t}\n    }\n\n    // For \"manual\" captions, adjust caption position when play time changed (via rewind, clicking progress bar, etc.)\n    function adjustManualCaptions(obj) {\n\tobj.subcount = 0;\n\twhile (video_timecode_max(obj.captions[obj.subcount][0]) < obj.movie.currentTime.toFixed(1)) {\n\t    obj.subcount++;\n\t    if (obj.subcount > obj.captions.length - 1) {\n\t\tobj.subcount = obj.captions.length - 1;\n\t\tbreak;\n\t    }\n\t}\n    }\n\n    // Display captions container and button (for initialization)\n    function showCaptionContainerAndButton(obj) {\n\tobj.captionsBtnContainer.className = \"px-video-captions-btn-container show-inline\";\n        if (obj.isCaptionDefault) {\n            obj.captionsContainer.className = \"px-video-captions show\";\n            obj.captionsBtn.setAttribute(\"checked\", \"checked\");\n        }\n    }\n\n    // Unfortunately, due to scattered support, browser sniffing is required\n    function browserSniff() {\n\tvar nVer = navigator.appVersion,\n\t    nAgt = navigator.userAgent,\n\t    browserName = navigator.appName,\n\t    fullVersion = '' + parseFloat(navigator.appVersion),\n\t    majorVersion = parseInt(navigator.appVersion, 10),\n\t    nameOffset,\n\t    verOffset,\n\t    ix;\n\n\t// MSIE 11\n\tif ((navigator.appVersion.indexOf(\"Windows NT\") !== -1) && (navigator.appVersion.indexOf(\"rv:11\") !== -1)) {\n\t    browserName = \"IE\";\n\t    fullVersion = \"11;\";\n\t}\n\t// MSIE\n\telse if ((verOffset = nAgt.indexOf(\"MSIE\")) !== -1) {\n\t    browserName = \"IE\";\n\t    fullVersion = nAgt.substring(verOffset + 5);\n\t}\n\t// Chrome\n\telse if ((verOffset = nAgt.indexOf(\"Chrome\")) !== -1) {\n\t    browserName = \"Chrome\";\n\t    fullVersion = nAgt.substring(verOffset + 7);\n\t}\n\t// Safari\n\telse if ((verOffset = nAgt.indexOf(\"Safari\")) !== -1) {\n\t    browserName = \"Safari\";\n\t    fullVersion = nAgt.substring(verOffset + 7);\n\t    if ((verOffset = nAgt.indexOf(\"Version\")) !== -1) {\n\t\tfullVersion = nAgt.substring(verOffset + 8);\n\t    }\n\t}\n\t// Firefox\n\telse if ((verOffset = nAgt.indexOf(\"Firefox\")) !== -1) {\n\t    browserName = \"Firefox\";\n\t    fullVersion = nAgt.substring(verOffset + 8);\n\t}\n\t// In most other browsers, \"name/version\" is at the end of userAgent\n\telse if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\n\t    browserName = nAgt.substring(nameOffset, verOffset);\n\t    fullVersion = nAgt.substring(verOffset + 1);\n\t    if (browserName.toLowerCase() == browserName.toUpperCase()) {\n\t\tbrowserName = navigator.appName;\n\t    }\n\t}\n\t// Trim the fullVersion string at semicolon/space if present\n\tif ((ix = fullVersion.indexOf(\";\")) !== -1) {\n\t    fullVersion = fullVersion.substring(0, ix);\n\t}\n\tif ((ix = fullVersion.indexOf(\" \")) !== -1) {\n\t    fullVersion = fullVersion.substring(0, ix);\n\t}\n\t// Get major version\n\tmajorVersion = parseInt('' + fullVersion, 10);\n\tif (isNaN(majorVersion)) {\n\t    fullVersion = '' + parseFloat(navigator.appVersion);\n\t    majorVersion = parseInt(navigator.appVersion, 10);\n\t}\n\t// Return data\n\treturn [browserName, majorVersion];\n    }\n\n    //https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\n    // launch fullscreen\n    function launchFullScreen(elem) {\n\tif (!elem.fullscreenElement && // alternative standard method\n\t    !elem.mozFullScreenElement && !elem.webkitFullscreenElement && !elem.msFullscreenElement) { // current working methods\n\t    var requestFullScreen = elem.requestFullscreen || elem.msRequestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen;\n\t    requestFullScreen.call(elem);\n\t}\n    }\n\n    // change styles of fullscreen accordingly\n    function fullScreenStyles() {\n        if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement) {\n            obj.fullScreenBtn.checked = true;\n            //must apply other styles in container\n\t    // obj.container.setAttribute(\"style\", \"width: 100%; height: 100%;\");\n\t    obj.container.className = obj.container.className = 'px-video-container fullscreen';\n            obj.controls.className = \"px-video-controls js-fullscreen-controls\";\n            obj.captionsContainer.className = \"px-video-captions js-fullscreen-captions\";\n            obj.movie.setAttribute('width', '100%');\n            obj.movie.setAttribute('height', '100%');\n        } else {\n            obj.fullScreenBtn.checked = false;\n            // revert back to default styles\n\t    // obj.container.setAttribute(\"style\", \"width:\" + obj.movieWidth + \"px\");\n\t    obj.container.className = obj.container.className = 'px-video-container';\n            obj.controls.className = \"px-video-controls\";\n            obj.captionsContainer.className = \"px-video-captions\";\n            obj.movie.setAttribute('width', obj.movieWidth);\n            obj.movie.setAttribute('height', obj.movieHeight);\n        }\n    }\n\n    // exit fullscreen\n    function exitFullScreen() {\n\t// get appropriate vendor prefix and then call it with respect to the document\n\tvar exitFullScreen = document.exitFullscreen || document.msExitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen;\n\texitFullScreen.call(document);\n    }\n\n    // insert aria announce div\n    (function() {\n\tvar div = document.createElement('div');\n\tdiv.id = 'px-video-aria-announce';\n\tdiv.setAttribute('role', 'alert');\n\tdiv.setAttribute('aria-atomic', 'true');\n\tdiv.style.overflow = \"hidden\";\n\tdiv.style.textIndent = '-999999px';\n\tdocument.body.appendChild(div);\n    }());\n\n    // announce things to aria\n    function ariaAnnounce(msg) {\n\tvar announce = document.getElementById('px-video-aria-announce');\n\tif (announce) {\n\t    announce.innerHTML = '<p>' + msg + '</p>';\n\t}\n    }\n\n    // Global variable\n    var obj = {};\n\n    obj.arBrowserInfo = browserSniff();\n    obj.browserName = obj.arBrowserInfo[0];\n    obj.browserMajorVersion = obj.arBrowserInfo[1];\n\n    // If IE8, stop customization (use fallback)\n    // If IE9, stop customization (use native controls)\n    if (obj.browserName === \"IE\" && (obj.browserMajorVersion === 8 || obj.browserMajorVersion === 9)) {\n\treturn false;\n    }\n\n    // If smartphone or tablet, stop customization as video (and captions in latest devices) are handled natively\n    obj.isSmartphoneOrTablet = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);\n    if (obj.isSmartphoneOrTablet) {\n\treturn false;\n    }\n\n    // Set debug mode\n    if (typeof(options.debug) === 'undefined') {\n\toptions.debug = false;\n    }\n    obj.debug = options.debug;\n\n    // Output browser info to log if debug on\n    if (options.debug) {\n\tconsole.log(obj.browserName + \" \" + obj.browserMajorVersion);\n    }\n\n    // Set up aria-label for Play button with the videoTitle option\n    if ((typeof(options.videoTitle) === 'undefined') || (options.videoTitle === \"\")) {\n\tobj.playAriaLabel = \"Play\";\n    } else {\n\tobj.playAriaLabel = \"Play video, \" + options.videoTitle;\n    }\n\n    // Get the container, video element, and controls container\n    obj.container = document.getElementById(options.videoId);\n    obj.movie = obj.container.getElementsByTagName('video')[0];\n    obj.controls = obj.container.getElementsByClassName('px-video-controls')[0];\n\n    // Remove native video controls\n    obj.movie.removeAttribute(\"controls\");\n\n    // Generate random number for ID/FOR attribute values for controls\n    obj.randomNum = Math.floor(Math.random() * (10000));\n\n    // Insert custom video controls\n    if (options.debug) {\n\tconsole.log(\"Inserting custom video controls\");\n    }\n    obj.controls.innerHTML =\n\t    '<progress class=\"px-video-progress\" max=\"100\" value=\"0\"><span>0</span>% played</progress>' +\n            '<div class=\"controls-left\">' +\n                '<button class=\"px-video-restart\" title=\"' + GLOBAL_STRINGS['RESTART'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['RESTART'] + '</span></button>' +\n                '<button class=\"px-video-rewind\" title=\"' + GLOBAL_STRINGS['REWIND'] + '\"><span class=\"sr-only\">rewind <span class=\"px-seconds\">10</span> seconds</span></button>' +\n                '<button class=\"px-video-play\" aria-label=\"'+obj.playAriaLabel+'\" title=\"' + GLOBAL_STRINGS['PLAY'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['PLAY'] + '</span></button>' +\n                '<button class=\"px-video-pause hide\" title=\"' + GLOBAL_STRINGS['PAUSE'] + '\"><span class=\"sr-only\">' + GLOBAL_STRINGS['PAUSE'] + '</span></button>' +\n                '<button class=\"px-video-forward\" title=\"' + GLOBAL_STRINGS['FORWARD'] + '\"\"><span class=\"sr-only\">forward <span class=\"px-seconds\">10</span> seconds</span></button>' +\n            '</div>' +\n            '<div class=\"controls-right\">' +\n            '<div class=\"px-video-mute-btn-container\" title=\"' + GLOBAL_STRINGS['MUTE'] + '\">' +\n                '<input class=\"px-video-mute sr-only\" id=\"btnMute'+obj.randomNum+'\" type=\"checkbox\" />' +\n                '<label id=\"labelMute'+obj.randomNum+'\" for=\"btnMute'+obj.randomNum+'\"><span class=\"sr-only\">' + GLOBAL_STRINGS['MUTE'] + '</span></label>' +\n            '</div>' +\n            '<label for=\"volume'+obj.randomNum+'\" class=\"sr-only\">Volume:</label><input id=\"volume'+obj.randomNum+'\" class=\"px-video-volume\" type=\"range\" min=\"0\" max=\"10\" value=\"5\" />' +\n            '<div class=\"px-video-captions-btn-container hide\" title=\"' + GLOBAL_STRINGS['CAPTIONS'] + '\">' +\n                '<input class=\"px-video-btnCaptions sr-only\" id=\"btnCaptions'+obj.randomNum+'\" type=\"checkbox\" />' +\n                '<label for=\"btnCaptions'+obj.randomNum+'\"><span class=\"sr-only\">' + GLOBAL_STRINGS['CAPTIONS'] + '</span></label>' +\n            '</div>' +\n\t    '<div class=\"px-video-fullscreen-btn-container show-inline\" title=\"' + GLOBAL_STRINGS['TOGGLE_FULL_SCREEN'] + '\">' +\n                '<input class=\"px-video-btnFullScreen sr-only\" id=\"btnFullscreen'+obj.randomNum+'\" type=\"checkbox\" />' +\n                '<label for=\"btnFullscreen'+obj.randomNum+'\"><span class=\"sr-only\">' + GLOBAL_STRINGS['TOGGLE_FULL_SCREEN'] + '</span></label>' +\n            '</div>' +\n            '<div class=\"px-video-time\">' +\n                '<span class=\"sr-only\">time</span> <span class=\"px-video-duration\">00:00</span>' +\n            '</div>' +\n            '</div>' +\n        '</div>' +\n        '</div>';\n\n    // // Adjust layout per width of video - container\n    // obj.movieWidth = obj.movie.width;\n    // if (obj.movieWidth < 360) {\n    //     obj.movieWidth = 360;\n    // }\n    // // obj.container.setAttribute(\"style\", \"width:\" + obj.movieWidth + \"px\");\n\n    // // Added for fullscreen reference\n    // obj.movieHeight = obj.movie.height;\n\n    // // Adjust layout per width of video - controls/mute offset\n    // obj.labelMute = document.getElementById(\"labelMute\" + obj.randomNum);\n    // obj.labelMuteOffset = obj.movieWidth - 390;\n    // if (obj.browserName === \"Firefox\") { // adjust for Firefox rendering\n    //     obj.labelMuteOffset = obj.labelMuteOffset - 10;\n    // }\n    // if (obj.labelMuteOffset < 0) {\n    //     obj.labelMuteOffset = 0;\n    // }\n    // obj.labelMute.setAttribute(\"style\", \"margin-left:\" + obj.labelMuteOffset + \"px\");\n\n    // Get URL of caption file if exists\n    var captionSrc = \"\",\n\tkind,\n\tchildren = obj.movie.childNodes;\n\n    for (var i = 0; i < children.length; i++) {\n\tif (children[i].nodeName.toLowerCase() === 'track') {\n\t    kind = children[i].getAttribute('kind');\n\t    if (kind === 'captions') {\n\t\tcaptionSrc = children[i].getAttribute('src');\n\t    }\n\t}\n    }\n\n    // Record if caption file exists or not\n    obj.captionExists = true;\n    if (captionSrc === \"\") {\n\tobj.captionExists = false;\n\tif (options.debug) {\n\t    console.log(\"No caption track found.\");\n\t}\n    } else {\n\tif (options.debug) {\n\t    console.log(\"Caption track found; URI: \" + captionSrc);\n\t}\n    }\n\n    // Set captions on/off - on by default\n    if (typeof(options.captionsOnDefault) === 'undefined') {\n\toptions.captionsOnDefault = true;\n    }\n    obj.isCaptionDefault = options.captionsOnDefault;\n\n    // Number of seconds for rewind and forward buttons\n    if (typeof(options.seekInterval) === 'undefined') {\n\toptions.seekInterval = 10;\n    }\n    obj.seekInterval = options.seekInterval;\n\n    // Get the elements for the controls\n    obj.btnPlay = obj.container.getElementsByClassName('px-video-play')[0];\n    obj.btnPause = obj.container.getElementsByClassName('px-video-pause')[0];\n    obj.btnRestart = obj.container.getElementsByClassName('px-video-restart')[0];\n    obj.btnRewind = obj.container.getElementsByClassName('px-video-rewind')[0];\n    obj.btnForward = obj.container.getElementsByClassName('px-video-forward')[0];\n    obj.btnVolume = obj.container.getElementsByClassName('px-video-volume')[0];\n    obj.btnMute = obj.container.getElementsByClassName('px-video-mute')[0];\n    obj.progressBar = obj.container.getElementsByClassName('px-video-progress')[0];\n    obj.progressBarSpan = obj.progressBar.getElementsByTagName('span')[0];\n    obj.captionsContainer = obj.container.getElementsByClassName('px-video-captions')[0];\n    obj.captionsBtn = obj.container.getElementsByClassName('px-video-btnCaptions')[0];\n    obj.captionsBtnContainer = obj.container.getElementsByClassName('px-video-captions-btn-container')[0];\n    obj.duration = obj.container.getElementsByClassName('px-video-duration')[0];\n    obj.txtSeconds = obj.container.getElementsByClassName('px-seconds');\n    obj.fullScreenBtn = obj.container.getElementsByClassName('px-video-btnFullScreen')[0];\n    obj.fullScreenBtnContainer = obj.container.getElementsByClassName('px-video-fullscreen-btn-container')[0];\n\n    // Update number of seconds in rewind and fast forward buttons\n    obj.txtSeconds[0].innerHTML = obj.seekInterval;\n    obj.txtSeconds[1].innerHTML = obj.seekInterval;\n\n    // Determine if HTML5 textTracks is supported (for captions)\n    obj.isTextTracks = false;\n    if (obj.movie.textTracks) {\n\tobj.isTextTracks = true;\n    }\n\n    // Play\n    obj.btnPlay.addEventListener('click', function() {\n\tobj.movie.play();\n\tobj.btnPlay.className = \"px-video-play hide\";\n\tobj.btnPause.className = \"px-video-pause px-video-show-inline\";\n\tobj.btnPause.focus();\n    }, false);\n\n    // Pause\n    obj.btnPause.addEventListener('click', function() {\n\tobj.movie.pause();\n\tobj.btnPlay.className = \"px-video-play px-video-show-inline\";\n\tobj.btnPause.className = \"px-video-pause hide\";\n\tobj.btnPlay.focus();\n    }, false);\n\n    // Restart\n    obj.btnRestart.addEventListener('click', function() {\n\t// Move to beginning\n\tobj.movie.currentTime = 0;\n\n\t// Special handling for \"manual\" captions\n\tif (!obj.isTextTracks) {\n\t    obj.subcount = 0;\n\t}\n\n\t// Play and ensure the play button is in correct state\n\tobj.movie.play();\n\tobj.btnPlay.className = \"px-video-play hide\";\n\tobj.btnPause.className = \"px-video-pause px-video-show-inline\";\n\n    }, false);\n\n    // Rewind\n    obj.btnRewind.addEventListener('click', function() {\n\tvar targetTime = obj.movie.currentTime - obj.seekInterval;\n\tif (targetTime < 0) {\n\t    obj.movie.currentTime = 0;\n\t} else {\n\t    obj.movie.currentTime = targetTime;\n\t}\n\t// Special handling for \"manual\" captions\n\tif (!obj.isTextTracks) {\n\t    adjustManualCaptions(obj);\n\t}\n\n\t// we do not need to announce negative times\n\tvar announcePos = Math.round(targetTime) > 0 ? Math.round(targetTime) : 0;\n\tvar announceMsg = 'rewind to ' + announcePos + ' seconds';\n\tariaAnnounce(announceMsg);\n    }, false);\n\n    // Fast forward\n    obj.btnForward.addEventListener('click', function() {\n\tvar targetTime = obj.movie.currentTime + obj.seekInterval;\n\tif (targetTime > obj.movie.duration) {\n\t    obj.movie.currentTime = obj.movie.duration;\n\t} else {\n\t    obj.movie.currentTime = targetTime;\n\t}\n\t// Special handling for \"manual\" captions\n\tif (!obj.isTextTracks) {\n\t    adjustManualCaptions(obj);\n\t}\n\n\tvar announceMsg = 'forward to ' + Math.round(targetTime) + ' seconds';\n\tariaAnnounce(announceMsg);\n    }, false);\n\n    // Get the HTML5 range input element and append audio volume adjustment on change\n    obj.btnVolume.addEventListener('change', function() {\n\tobj.movie.volume = parseFloat(this.value / 10);\n    }, false);\n\n    // Mute\n    obj.btnMute.addEventListener('click', function() {\n\tif (obj.movie.muted === true) {\n\t    obj.movie.muted = false;\n\t} else {\n\t    obj.movie.muted = true;\n\t}\n    }, false);\n\n    obj.btnMute.onkeypress = function(e) {\n\tif (e.keyCode == 13) { // enter key\n\t    e.preventDefault();\n\t    if (this.checked == true) {\n\t\tthis.checked = false;\n\t    } else {\n\t\tthis.checked = true;\n\t    }\n\t    if (obj.movie.muted === true) {\n\t\tobj.movie.muted = false;\n\t    } else {\n\t\tobj.movie.muted = true;\n\t    }\n\t}\n    }\n\n    // Duration\n    obj.movie.addEventListener(\"timeupdate\", function() {\n\tobj.secs = parseInt(obj.movie.currentTime % 60);\n\tobj.mins = parseInt((obj.movie.currentTime / 60) % 60);\n\n\t// Ensure it's two digits. For example, 03 rather than 3.\n\tobj.secs = (\"0\" + obj.secs).slice(-2);\n\tobj.mins = (\"0\" + obj.mins).slice(-2);\n\n\t// Render\n\tobj.duration.innerHTML = obj.mins + ':' + obj.secs;\n    }, false);\n\n    // Progress bar\n    obj.movie.addEventListener('timeupdate', function() {\n\tobj.percent = (100 / obj.movie.duration) * obj.movie.currentTime;\n\tif (obj.percent > 0) {\n\t    obj.progressBar.value = obj.percent;\n\t    obj.progressBarSpan.innerHTML = obj.percent;\n\t}\n    }, false);\n\n    // Skip when clicking progress bar\n    obj.progressBar.addEventListener('click', function(e) {\n\tobj.pos = (e.pageX - this.offsetLeft) / this.offsetWidth;\n\tobj.movie.currentTime = obj.pos * obj.movie.duration;\n\n\t// Special handling for \"manual\" captions\n\tif (!obj.isTextTracks) {\n\t    adjustManualCaptions(obj);\n\t}\n    });\n\n    // Toggle display of fullscreen button\n    obj.fullScreenBtn.addEventListener('click', function() {\n\tif (this.checked) {\n\t    launchFullScreen(obj.container);\n\t} else {\n\t    exitFullScreen();\n\t}\n    }, false);\n    obj.fullScreenBtn.onkeypress = function(e) {\n\tif (e.keyCode == 13) { // enter key\n\t    e.preventDefault();\n\t    if (this.checked == true) {\n\t\tthis.checked = false;\n\t\texitFullScreen();\n\t    } else {\n\t\tthis.checked = true;\n\t\tlaunchFullScreen(obj.container);\n\t    }\n\t}\n    }\n\n    // Clear captions at end of video\n    obj.movie.addEventListener('ended', function() {\n\tobj.captionsContainer.innerHTML = \"\";\n    });\n\n    // ***\n    // Captions\n    // ***\n\n    // Toggle display of captions via captions button\n    obj.captionsBtn.addEventListener('click', function() {\n        if (this.checked) {\n\t    obj.captionsContainer.className = \"px-video-captions show-inline\";\n        } else {\n            obj.captionsContainer.className = \"px-video-captions hide\";\n        }\n        // if fullscreen add fullscreen class\n        if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement) {\n            var currClass = obj.captionsContainer.className;\n            obj.captionsContainer.className = currClass + ' js-fullscreen-captions';\n        }\n    }, false);\n    obj.captionsBtn.onkeypress = function(e) {\n        if (e.keyCode == 13) { // enter key\n            e.preventDefault();\n            if (this.checked == true) {\n                this.checked = false;\n            } else {\n                this.checked = true;\n            }\n            if (this.checked) {\n\t\tobj.captionsContainer.className = \"px-video-captions show-inline\";\n            } else {\n                obj.captionsContainer.className = \"px-video-captions hide\";\n            }\n        }\n    }\n\n    // If no caption file exists, hide container for caption text\n    if (!obj.captionExists) {\n\tobj.captionsContainer.className = \"px-video-captions hide\";\n    }\n\n    // If caption file exists, process captions\n    else {\n\n\t// Can't use native captioning in the follow browsers:\n\tif ((obj.browserName === \"IE\" && obj.browserMajorVersion === 10) ||\n\t    (obj.browserName === \"IE\" && obj.browserMajorVersion === 11) ||\n\t    (obj.browserName === \"Firefox\" && obj.browserMajorVersion >= 31) ||\n\t    (obj.browserName === \"Chrome\" && obj.browserMajorVersion === 43) ||\n\t    (obj.browserName === \"Safari\" && obj.browserMajorVersion >= 7)) {\n\t    if (options.debug) {\n\t\tconsole.log(\"Detected browser unable to play HTML5 captions; using custom captions\");\n\t    }\n\t    // set to false so skips to 'manual' captioning\n\t    obj.isTextTracks = false;\n\n\t    // turn off native caption rendering to avoid double captions [doesn't work in Safari 7; see patch below]\n\t    var track = {};\n\t    var tracks = obj.movie.textTracks;\n\t    for (var j = 0; j < tracks.length; j++) {\n\t\ttrack = obj.movie.textTracks[j];\n\t\ttrack.mode = \"hidden\";\n\t    }\n\t}\n\n\t// Rendering caption tracks - native support required - http://caniuse.com/webvtt\n\tif (obj.isTextTracks) {\n\t    if (options.debug) {\n\t\tconsole.log(\"textTracks supported\");\n\t    }\n\t    showCaptionContainerAndButton(obj);\n\n\t    var track = {};\n\t    var tracks = obj.movie.textTracks;\n\t    for (var j = 0; j < tracks.length; j++) {\n\t\ttrack = obj.movie.textTracks[j];\n\t\ttrack.mode = \"hidden\";\n\t\tif (track.kind === \"captions\") {\n\t\t    track.addEventListener(\"cuechange\", function() {\n\t\t\tif (this.activeCues[0]) {\n\t\t\t    if (this.activeCues[0].hasOwnProperty(\"text\") || this.activeCues[0].text !== \"\") {\n\t\t\t\tobj.captionsContainer.innerHTML = this.activeCues[0].text;\n\t\t\t    }\n\t\t\t}\n\t\t    }, false);\n\t\t}\n\t    }\n\t}\n\t// Caption tracks not natively supported\n\telse {\n\t    if (options.debug) {\n\t\tconsole.log(\"textTracks not supported so rendering captions 'manually'\");\n\t    }\n\t    showCaptionContainerAndButton(obj);\n\n\t    // Render captions from array at appropriate time\n\t    obj.currentCaption = '';\n\t    obj.subcount = 0;\n\t    obj.captions = [];\n\n\t    obj.movie.addEventListener('timeupdate', function() {\n\t\t// Check if the next caption is in the current time range\n\t\tif (obj.movie.currentTime.toFixed(1) > video_timecode_min(obj.captions[obj.subcount][0]) &&\n\t\t    obj.movie.currentTime.toFixed(1) < video_timecode_max(obj.captions[obj.subcount][0])) {\n\t\t    obj.currentCaption = obj.captions[obj.subcount][1];\n\t\t}\n\t\t// Is there a next timecode?\n\t\tif (obj.movie.currentTime.toFixed(1) > video_timecode_max(obj.captions[obj.subcount][0]) &&\n\t\t    obj.subcount < (obj.captions.length - 1)) {\n\t\t    obj.subcount++;\n\t\t}\n\t\t// Render the caption\n\t\tobj.captionsContainer.innerHTML = obj.currentCaption;\n\t    }, false);\n\n\t    if (captionSrc != \"\") {\n\t\t// Create XMLHttpRequest object\n\t\tvar xhr;\n\t\tif (window.XMLHttpRequest) {\n\t\t    xhr = new XMLHttpRequest();\n\t\t} else if (window.ActiveXObject) { // IE8\n\t\t    xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}\n\t\txhr.onreadystatechange = function() {\n\t\t    if (xhr.readyState === 4) {\n\t\t\tif (xhr.status === 200) {\n\t\t\t    if (options.debug) {\n\t\t\t\tconsole.log(\"xhr = 200\");\n\t\t\t    }\n\n\t\t\t    obj.captions = [];\n\t\t\t    var records = [],\n\t\t\t\trecord,\n\t\t\t\treq = xhr.responseText;\n\t\t\t    records = req.split('\\n\\n');\n\t\t\t    for (var r = 0; r < records.length; r++) {\n\t\t\t\trecord = records[r];\n\t\t\t\tobj.captions[r] = [];\n\t\t\t\tobj.captions[r] = record.split('\\n');\n\t\t\t    }\n\t\t\t    // Remove first element (\"VTT\")\n\t\t\t    obj.captions.shift();\n\n\t\t\t    if (options.debug) {\n\t\t\t\tconsole.log('Successfully loaded the caption file via ajax.');\n\t\t\t    }\n\t\t\t} else {\n\t\t\t    if (options.debug) {\n\t\t\t\tconsole.log('There was a problem loading the caption file via ajax.');\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t}\n\t\txhr.open(\"get\", captionSrc, true);\n\t\txhr.send();\n\t    }\n\t}\n\n\t// If Safari 7, removing track from DOM [see 'turn off native caption rendering' above]\n\tif (obj.browserName === \"Safari\" && obj.browserMajorVersion === 7) {\n\t    console.log(\"Safari 7 detected; removing track from DOM\");\n\t    var tracks = obj.movie.getElementsByTagName(\"track\");\n\t    obj.movie.removeChild(tracks[0]);\n\t}\n    }\n\n    document.addEventListener(\"fullscreenchange\", function() {\n\tfullScreenStyles();\n    }, false);\n\n    document.addEventListener(\"mozfullscreenchange\", function() {\n\tfullScreenStyles();\n    }, false);\n\n    document.addEventListener(\"webkitfullscreenchange\", function() {\n\tfullScreenStyles();\n    }, false);\n\n    document.addEventListener(\"MSFullscreenChange\", function() {\n\tfullScreenStyles();\n    }, false);\n};\n\n    new InitPxVideo({\n\t\"videoId\": \"cotto\",\n\t\"captionsOnDefault\": false,\n\t\"seekInterval\": 20,\n\t\"videoTitle\": \"Cotto\",\n\t\"debug\": true\n    });\n\n    new InitPxVideo({\n\t\"videoId\": \"video1\",\n\t\"captionsOnDefault\": false,\n\t\"seekInterval\": 20,\n\t\"videoTitle\": \"Dr Lukas\",\n\t\"debug\": true\n    });\n\n    new InitPxVideo({\n        \"videoId\": \"video3\",\n        \"captionsOnDefault\": false,\n        \"seekInterval\": 20,\n        \"videoTitle\": \"Sarah Wakeman\",\n        \"debug\": true\n    });\n","(function() {\n  var slice = [].slice;\n\n  function queue(parallelism) {\n    var q,\n        tasks = [],\n        started = 0, // number of tasks that have been started (and perhaps finished)\n        active = 0, // number of tasks currently being executed (started but not finished)\n        remaining = 0, // number of tasks not yet finished\n        popping, // inside a synchronous task callback?\n        error = null,\n        await = noop,\n        all;\n\n    if (!parallelism) parallelism = Infinity;\n\n    function pop() {\n      while (popping = started < tasks.length && active < parallelism) {\n        var i = started++,\n            t = tasks[i],\n            a = slice.call(t, 1);\n        a.push(callback(i));\n        ++active;\n        t[0].apply(null, a);\n      }\n    }\n\n    function callback(i) {\n      return function(e, r) {\n        --active;\n        if (error != null) return;\n        if (e != null) {\n          error = e; // ignore new tasks and squelch active callbacks\n          started = remaining = NaN; // stop queued tasks from starting\n          notify();\n        } else {\n          tasks[i] = r;\n          if (--remaining) popping || pop();\n          else notify();\n        }\n      };\n    }\n\n    function notify() {\n      if (error != null) await(error);\n      else if (all) await(error, tasks);\n      else await.apply(null, [error].concat(tasks));\n    }\n\n    return q = {\n      defer: function() {\n        if (!error) {\n          tasks.push(arguments);\n          ++remaining;\n          pop();\n        }\n        return q;\n      },\n      await: function(f) {\n        await = f;\n        all = false;\n        if (!remaining) notify();\n        return q;\n      },\n      awaitAll: function(f) {\n        await = f;\n        all = true;\n        if (!remaining) notify();\n        return q;\n      }\n    };\n  }\n\n  function noop() {}\n\n  queue.version = \"1.0.7\";\n  if (typeof define === \"function\" && define.amd) define(function() { return queue; });\n  else if (typeof module === \"object\" && module.exports) module.exports = queue;\n  else this.queue = queue;\n})();\n","var Vis = (function(d3) {\n    \"use strict\";\n\n    var visualizationWrapper = d3.select('#binaryMaps_maps');\n\n    var geojson;\n    queue()\n        .defer(d3.json, 'js/data/TOWN.geo.json')\n        .defer(d3.json, 'js/data/rate_5yr_odc.json')\n        .await(visualize);\n\n    var width = 525,\n        height = 325;\n\n    var projection = d3.geo.conicConformal()\n        .parallels([41 + 43 / 60, 42 + 41 / 60])\n        .rotate([71 + 30 / 60, -41])\n        .scale([8600])\n        .translate([280, 360]);\n\n    var $maps_sub = d3.select(\"#carte\").append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height);\n\n    var colors_5yr = [\"#d3d3d3\", \"#9ecae1\", \"#6baed6\", \"#2171b5\", \"#084594\"];\n\n    var path = d3.geo.path().projection(projection),\n        palette = d3.scale.threshold().domain([0.1, 2.1, 6.1, 17.1, Infinity])\n        //.range([\"#d3d3d3\", '#db8d8d', '#c54949', \"#b71c1c\", '#801313']);\n        .range(colors_5yr);\n\n\n\n    function visualize(error, states, data) {\n\n\n\n        data.data.forEach(function(data, i) {\n            var wrapper = visualizationWrapper.append('div').attr('class', 'map-wrapper').append('div');\n\n            createMap(wrapper, states, data);\n        });\n    }\n\n\n\n    function createMap(wrapper, geo, data) {\n\n        wrapper.append('span')\n            .text(function(d) {\n                if (data.key == 2005) {\n                    return '2001 to 2005';\n                } else if (data.key == 2010) {\n                    return '2006 to 2010';\n                } else if (data.key == 2015) {\n                    return '2011 to 2015';\n                }\n            })\n            .attr('class', 'vis-title')\n            .style('padding-bottom', \"3%\");\n\n\n\n\n        wrapper.append('span')\n            .text(\"\")\n            .attr('class', 'selection-label');\n\n        var $maps_sub = wrapper\n            .classed(\"svg-container\", true) //container class to make it responsive\n            .append(\"svg\")\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n            .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\n            //class to make it responsive\n            .classed(\"svg-content-responsive\", true);\n\n        $maps_sub.selectAll('path')\n            .data(geo.features)\n            .enter()\n            .append('path')\n            .attr('d', path)\n            .style(\"stroke\", \"white\")\n            .style(\"stroke-width\", \"0.0px\")\n            .style('fill', function(d, i) {\n                var value = data.values[d.properties.TOWN_1];\n                return palette(value);\n            })\n            .on('mouseover', function(d, i) {\n\n            })\n            .on('mouseout', function(d, i) {\n\n            })\n            .attr('class', function(d) {\n\t\treturn d.properties.TOWN_1.toLowerCase()+' bsasmap';\n            })\n            .on('mouseenter', function(d, i) {\n                notify('.' + d.properties.TOWN_1.toLowerCase(), 'select');\n                // var currentState = this;\n                // console.log(this);\n                // d3.select(this).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\n            })\n            .on('mouseleave', function(d) {\n                notify('.' + d.properties.TOWN_1.toLowerCase(), 'unselect');\n\n            })\n            .on('select', function(self) {\n                var geoData = self.data();\n                var town_value\n\n                if (data.values[geoData[0].properties.TOWN_1] > 0) {\n                    town_value = d3.format(\".1f\")(data.values[geoData[0].properties.TOWN]);\n                } else { town_value = \"0\"; }\n\n                //console.log(town_value);\n\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = (geoData[0].properties.TOWN_1 + \"<br>\" + town_value) + \" per 100,000\";\n                d3.select((self.node())).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\n            })\n            .on('unselect', function(self) {\n                //     self.node().parentNode.parentNode.getElementsByTagName('p2')[0].innerHTML = \"\";\n                //     d3.selectAll('#treatmentMaps_maps path').style({ 'fill-opacity': 1 }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = \"\";\n\t\td3.selectAll('path.bsasmap').style({\n                    'fill-opacity': 1\n                }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\n            })\n\n        function notify(selector, eventName) {\n            d3.selectAll(selector)[0].forEach(function(el, i) {\n                var shape = d3.select(el);\n                shape.on(eventName)(shape);\n            });\n        }\n\n    }\n\n    var opChgScale = d3.scale.threshold().domain([0.1, 2.1, 6.1, 17.1, Infinity])\n        //.range([\"#d3d3d3\", '#db8d8d', '#c54949', \"#b71c1c\", '#801313'])\n        .range(colors_5yr);\n    opChgScale.domainStrings = function() {\n        return (['0', '>0-2.1', '>2.1-6.1', '>6.1-17.1', '>17.1']);\n    };\n    //popChgScale.domainStrings = function() { return (['< 0.1', '0.25-0.50', '0.50-0.75', '0.75-1.0', '1.0-1.25',\n    //'1.25-1.50', '1.50-1.75', '1.75-2.0', '> 2.0']); };\n    generateLegend_map_sub(opChgScale, 'binaryMaps_legend', 'Average Annual Opioid-Related Death Rate per 100,000 People');\n\n    function generateLegend_map_sub(scale, szDivId, szCaption) {\n\n        var legendHeight = 60,\n            legendWidth = '90%';\n\n\n\n        var $maps_sub_svg = d3.select('#' + szDivId).append(\"svg\")\n            .attr(\"width\", legendWidth)\n            .attr(\"height\", legendHeight);\n\n        var $maps_sub_legends = $maps_sub_svg.append(\"g\");\n\n        // Create data array.\n        var legendData = [];\n        // legendData.push({\n        //     d: -9999,\n        //     r: '#f1f1f1',\n        //     s: 'N/A*'\n        // });\n        for (var i = 0; i < scale.domain().length; i++) {\n            legendData.push({\n                d: scale.domain()[i],\n                r: scale.range()[i],\n                s: scale.domainStrings()[i]\n            });\n        }\n        var unitWidth = 100 / legendData.length;\n\n        $maps_sub_legends.selectAll(\"rect\")\n            .data(legendData)\n            .enter().append(\"rect\")\n            .attr(\"height\", legendHeight / 3)\n            .attr(\"width\", function(d, i) {\n                return unitWidth + '%';\n            })\n            .attr(\"x\", function(d, i) {\n                return (i * unitWidth) + '%';\n            })\n            .attr(\"y\", 20)\n            .style(\"stroke\", \"black\")\n            .style(\"stroke-width\", \"0.25px\")\n            .style(\"fill\", function(d, i) {\n                return d.r;\n            });\n\n        $maps_sub_legends.selectAll(\"text\")\n            .data(legendData)\n            .enter().append(\"text\")\n            .attr('text-anchor', 'middle')\n            .attr(\"x\", function(d, i) {\n                return (i * unitWidth) + (unitWidth / 2) + '%';\n            })\n            .attr(\"y\", 55)\n            .text(function(d, i) {\n                return d.s;\n            });\n\n        $maps_sub_legends.append(\"text\")\n            .attr(\"class\", \"vis-caption\")\n            .attr(\"y\", 12)\n            .text(szCaption);\n    }\n\n\n\n    $('.js-toggle-binary-map').click(function() {\n        var date = $(this).data('date');\n        $('#binaryMaps').attr('data-active-date', date);\n        $('.js-toggle-binary-map').removeClass('active');\n        $(this).addClass('active');\n    });\n\n})(d3);\nconsole.log(\"file loaded - binary\")\n","var Vis = (function(d3) {\n    \"use strict\";\n\n    var visualizationWrapper = d3.select('#treatmentMaps_maps');\n\n    var geojson;\n    queue()\n        .defer(d3.json, 'js/data/TOWN.geo.json')\n        .defer(d3.json, 'js/data/maps_susbtance_data.json')\n        .await(visualize);\n\n    var width = 525,\n        height = 325;\n\n    var projection = d3.geo.conicConformal()\n        .parallels([41 + 43 / 60, 42 + 41 / 60])\n        .rotate([71 + 30 / 60, -41])\n        .scale([7500])\n        .translate([280, 330]);\n\n    var $maps_sub = d3.select(\"#carte\").append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height);\n\n    var path = d3.geo.path().projection(projection),\n        palette = d3.scale.threshold().domain([-0.1, 0.01, 0.14, 0.24, 0.33, 0.46, 1.1])\n        .range(['#d1d1d1','#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016450']);\n\n\n\n    function visualize(error, states, data) {\n\n\n\n        data.data.forEach(function(data, i) {\n            var wrapper = visualizationWrapper.append('div').attr('class', 'map-wrapper').append('div');\n\n            createMap(wrapper, states, data);\n        });\n    }\n\n    //console.log(geo.features)\n\n\n    function createMap(wrapper, geo, data) {\n\n        wrapper.append('span')\n            .text(data.key)\n            .attr('class', 'vis-title');\n        wrapper.append('span')\n            .text(\"\")\n            .attr('class', 'selection-label');\n\n        var $maps_sub = wrapper\n            .classed(\"svg-container\", true) //container class to make it responsive\n            .append(\"svg\")\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n            .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\n            //class to make it responsive\n            .classed(\"svg-content-responsive\", true);\n\n        $maps_sub.selectAll('path')\n            .data(geo.features)\n            .enter()\n            .append('path')\n            .attr('d', path)\n            .style(\"stroke\", \"white\")\n            .style(\"stroke-width\", \"0.0px\")\n            .style('fill', function(d, i) {\n                var value = data.values[d.properties.TOWN];\n                return palette(value);\n            })\n            .on('mouseover', function(d, i) {\n\n            })\n            .on('mouseout', function(d, i) {\n\n            })\n            .attr('class', function(d) {\n\t\treturn d.properties.TOWN.toLowerCase() + ' bsasmap';\n            })\n            .on('mouseenter', function(d, i) {\n                notify('.' + d.properties.TOWN.toLowerCase(), 'select');\n                // var currentState = this;\n                // console.log(this);\n                // d3.select(this).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\n            })\n            .on('mouseleave', function(d) {\n                notify('.' + d.properties.TOWN.toLowerCase(), 'unselect');\n\n            })\n            .on('select', function(self) {\n                var geoData = self.data();\n                var town_value\n\n                if (data.values[geoData[0].properties.TOWN] >= 0) {\n                    //console.log(data.values[geoData[0].properties.TOWN] == 'Null');\n                    town_value = d3.format(\"%,.2f\")(data.values[geoData[0].properties.TOWN]);\n                } else {\n                    //console.log(data.values[geoData[0].properties.TOWN])\n\t\t    town_value = \"N/A\";\n                };\n\n                //console.log(town_value);\n\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = (geoData[0].properties.TOWN_1 + \":  \" + town_value);\n                d3.select((self.node())).style('fill-opacity', 0.4).style(\"stroke\", \"white\").style(\"stroke-width\", \"1.5px\");\n                //console.log(geoData[0].properties);\n            })\n            .on('unselect', function(self) {\n                //     self.node().parentNode.parentNode.getElementsByTagName('p2')[0].innerHTML = \"\";\n                //     d3.selectAll('#treatmentMaps_maps path').style({ 'fill-opacity': 1 }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\n                self.node().parentNode.parentNode.getElementsByClassName('selection-label')[0].innerHTML = \"\";\n\t\td3.selectAll('path.bsasmap').style({\n                    'fill-opacity': 1\n                }).style(\"stroke\", \"white\").style(\"stroke-width\", \"0.0px\");\n            })\n\n        function notify(selector, eventName) {\n            d3.selectAll(selector)[0].forEach(function(el, i) {\n                var shape = d3.select(el);\n                shape.on(eventName)(shape);\n            });\n        }\n\n    }\n\n    var opChgScale = d3.scale.threshold().domain([0, 0.1, 0.15, 0.35, 0.6, 1.00]).range(['#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016450'])\n    opChgScale.domainStrings = function() {\n        return (['0%', '>0-14%', '>14-24%', '>24-33%', '>33-46%', '>46-100%'\n        ]);\n    };\n    //popChgScale.domainStrings = function() { return (['< 0.1', '0.25-0.50', '0.50-0.75', '0.75-1.0', '1.0-1.25',\n    //'1.25-1.50', '1.50-1.75', '1.75-2.0', '> 2.0']); };\n    generateLegend_map_sub(opChgScale, 'treatmentMaps_legend', 'Heroin Primary Substance of Abuse upon Seeking Treatment (%)');\n\n    function generateLegend_map_sub(scale, szDivId, szCaption) {\n        var width = 550,\n            height = 70;\n\n        var $maps_sub_svg = d3.select('#' + szDivId).append(\"svg\")\n            .attr(\"width\", \"100%\")\n            .attr(\"height\", height);\n\n        var $maps_sub_legends = $maps_sub_svg.append(\"g\");\n\n        // Create data array.\n        var legendData = [];\n        legendData.push({\n            d: -9999,\n            r: '#d1d1d1',\n\t    s: 'N/A*'\n        });\n        var i;\n        for (i = 0; i < scale.domain().length; i++) {\n            legendData.push({\n                d: scale.domain()[i],\n                r: scale.range()[i],\n                s: scale.domainStrings()[i]\n            });\n        }\n\n        $maps_sub_legends.selectAll(\"rect\")\n            .data(legendData)\n            .enter().append(\"rect\")\n            .attr(\"height\", 20)\n            .attr(\"width\", 60)\n            .attr(\"x\", function(d, i) {\n                return (i * (100 / legendData.length)) + \"%\";\n            })\n            .attr(\"y\", 20)\n            .style(\"stroke\", \"black\")\n            .style(\"stroke-width\", \"0.25px\")\n            .style(\"fill\", function(d, i) {\n                return d.r;\n            });\n\n        $maps_sub_legends.selectAll(\"text\")\n            .data(legendData)\n            .enter().append(\"text\")\n            .attr('text-anchor', 'middle')\n            .attr(\"x\", function(d, i) {\n                return ((i * (100 / legendData.length)) + 7) + \"%\";\n            })\n            .attr(\"y\", 55)\n            .text(function(d, i) {\n                return d.s;\n            });\n\n        $maps_sub_legends.append(\"text\")\n            .attr(\"class\", \"vis-caption\")\n            .attr(\"y\", 12)\n            .text(szCaption);\n    }\n\n\n\n    $('.js-toggle-treatment-map').click(function() {\n        var date = $(this).data('date');\n        $('#treatmentMaps').attr('data-active-date', date);\n        $('.js-toggle-treatment-map').removeClass('active');\n        $(this).addClass('active');\n    });\n\n})(d3);\n","/* global d3 */\r\n\r\n(function() {\r\n    \"use strict\";\r\n\r\n    var selector = '#deathLines';\r\n    var rootNode = document.querySelector(selector);\r\n\r\n    // Initial dimensions\r\n    var dimensions = {\r\n        margin: {\r\n            top: 20,\r\n            right: 20,\r\n            bottom: 20,\r\n            left: 50\r\n        },\r\n        width: rootNode.clientWidth,\r\n        height: 350\r\n    };\r\n\r\n    var MDG = 29;\r\n\r\n\r\n    var Massachusetts = [\"MA\"];\r\n    var UnitedStates = [\"USA\"];\r\n\r\n    var lines;\r\n\r\n\r\n    // Setup\r\n\r\n    //Set up date formatting and years\r\n    var dateFormat = d3.time.format(\"%Y\");\r\n    //Set up scales\r\n    var xScale = d3.time.scale();\r\n    //var yScale = d3.scale.sqrt();\r\n    var yScale = d3.scale.linear();\r\n    var xAxis_death = d3.svg.axis();\r\n    var yAxis_death = d3.svg.axis();\r\n    var line_death = d3.svg.line();\r\n\r\n    //Create the empty SVG image\r\n    var $lines_death = d3.select(selector)\r\n        .append(\"svg\")\r\n        .attr(\"width\", dimensions.width)\r\n        .attr(\"height\", dimensions.height);\r\n\r\n\r\n    var $lines_death_x_axis = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"vis-x-axis\")\r\n        .attr(\"transform\", \"translate(0,\" + (dimensions.height - dimensions.margin.bottom - dimensions.margin.top) + \")\")\r\n        .call(xAxis_death);\r\n\r\n    var $lines_death_x_axis_label = $lines_death_x_axis\r\n        .append(\"text\")\r\n        .attr(\"x\", (dimensions.width - dimensions.margin.left)/2)\r\n        .attr(\"y\", dimensions.margin.bottom)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-x-axis-label\")\r\n        .text(\"Year\");\r\n\r\n    var $lines_death_y_axis = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"vis-y-axis\")\r\n        .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')')\r\n        .call(yAxis_death);\r\n\r\n    var $lines_death_y_axis_label = $lines_death_y_axis\r\n        .append(\"text\")\r\n        .attr(\"x\", -(dimensions.height/2))\r\n        .attr(\"y\", -dimensions.margin.left)\r\n        .attr(\"dy\", \"1em\")\r\n        .attr(\"class\", \"vis-y-axis-label\")\r\n        .text(\"Age-Adjusted Opioid Death Rate per 100,000 People\");\r\n\r\n\r\n    var $lines_death_ma_label = $lines_death.append(\"text\")\r\n        .attr(\"class\", \"aside-ma\")\r\n        .attr(\"x\", dimensions.width - dimensions.margin.left - 15)\r\n        .attr(\"y\", yScale(23.8) - 6)\r\n        .attr(\"dy\", \"1em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(\"MA\");\r\n\r\n    var $lines_death_usa_label = $lines_death.append(\"text\")\r\n        .attr(\"class\", \"aside-usa\")\r\n        .attr(\"x\", dimensions.width - dimensions.margin.left - 45)\r\n        .attr(\"y\", yScale(10.0) - 6)\r\n        .attr(\"dy\", \"1em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(\"USA\");\r\n\r\n    // add a tooltip to the page - not to the svg itself!\r\n    var tooltip_death = d3.select(\"#deathLines\")\r\n        .append(\"div\")\r\n        .attr(\"class\", \"vis-tooltip hidden\");\r\n\r\n\r\n\r\n\r\n\r\n    // Actually do stuff.\r\n    d3.csv(\"js/data/death_states.csv\", function(data) {\r\n        setupData(data);\r\n        render();\r\n        // bindEvents();\r\n        window.addEventListener('resize', render);\r\n    });\r\n\r\n\r\n    function setupData(data) {\r\n        var years = d3.keys(data[0]).slice(0, 65);\r\n         //Create a new, empty array to hold our restructured dataset\r\n        var dataset = [];\r\n\r\n        //Loop once for each row in data\r\n        data.forEach(function(d, i) {\r\n            var OMRs = [];\r\n            years.forEach(function(y) { //Loop through all the years - and get the rates for this data element\r\n                if (d[y]) { /// What we are checking is if the \"y\" value - the year string from our array, which would translate to a column in our csv file - is empty or not.\r\n                    OMRs.push({ //Add a new object to the new rates data array - for year, rate. These are OBJECTS that we are pushing onto the array\r\n                        year: y,\r\n                        rate: d[y], // this is the value for, for example, d[\"2004\"]\r\n                        Geography: d.Geography,\r\n                        FullName: d.FullName\r\n                    });\r\n                }\r\n            });\r\n            dataset.push({ // At this point we are accessing one index of data from our original csv \"data\", above and we have created an array of year and rate data from this index. We then create a new object with the Geography value from this index and the array that we have made from this index.\r\n                Geography: d.Geography,\r\n                FullName: d.FullName,\r\n                rates: OMRs // we just built this from the current index.\r\n            });\r\n        });\r\n\r\n        data.dataset = dataset;\r\n\r\n        //Set scale domains - max and min of the years\r\n        xScale.domain(\r\n            d3.extent(years, function(d) {\r\n                return dateFormat.parse(d);\r\n            }));\r\n\r\n        // max of rates to 0 (reversed, remember)\r\n        yScale.domain([\r\n            d3.max(dataset, function(d) {\r\n                return d3.max(d.rates, function(d) {\r\n                    return +d.rate;\r\n                });\r\n            }),\r\n            0\r\n        ]);\r\n\r\n        var groups = $lines_death.selectAll(\"g.lines-death\")\r\n            .data(dataset)\r\n            .enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", \"lines-death\");\r\n\r\n        lines = groups.selectAll(\"path\")\r\n            .data(function(d) { // because there's a group with data already...\r\n                return [d.rates]; // it has to be an array for the line function\r\n            })\r\n            .enter()\r\n            .append(\"path\")\r\n            .attr(\"class\", \"line-death\")\r\n            .classed(\"massachusetts\", function(d, i) {\r\n                //console.log(d[i].Geography);\r\n                if ($.inArray(d[i].Geography, Massachusetts) !== -1) {\r\n                    //console.log(\"true\");\r\n                    return true;\r\n                } else {\r\n                    //console.log(\"false\");\r\n                    return false;\r\n                }\r\n            })\r\n            .classed(\"usa\", function(d, i) {\r\n                //console.log(d[i].Geography);\r\n                if ($.inArray(d[i].Geography, UnitedStates) !== -1) {\r\n                    //console.log(\"true\");\r\n                    return true;\r\n                } else {\r\n                    //console.log(\"false\");\r\n                    return false;\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n    function updateDimensions() {\r\n        dimensions.width = rootNode.clientWidth;\r\n        if(dimensions.width < 500) {\r\n            dimensions.margin.left = 30;\r\n        } else {\r\n            dimensions.margin.left = 50;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function render() {\r\n        updateDimensions();\r\n\r\n        $lines_death.attr('width', dimensions.width);\r\n\r\n        xScale.range([dimensions.margin.left, dimensions.width - dimensions.margin.right - dimensions.margin.left]);\r\n        yScale.range([dimensions.margin.top, dimensions.height - dimensions.margin.bottom -dimensions.margin.top]);\r\n\r\n        //Configure axis generators\r\n        xAxis_death.scale(xScale)\r\n            .orient(\"bottom\")\r\n            .ticks((dimensions.width < 700 ? 8 : 15))\r\n            .tickFormat(function(d) {\r\n                return dateFormat(d);\r\n            })\r\n            .innerTickSize([8]);\r\n\r\n        yAxis_death.scale(yScale)\r\n            .orient(dimensions.width < 500 ? 'right' : 'left')\r\n            .innerTickSize([8]);\r\n\r\n        $lines_death_x_axis_label\r\n            .attr(\"x\", (dimensions.width - dimensions.margin.left)/2);\r\n\r\n        $lines_death_y_axis_label\r\n            .attr(\"y\", -dimensions.margin.left);\r\n\r\n        if(dimensions.width < 500) {\r\n            $lines_death_y_axis\r\n                .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')');\r\n        } else {\r\n            $lines_death_y_axis\r\n                .attr(\"transform\", \"translate(\" + dimensions.margin.left + \",\" + (0) + ')');\r\n        }\r\n\r\n        //Configure line\r\n        // each line dataset must have a d.year and a d.rate for this to work.\r\n        line_death.x(function(d) {\r\n                return xScale(dateFormat.parse(d.year));\r\n            })\r\n            .y(function(d) {\r\n                return yScale(+d.rate);\r\n            })\r\n            .defined(function(d) {\r\n                return yScale(+d.rate);\r\n            });\r\n\r\n\r\n        $lines_death_x_axis\r\n            .call(xAxis_death);\r\n\r\n        $lines_death_y_axis\r\n            .call(yAxis_death);\r\n\r\n\r\n        $lines_death_ma_label\r\n            .attr(\"x\", dimensions.width - dimensions.margin.left - 15)\r\n            .attr(\"y\", yScale(23.8) - 6);\r\n\r\n        $lines_death_usa_label\r\n            .attr(\"x\", dimensions.width - dimensions.margin.left - 45)\r\n            .attr(\"y\", yScale(10.0) - 6);\r\n\r\n        lines.attr(\"d\", line_death);\r\n    }\r\n\r\n    var focus = $lines_death.append(\"g\")\r\n        .attr(\"class\", \"focus\")\r\n        .classed(\"hidden\", true);\r\n\r\n    $lines_death\r\n        .on(\"mouseover\", mouseoverFunc)\r\n        .on(\"mouseout\", mouseoutFunc)\r\n        .on(\"mousemove\", mousemoveFunc);\r\n\r\n    function mouseoutFunc() {\r\n\r\n        //d3.selectAll(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", false);\r\n        tooltip_death.classed(\"hidden\", true);\r\n    }\r\n    function mouseoverFunc(d, i) {\r\n\r\n        //d3.selectAll(\"path.line-death\").classed(\"unfocused\", true);\r\n\r\n        //d3.select(this).select(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", true);\r\n        //d3.select(this).select(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(0));\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1];\r\n        //console.log(y0);\r\n        var y1 = yScale.invert(y0);\r\n        var percentVal = d3.format(\".1f\")(y1)\r\n\r\n        tooltip_death.classed(\"hidden\", false)\r\n        .html(percentVal);\r\n        //console.log(d.rates[i]);\r\n        //console.log(d3.select(this).select(\"path.point\"));\r\n        //focus.classed(\"hidden\", false);\r\n    }\r\n\r\n    function mousemoveFunc(d) {\r\n\r\n        //console.log(\"events\", d3.event.offsetX, d3.event.layerY/2);\r\n        //console.log(\"d3.events\", d3.event);\r\n        var x0 = d3.mouse(this)[0];\r\n        var y0 = d3.mouse(this)[1]\r\n        var y1 = yScale.invert(y0);\r\n        var percentVal = d3.format(\".1f\")(y1);\r\n\r\n       //focus.attr(\"transform\", \"translate(\" + x0 + \",\" + y0 + \")\");\r\n\r\n\r\n\r\n        tooltip_death\r\n            .style(\"top\", (d3.event.offsetY+20) + \"px\")\r\n            .style(\"left\", (d3.event.offsetX) + \"px\")\r\n            .html(percentVal);\r\n    }\r\n\r\n    // function bindEvents() {\r\n    //     d3.selectAll(\"g.lines-death\")\r\n    //         .on(\"mouseover\", mouseoverFunc)\r\n    //         .on(\"mouseout\", mouseoutFunc)\r\n    //         .on(\"mousemove\", mousemoveFunc);\r\n\r\n    //     function mouseoutFunc() {\r\n    //         d3.selectAll(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", false);\r\n    //         tooltip_death.classed(\"hidden\", true);\r\n    //     }\r\n\r\n    //     function mouseoverFunc(d, i) {\r\n    //         d3.selectAll(\"path.line-death\").classed(\"unfocused\", true);\r\n    //         d3.select(this).select(\"path.line-death\").classed(\"unfocused\", false).classed(\"focused\", true);\r\n    //         tooltip_death.classed(\"hidden\", false).html(d.FullName);\r\n    //     }\r\n\r\n    //     var coordinates = [0, 0];\r\n\r\n    //     function mousemoveFunc(d) {\r\n    //         coordinates = d3.mouse(this);\r\n\r\n    //         var x = coordinates[0];\r\n    //         var y = coordinates[1];\r\n    //         tooltip_death\r\n    //             .style(\"top\", y + \"px\")\r\n    //             .style(\"left\", x + \"px\")\r\n    //             .style('position', 'absolute')\r\n    //             .style('z-index', 1001);\r\n    //     }\r\n    // }\r\n\r\n})();\r\n\r\n\r\n","/* global d3 */\n(function() {\n    \"use strict\";\n\n    var rootSelector = '#fentanyl-lines';\n    var rootNode = document.querySelector(\"#fentanyl-lines\");\n\n    var chartData = [{\n    \t\"date\": new Date(\"01/01/2014\"),\n    \t\"FentanylHeroin\": \"0.19\",\n    \t\"Fentanyl\": \"0.22\",\n    \t\"Heroin\": \"0.41\",\n    \t\"Methadone\": \"0.10\"\n    \t}, {\n    \t\"date\": new Date(\"04/01/2014\"),\n    \t\"FentanylHeroin\": \"0.18\",\n    \t\"Fentanyl\": \"0.19\",\n    \t\"Heroin\": \"0.49\",\n    \t\"Methadone\": \"0.07\"\n    \t}, {\n    \t\"date\": new Date(\"07/01/2014\"),\n    \t\"FentanylHeroin\": \"0.14\",\n    \t\"Fentanyl\": \"0.14\",\n    \t\"Heroin\": \"0.53\",\n    \t\"Methadone\": \"0.10\"\n    \t}, {\n    \t\"date\": new Date(\"10/01/2014\"),\n    \t\"FentanylHeroin\": \"0.22\",\n    \t\"Fentanyl\": \"0.27\",\n    \t\"Heroin\": \"0.35\",\n    \t\"Methadone\": \"0.06\"\n    \t}, {\n    \t\"date\": new Date(\"01/01/2015\"),\n    \t\"FentanylHeroin\": \"0.19\",\n    \t\"Fentanyl\": \"0.40\",\n    \t\"Heroin\": \"0.30\",\n    \t\"Methadone\": \"0.04\"\n    \t}, {\n    \t\"date\": new Date(\"04/01/2015\"),\n    \t\"FentanylHeroin\": \"0.24\",\n    \t\"Fentanyl\": \"0.38\",\n    \t\"Heroin\": \"0.29\",\n    \t\"Methadone\": \"0.05\"\n    \t}, {\n    \t\"date\": new Date(\"07/01/2015\"),\n    \t\"FentanylHeroin\": \"0.19\",\n    \t\"Fentanyl\": \"0.40\",\n    \t\"Heroin\": \"0.30\",\n    \t\"Methadone\": \"0.06\"\n    \t}, {\n    \t\"date\": new Date(\"10/01/2015\"),\n    \t\"FentanylHeroin\": \"0.22\",\n    \t\"Fentanyl\": \"0.43\",\n    \t\"Heroin\": \"0.24\",\n    \t\"Methadone\": \"0.05\"\n    \t}, {\n    \t\"date\": new Date(\"01/01/2016\"),\n    \t\"FentanylHeroin\": \"0.15\",\n    \t\"Fentanyl\": \"0.50\",\n    \t\"Heroin\": \"0.17\",\n    \t\"Methadone\": \"0.04\"\n   }];\n\n\n\n\n    var yearformat = d3.time.format(\"%Y\");\n\n    function quarter (date) {\n    \tvar date2 = new Date();\n    \tdate2.setMonth(date.getMonth() - 10);\n    \tvar q = Math.ceil((date2.getMonth()) / 3);\n    \treturn \"Q\" + q;\n    }\n\n    var seriesColors = [\"#333333\", \"#b71c1c\", \"#0071bc\", \"#333333\"];\n    var seriesLineStrokes = [\"1.5px\", \"3.5px\", \"3.5px\", \"2px\"];\n    var seriesLineDash = [\"10,10,10,10\", \"0,0,0,0\", \"0,0,0,0\", \"2,6,0,0\"];\n    var seriesPointShapes = [\"circle\", \"circle\", \"circle\", \"circle\"];\n    var seriesPointWidth = [\"1px\", \"1.5px\", \"1.5px\", \"1px\"];\n    var seriesPointFill = [\"#a50f15\", \"#08519c\", \"#636363\", \"#636363\"];\n    var xLabel = \"date\";\n\n\n\n\n    // Dimensions\n\n    var margin = {\n      top: 10, // space for the legend\n      right: 15,\n      bottom: 50,\n      left: 42\n    };\n\n    var wrapper_width = 540;\n    var wrapper_height = 400;\n    var width = wrapper_width - margin.left - margin.right;\n    var height = wrapper_height - margin.top - margin.bottom;\n\n\n    var x = d3.scale.ordinal().rangePoints([0, width]);\n    var x2 = d3.scale.ordinal().rangePoints([0, width]);\n\n    var y = d3.scale.linear().range([height, 0]);\n\n    var color = d3.scale.ordinal().range(seriesColors);\n\n    var lineStroke = d3.scale.ordinal().range(seriesLineStrokes);\n\n    var lineDash = d3.scale.ordinal().range(seriesLineDash);\n\n    var pointShape = d3.scale.ordinal().range(seriesPointShapes);\n\n    var pointWidth = d3.scale.ordinal().range(seriesPointWidth);\n\n    var pointFill = d3.scale.ordinal().range(seriesPointFill);\n\n    var xAxis_fent = d3.svg.axis()\n                    \t.scale(x)\n                    \t.orient(\"bottom\")\n                    \t.ticks(d3.time.months, 3)\n                    \t.tickFormat(quarter);\n\n\n    var xAxis2_fent = d3.svg.axis()\n                      \t.scale(x)\n                      \t.ticks(d3.time.years, 1)\n                      \t.tickFormat(yearformat)\n                      \t.tickSize(3, 0)\n                      \t.tickPadding(1)\n                      \t.orient(\"bottom\");\n\n    //percentage formatiing\n    var formatPercent = d3.format(\".0%\");\n\n    var yAxis_fent = d3.svg.axis()\n                    \t.scale(y)\n                    \t.orient(\"left\")\n                    \t.tickFormat(formatPercent)\n                    \t.ticks(5)\n                    \t.tickSize(3, 0)\n                    \t.tickPadding(1);\n\n    //create tooltipFent\n\n    // add a tooltipFent to the page - not to the svg itself!\n    var tooltipFent = d3.select(\"body\").append(\"div\").attr(\"class\", \"vis-tooltip\");\n\n    var line = d3.svg.line()\n              \t.x(function(d) {\n              \t    return x(d.label);\n              \t})\n              \t.y(function(d) {\n              \t    return y(d.value);\n              \t});\n\n    var $svg = d3.select(document.querySelector(rootSelector))\n      .append(\"svg\");\n    var $lines_fent = $svg.append(\"g\")\n    \t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    var varSeries = d3.keys(chartData[0]).filter(function(key) {\n      return key !== xLabel;\n    });\n\n    color.domain(varSeries);\n    lineStroke.domain(varSeries);\n    lineDash.domain(varSeries);\n    pointShape.domain(varSeries);\n    pointWidth.domain(varSeries);\n    pointFill.domain(varSeries);\n\n    var seriesData = varSeries.map(function(name) {\n    \treturn {\n    \t    name: name,\n    \t    values: chartData.map(function(d) {\n        \t\treturn {\n        \t\t    name: name,\n        \t\t    label: d[xLabel],\n        \t\t    value: +d[name]\n        \t\t};\n    \t    })\n    \t};\n    });\n\n\n    x.domain(chartData.map(function(d) {\n      return d.date;\n    }));\n\n    x2.domain(chartData.map(function(d) {\n      return d.date;\n    }));\n\n    y.domain([\n      d3.min(seriesData, function(c) {\n          return d3.min(c.values, function(d) {\n      \t//return d.value;\n      \treturn 0;\n          });\n      }),\n      d3.max(seriesData, function(c) {\n          return d3.max(c.values, function(d) {\n      \treturn d.value;\n        //return 0.6\n          });\n      })\n    ]);\n\n    var x_axis = $lines_fent.append(\"g\")\n    \t.attr(\"class\", \"vis-x-axis\")\n    \t.attr(\"transform\", \"translate(0,\" + height + \")\")\n    \t.call(xAxis_fent);\n\n    var x_axis_lines = x_axis.append(\"path\")\n    \t.attr(\"class\", \"line\")\n    \t.style(\"stroke-width\", \"1.5px\")\n    \t.call(xAxis_fent);\n\n    var x_axis2 = $lines_fent.append(\"g\")\n    \t.attr(\"class\", \"vis-axis\")\n    \t.attr(\"transform\", \"translate(0,\" + (height + 15) + \")\")\n    \t.call(xAxis2_fent);\n\n    var x_axis2_text = x_axis2\n    \t.append(\"text\")\n    \t.attr(\"x\", (width - margin.left)/2)\n    \t.attr(\"y\", margin.bottom - 32)\n    \t.attr(\"dy\", \"1em\")\n    \t.attr(\"class\", \"vis-x-axis-label\")\n    \t.text(\"Quarter\");\n\n\n    var y_axis = $lines_fent.append(\"g\")\n    \t.attr(\"class\", \"vis-y-axis\")\n    \t.call(yAxis_fent)\n      //.append(\"tspan\")\n      .append(\"text\")\n    \t.attr(\"x\", -(height/2))\n    \t.attr(\"y\", -44)\n    \t.attr(\"dy\", \"1em\")\n    \t.attr(\"class\", \"vis-y-axis-label\")\n    \t.text(\"Percent Opioid Deaths\");\n      //.html(\"<sup>1</sup>\");\n\n    var series = $lines_fent.selectAll(\".series\")\n    \t.data(seriesData)\n    \t.enter().append(\"g\")\n    \t.attr(\"class\", \"seriesData\");\n\n\n    var $lines = series.append(\"path\")\n    \t.attr(\"class\", \"line\")\n    \t.attr(\"d\", function(d) {\n    \t    return line(d.values);\n    \t})\n    \t.style(\"stroke\", function(d) {\n    \t    return color(d.name);\n    \t})\n    \t.style(\"stroke-width\", function(d) {\n    \t    return lineStroke(d.name);\n    \t})\n    \t.style(\"stroke-dasharray\", function(d) {\n    \t    return lineDash(d.name);\n    \t})\n    \t.style(\"fill\", \"none\");\n\n\n    var $lines_hit_area = series.append(\"path\")\n    \t.attr(\"class\", \"hit-area-ext\")\n    \t.attr(\"d\", function(d) {\n    \t    return line(d.values);\n    \t})\n    \t.attr(\"style\", \"stroke:transparent;stroke-width:10px\")\n    \t.style(\"fill\", \"none\");\n\n\n    // var x_axis_label_fh = $lines_fent.append(\"text\")\n    // \t.attr(\"class\", \"vis-data-label\")\n    // \t.attr(\"x\", width + 5)\n    // \t.attr(\"y\", y(chartData[8].FentanylHeroin) - 5)\n    // \t.attr(\"dy\", \"1em\")\n    // \t.text(\"Fentanyl & Heroin\");\n\n    // var x_axis_label_m = $lines_fent.append(\"text\")\n    // \t.attr(\"class\", \"vis-data-label\")\n    // \t.attr(\"x\", width + 5)\n    // \t.attr(\"y\", y(chartData[8].Methadone) - 7)\n    // \t.attr(\"dy\", \"1em\")\n    // \t.text(\"Methadone\");\n\n    // var x_axis_label_h = $lines_fent.append(\"text\")\n    // \t.attr(\"class\", \"vis-data-label\")\n    //   .attr(\"x\", width + 5)\n    //   .attr(\"y\", y(chartData[8].Heroin) - 10)\n    //   .attr(\"dy\", \"1em\")\n    //   .text(\"Heroin\");\n\n    // var x_axis_label_f = $lines_fent.append(\"text\")\n    // \t.attr(\"class\", \"vis-data-label\")\n    //   .attr(\"x\", width + 5)\n    //   .attr(\"y\", y(chartData[8].Fentanyl) - 10)\n    //   .attr(\"dy\", \"1em\")\n    //   .text(\"Fentanyl\");\n\n\n\n    /*======================================================================\n     Mouse Functions\n    ======================================================================*/\n    var focus = $lines_fent.append(\"g\")\n    \t.attr(\"class\", \"focus\")\n    \t.classed(\"hidden\", true);\n\n    focus.append(\"circle\")\n    \t.style(\"stroke-width\", 1)\n    \t.attr(\"r\", 6)\n    \t.attr('pointer-events', 'none');\n\n    d3.selectAll(\"g.seriesData\")\n    \t.on(\"mouseover\", mouseoverFunc)\n    \t.on(\"mouseout\", mouseoutFunc)\n    \t.on(\"mousemove\", mousemoveFunc);\n\n    function mouseoutFunc() {\n\n    \td3.selectAll(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", false);\n    \td3.selectAll(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", false).attr(\"d\", d3.svg.symbol().type(\"circle\").size(15)).style(\"fill-opacity\", \"1\");\n      \ttooltipFent.classed(\"hidden\", true); // this sets it to invisible!\n      \tfocus.classed(\"hidden\", true);\n    }\n\n    function mouseoverFunc(d, i) {\n\n    \td3.selectAll(\"path.line\").classed(\"unfocused\", true);\n    \td3.selectAll(\"path.point\").classed(\"unfocused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(10)).style(\"fill-opacity\", \"0\");\n    \t// below code sets the sub set of data even more - they only go \"unfocused\" if a certain line is selected. Otherwise, they remain at the regular opacity. .\n    \t//         if(!d3.select(this).select(\"path.line\").classed(\"ssAfrica\")) {\n    \t//             d3.selectAll(\"path.ssAfrica\").classed(\"unfocused\", false);\n    \t//         }\n\n    \td3.select(this).select(\"path.line\").classed(\"unfocused\", false).classed(\"focused\", true);\n    \t//d3.select(this).select(\"path.point\").classed(\"unfocused\", false).classed(\"focused\", true).attr(\"d\", d3.svg.symbol().type(\"circle\").size(0));\n    \tvar x0 = d3.mouse(this)[0];\n    \tvar y0 = d3.mouse(this)[1]\n    \tvar y1 = y.invert(y0);\n    \tvar percentVal = d3.format(\".0%\")(y1)\n\n    \ttooltipFent.classed(\"hidden\", false)\n    \t.html(percentVal);\n    \t//console.log(d.rates[i]);\n    \t//console.log(d3.select(this).select(\"path.point\"));\n    \tfocus.classed(\"hidden\", false);\n    }\n\n    function mousemoveFunc(d) {\n\n    \t//console.log(\"events\", window.event, d3.event);\n    \tvar x0 = d3.mouse(this)[0];\n    \tvar y0 = d3.mouse(this)[1]\n    \tvar y1 = y.invert(y0);\n    \tvar percentVal = d3.format(\".0%\")(y1);\n\n    \tfocus.attr(\"transform\", \"translate(\" + x0 + \",\" + y0 + \")\");\n\n\n\n    \ttooltipFent\n    \t    .style(\"top\", (d3.event.pageY - 45) + \"px\")\n    \t    .style(\"left\", (d3.event.pageX + 5) + \"px\")\n    \t    .html(percentVal);\n    }\n\n\n\n    function render () {\n      updateWidth(rootNode.clientWidth);\n\n      x.rangePoints([0, width]);\n      x2.rangePoints([0, width]);\n      y.range([height, 0]);\n      xAxis_fent.scale(x);\n      xAxis2_fent.scale(x);\n      yAxis_fent.scale(y);\n      // update lines\n      line.x(function(d) {\n          return x(d.label);\n        })\n        .y(function(d) {\n            return y(d.value);\n        });\n\n      x_axis\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(xAxis_fent);\n\n      x_axis2\n        .attr(\"transform\", \"translate(0,\" + (height + 15) + \")\")\n        .call(xAxis2_fent);\n\n      x_axis2_text\n      .attr(\"x\", (width - margin.left)/2)\n      .attr(\"y\", margin.bottom - 32);\n\n\n      y_axis.call(yAxis_fent);\n\n      $svg.attr(\"width\", wrapper_width).attr(\"height\", wrapper_height);\n\n      // x_axis_label_fh.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].FentanylHeroin) - 5);\n\n      // x_axis_label_m.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Methadone) - 7);\n\n      // x_axis_label_h.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Heroin) - 10);\n\n      // x_axis_label_f.attr(\"x\", width + 5).attr(\"y\", y(chartData[8].Fentanyl) - 10);\n\n      $lines.attr(\"d\", function(d) {\n          return line(d.values);\n      });\n\n      $lines_hit_area.attr(\"d\", function(d) {\n        return line(d.values);\n      });\n\n      $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\"+(width-margin.right*10)+\",0)\");\n    }\n\n    function updateWidth(componentWidth) {\n      wrapper_width = componentWidth;\n      width = wrapper_width - margin.left - margin.right;\n      height = wrapper_height - margin.top - margin.bottom;\n    }\n\n    var $legend = $svg.append(\"g\");\n    var $item = $legend.append(\"g\");\n\n    function renderLegend() {\n\n\n      var legendItems = [\n        \"FentanylHeroin\",\n        \"Fentanyl\",\n        \"Heroin\",\n        \"Methadone\"\n      ];\n      var legendItemsTranslate = [\n        \"Both Fentanyl & Heroin\",\n        \"Only Fentanyl\",\n        \"Only Heroin\",\n        \"Only Methadone\"\n      ];\n      $legend.attr(\"class\", \"vis-legend\").attr(\"transform\", \"translate(\"+(width-(margin.right*10))+\",0)\");\n      var lineHeight = 15;\n      // var seriesColors = [\"#ffffff\", \"#b71c1c\", \"#0071bc\", \"#ffffff\"];\n      // var seriesLineStrokes = [\"1.5px\", \"3.5px\", \"3.5px\", \"2px\"];\n      // var seriesLineDash = [\"10,10,10,10\", \"0,0,0,0\", \"0,0,0,0\", \"2,6,0,0\"];\n\n      legendItems.forEach(function(item, i) {\n      $item = $legend.append(\"g\")\n          .attr(\"class\", \"legend-item-\"+item)\n          .attr(\"transform\", \"translate(0,\"+(i*lineHeight)+\")\");\n\n        $item.append(\"svg:line\")\n          .attr(\"class\", \"legend-item-\"+item)\n          .attr(\"x1\", 0)\n          .attr(\"y1\", 5)\n          .attr(\"x2\", 30)\n          .attr(\"y2\", 5)\n          .style(\"stroke\", seriesColors[i])\n          .style(\"stroke-dasharray\", seriesLineDash[i])\n          .style(\"stroke-width\", seriesLineStrokes[i]);\n\n        $item.append(\"text\")\n          .attr(\"class\", \"legend-item-\"+item)\n          .attr(\"x\", 40)\n          .attr(\"y\", 10)\n          .text(legendItemsTranslate[i]);\n      });\n    }\n\n\n    render();\n    renderLegend();\n\n    window.addEventListener('resize', render);\n    //window.addEventListener('resize', renderLegend);\n\n\n\n})();\n","$(document).ready(function() {\n    var prescription = [{\n            \"Yes\": 83,\n            \"No\": 17\n        }, {\n            \"Yes\": 57,\n            \"No\": 43\n        }, {\n            \"Yes\": 50,\n            \"No\": 50\n        }, {\n            \"Yes\": 37,\n            \"No\": 63\n        }],\n\n        heroin = [{\n            \"Yes\": 65,\n            \"No\": 35\n        }, {\n            \"Yes\": 28,\n            \"No\": 72\n        }, {\n            \"Yes\": 20,\n            \"No\": 80\n        }, {\n            \"Yes\": 13,\n            \"No\": 87\n        }],\n\n        fentanyl = [{\n            \"Yes\": 68,\n            \"No\": 32\n        }, {\n            \"Yes\": 30,\n            \"No\": 70\n        }, {\n            \"Yes\": 22,\n            \"No\": 78\n        }, {\n            \"Yes\": 17,\n            \"No\": 83\n        }],\n\n        both = [{\n            \"Yes\": 64,\n            \"No\": 36\n        }, {\n            \"Yes\": 24,\n            \"No\": 76\n        }, {\n            \"Yes\": 15,\n            \"No\": 85\n        }, {\n            \"Yes\": 9,\n            \"No\": 91\n        }],\n\n        methadone = [{\n            \"Yes\": 76,\n            \"No\": 24\n        }, {\n            \"Yes\": 46,\n            \"No\": 54\n        }, {\n            \"Yes\": 41,\n            \"No\": 59\n        }, {\n            \"Yes\": 27,\n            \"No\": 73\n        }],\n\n        buprenorphine = [{\n            \"Yes\": 60,\n            \"No\": 40\n        }, {\n            \"Yes\": 60,\n            \"No\": 40\n        }, {\n            \"Yes\": 60,\n            \"No\": 40\n        }, {\n            \"Yes\": 60,\n            \"No\": 40\n        }],\n\n        dataset = [{\n                data: [{\n                    count: 867,\n                    name: 'Heroin'\n                }],\n                name: 'Heroin'\n            }, {\n                data: [{\n                    count: 288,\n                    name: 'Fentanyl'\n                }],\n                name: 'Fentanyl'\n            }, {\n                data: [{\n                    count: 249,\n                    name: 'Fentanyl & Heroin'\n                }],\n                name: 'Fentanyl & Heroin'\n            }, {\n                data: [{\n                    count: 154,\n                    name: 'Prescription Opioids'\n                }],\n                name: 'Prescription Opioids'\n            }, {\n                data: [{\n                    count: 84,\n                    name: 'Methadone'\n                }],\n                name: 'Methadone'\n            },\n            //  {\n            //     data: [{\n            //         count: 15,\n            //         name: 'Buprenorphine'\n            //     }],\n            //     name: 'Buprenorphine'\n            // }\n\n        ];\n\n\n    var data_substance = prescription;\n    var time = 0;\n    asignVal_substance(data_substance, time);\n\n    $(\".btn-substance\").on('click', function() {\n        var sub = parseInt($(this).val());\n        var substance;\n        $(\".btn-time\").removeClass('disableClick disabled');\n        switch (sub) {\n            case 0:\n                substance = prescription;\n                break;\n            case 1:\n                substance = heroin;\n                break;\n            case 2:\n                substance = fentanyl;\n                break;\n            case 3:\n                substance = both;\n                break;\n            case 4:\n                substance = methadone;\n                break;\n            case 5:\n                substance = buprenorphine;\n                $(\".btn-time\").removeClass('active').addClass('disableClick disabled');\n                $(\"#studyperiod\").addClass('active');\n                break;\n        }\n        data_substance = substance;\n        asignVal_substance(data_substance, time);\n    });\n\n\n    $(\".btn-time\").on('click', function() {\n        $('.btn-time').removeClass(\"active\");\n        $(this).addClass(\"active\");\n        time = parseInt($(this).val());\n        asignVal_substance(data_substance, time);\n        var time_period;\n        switch (time) {\n            case 0:\n                time_period = \"during 20112014\";\n                break;\n            case 1:\n                time_period = \"6 Months Before Death\";\n                break;\n            case 2:\n                time_period = \"3 Months Before Death\";\n                break;\n            case 3:\n                time_period = \"1 Month Before Death\";\n                break;\n        }\n        $(\"#time-period\").html(time_period.toLowerCase());\n        $(\"#label_blocks\").html(time_period);\n    });\n\n    function asignVal_substance(type, time) {\n        $('#percentage').html(type[time].Yes + '%');\n        $(\"#people\").empty();\n        $('#people').each(function() {\n            makeChart_substance(type, time);\n\t    $('#table_substance').html('<table class=\"table table_substance\"><tr><th>Had legal prescription</th><th>Did not have legal prescription</th></tr><tr><td class=\"type_substance0\">' + type[time].Yes + '%</td><td class=\"type_substance1\">' + type[time].No + '%</td></tr></table>');\n\n        })\n    };\n\n\n\n    function makeChart_substance(data_substance, i) {\n        var blockArray_substance = [];\n        var noOfBlocks_No = Math.round(data_substance[i].No);\n        var noOfBlocks_Yes = Math.round(data_substance[i].Yes);\n        var blocksAdded = 0;\n        blockArray = addBlocks_substance(\"#people\", noOfBlocks_Yes, noOfBlocks_No, data_substance, blockArray_substance, i);\n        addBlock_substance(\"#people\", blockArray_substance, 0);\n    }\n\n    function addBlocks_substance(id, noOfBlocks_Yes, noOfBlocks_No, data_substance, blockArray_substance, i) {\n        var person_path = '<path d=\"M4,12.6c0-0.7,0-1.5,0-2.2c0-1,0.5-1.8,1.4-2.2C6,7.9,6.6,7.8,7.3,7.8c0.7,0,1.4,0,2.1,0c0.7,0,1.4,0.2,2,0.6c0.7,0.4,1.1,1.1,1.1,2c0,1.5,0,3,0,4.5c0,0.9-0.2,1.8-0.8,2.6c-0.1,0.2-0.3,0.3-0.4,0.5c-0.1,0.1-0.1,0.2-0.2,0.3c-0.1,0.6-0.3,1.2-0.4,1.8c-0.2,1.3-0.4,2.6-0.6,3.8c-0.1,0.7-0.6,1.1-1.3,1.1c-0.4,0-0.8,0-1.2,0c-0.1,0-0.2,0-0.3,0c-0.5-0.1-0.9-0.5-1-1c-0.2-1.2-0.4-2.4-0.6-3.5c-0.1-0.6-0.2-1.2-0.3-1.8c-0.1-0.3-0.2-0.5-0.4-0.7c-0.4-0.3-0.6-0.8-0.7-1.3C4.1,15.9,4,15.3,4,14.7C4,14,4,13.3,4,12.6z\"/>'\n        + '<path d=\"M4.8,3.6c0-1.8,1.4-3.4,3.4-3.5c1.9,0,3.5,1.5,3.5,3.5c0,2-1.5,3.4-3.5,3.4C6.3,7,4.8,5.5,4.8,3.6z\"/>';\n        var person_svg_No = '<svg class=\"block type_substance1\" width=\"25px\" height=\"25px\">' + person_path + '</svg>';\n\n        for (b = 0; b < noOfBlocks_No; b++) {\n            blockArray_substance.push(person_svg_No);\n\n            //blockArray_substance.push('<div class=\"block type_substance' + 1 + ' data-index=' + data_substance[i].No + '\">' + '</div>');\n        };\n        for (b = 0; b < noOfBlocks_Yes; b++) {\n            //$(id).append('<div class=\"block type_substance' + 0 + ' data-index=' + data_substance[i].Yes + '\">' + '</div>');\n        var person_svg_Yes = '<svg class=\"block type_substance0\" width=\"25px\" height=\"25px\">' + person_path + '</svg>';\n            $(id).append(person_svg_Yes);\n        };\n        return blockArray_substance;\n\n    }\n\n    function addBlock_substance(id, blockArray_substance, i) {\n        if (i < blockArray.length) {\n            $(id).append(blockArray_substance[i]);\n            i++;\n            addBlock_substance(id, blockArray_substance, i);\n        }\n    }\n\n\n    ////////////////////////\n    //BAR CHART\n    ///////////////////////\n\n    var width = '100%',\n        height = 30;\n    // series = dataset.map(function(d) {\n    //     return d.name;\n    // }),\n    dataset = dataset.map(function(d) {\n            return d.data.map(function(o, i) {\n                // Structure it so that your numeric\n                // axis (the stacked amount) is y\n                return {\n                    y: o.count,\n                    s: o.name,\n                };\n            });\n        }),\n        stack = d3.layout.stack();\n\n    stack(dataset);\n\n\n    var dataset = dataset.map(function(group) {\n            return group.map(function(d) {\n                // Invert the x and y values, and y0 becomes x0\n                return {\n                    x: d.y,\n                    n: d.s,\n                    y: d.x,\n                    x0: d.y0\n                };\n            });\n        }),\n        $bar = d3.select('#bar')\n        .append('svg')\n        .attr('id', 'bar_svg')\n        .attr('width', width)\n        .attr('height', height)\n    var color = [\"#b71c1c\", '#CFD8DC']\n    var colors;\n    colors = [color[1], color[1], color[1], color[0], color[1], color[1]];\n    draw(colors);\n    $(\".btn-substance\").on('click', function() {\n        $('#bar_svg').empty();\n        colors = [color[1], color[1], color[1], color[1], color[1], color[1]];\n        $('.btn-substance').removeClass(\"active\");\n        $(this).addClass(\"active\");\n        colors[$(this).val()] = color[0];\n        draw(colors);\n        var i = $(this).val(),\n            d = dataset[$(this).val()][0];\n        var xPos = parseFloat(xScale(d.x0) + 100 / (i + 1));\n        var yPos = parseFloat(d3.select(this).attr('y')) + yScale.rangeBand();\n        console.log(d);\n        console.log(d.n == 'Fentanyl & Heroin')\n\n        if (d.n == 'Fentanyl & Heroin') {\n\t    substance_html = d.n.toLowerCase() + \"<a href=\\\"#footnote-7\\\" class=\\\"page-scroll\\\"><sup>7</sup></a>\";\n        } else if (d.n == 'Prescription Opioids') {\n\t    substance_html = d.n.toLowerCase() + \"<a href=\\\"#footnote-8\\\" class=\\\"page-scroll\\\"><sup>8</sup></a>\";\n        } else {\n            substance_html = d.n.toLowerCase();\n        }\n\n        console.log(substance_html)\n        $('.substance-type').html(substance_html);\n        $('#total').html(d.x);\n\n    });\n\n    function draw(colors) {\n        $('#bar_svg')\n            .append('g')\n            .attr('class', 'bar_g')\n            //  .attr('transform', 'translate(' + margins.left + ',' + margins.top + ')'),\n        xMax = d3.max(dataset, function(group) {\n                return d3.max(group, function(d) {\n                    return d.x + d.x0;\n                });\n            }),\n            xScale = d3.scale.linear()\n            .domain([0, xMax])\n            .range([0, width]),\n            // months = dataset[0].map(function(d) {\n            //     return d.y;\n            // }),\n            yScale = d3.scale.ordinal()\n            //.domain(months)\n            .rangeRoundBands([0, height], .1),\n\n            colours = d3.scale.ordinal()\n            .range(colors),\n\n            bar_groups = $bar.selectAll('.bar_g')\n            .data(dataset)\n            .enter()\n            .append('g')\n            .style('fill', function(d, i) {\n                return colours(i);\n            }),\n\n            rects = bar_groups.selectAll('rect')\n            .data(function(d) {\n                return d;\n            })\n            .enter()\n            .append('rect')\n            .style({ 'stroke': '#b71c1c', 'stroke-width': '1px' })\n            .attr('x', function(d) {\n                return xScale(d.x0);\n            })\n            .attr('y', function(d, i) {\n                return yScale(d.y);\n            })\n            .attr('height', function(d) {\n                return yScale.rangeBand();\n            })\n            .attr('width', function(d) {\n                return xScale(d.x);\n            })\n    };\n\n})\n","$(document).ready(function() {\n\n    var prescription = [\n        [0, 0],\n        [\"No\", 58],\n        [\"Yes\", 13],\n        [\"Yes\", 8],\n        [\"No\", 21],\n        [0, 0]\n    ];\n    var heroin = [\n        [0, 0],\n        [\"No\", 22],\n        [\"Yes\", 49],\n        [\"Yes\", 17],\n        [\"No\", 12],\n        [0, 0]\n    ];\n\n    var multi = [\n        [\"1\", 15],\n        [\"2\", 31],\n        [\"3\", 25],\n        [\"3\", 18],\n        [\"2\", 9],\n        [\"1\", 2]\n    ];\n\n\n    // var person = '<svg width=\"10\" height=\"10\"><path d=\"M12.6,18.4c0-1,0-2,0-3c0-1.4,0.7-2.5,2-3.1c0.8-0.4,1.6-0.6,2.5-0.6c1,0,1.9,0,2.9,0c1,0,1.9,0.3,2.8,0.8c1,0.6,1.6,1.6,1.6,2.7c0,2.1,0,4.1,0,6.2c0,1.3-0.3,2.5-1.1,3.6c-0.2,0.2-0.4,0.4-0.6,0.6c-0.1,0.1-0.2,0.2-0.2,0.4c-0.2,0.8-0.4,1.6-0.5,2.5c-0.3,1.8-0.6,3.5-0.9,5.3c-0.2,1-0.8,1.5-1.8,1.5c-0.5,0-1.1,0-1.6,0c-0.2,0-0.3,0-0.5,0c-0.6-0.1-1.2-0.7-1.3-1.4c-0.3-1.6-0.5-3.2-0.8-4.9c-0.1-0.8-0.3-1.6-0.5-2.5c-0.1-0.4-0.2-0.7-0.5-1c-0.5-0.5-0.8-1.1-1-1.8c-0.3-0.8-0.4-1.6-0.4-2.5C12.6,20.3,12.6,19.3,12.6,18.4z\"/><path d=\"M13.6,6c0-2.4,1.9-4.7,4.7-4.7c2.7,0,4.8,2.1,4.8,4.8c0,2.7-2.1,4.7-4.7,4.7C15.7,10.7,13.6,8.6,13.6,6z\"/></svg>'\n    // console.log(person);\n    var table_html = [\n\t'<div class=\"people-blocks\">Prescription Opioids in Toxicology Screen</div><table class=\"table table_gender\"><tr><th></th><th>Present</th><th>Not Present</th></tr><tr><th>Male</th><td class=\"type_gender2\">' + prescription[2][1] + '%</td><td class=\"type_gender0\">' + prescription[1][1] + '%</td></tr><tr><th>Female</th><td class=\"type_gender3\">' + prescription[3][1] + '%</td><td class=\"type_gender5\">' + prescription[4][1] + '%</td></tr></table>',\n\t'<div class=\"people-blocks\">Heroin in Toxicology Screen</div><table class=\"table table_gender\"><tr><th></th><th>Present</th><th>Not Present</th></tr><tr><th>Male</th><td class=\"type_gender2\">' + heroin[2][1] + '%</td><td class=\"type_gender0\">' + heroin[1][1] + '%</td></tr><tr><th>Female</th><td class=\"type_gender3\">' + heroin[3][1] + '%</td><td class=\"type_gender5\">' + heroin[4][1] + '%</td></tr></table>',\n\t'<div class=\"people-blocks\">Number of Different Prescribers</div><table class=\"table table_gender\"><tr><th></th><th>0 Prescribers</th><th>12 Prescribers</th><th>3+ Prescribers</th></tr><tr><th>Male</th><td td class=\"type_gender0\">' + multi[0][1] + '%</td><td td class=\"type_gender1\">' + multi[1][1] + '%</td><td td class=\"type_gender2\">' + multi[2][1] + '%</td></tr><tr><th>Female</th><td td class=\"type_gender5\">' + multi[5][1] + '%</td><td td class=\"type_gender4\">' + multi[4][1] + '%</td><td td class=\"type_gender3\">' + multi[3][1] + '%</td></tr></table>'\n    ];\n\n\n    var data_gender = prescription;\n    var value;\n    var option;\n\n    //Set initial values\n    makeChart_gender(prescription);\n    $('#table_gender').html(table_html[0]);\n    $(\"#prescription\").addClass(\"active\");\n\n    //Link text controls\n    $('.controls-block').click(function() {\n        $option = $(this).data('select');\n        //$value = eval($(this).val());\n        if ($option == 'multi') { $value = 2; } else if ($option == 'heroin') { $value = 1; } else if ($option = 'prescription') { $value = 0; }\n        console.log($value);\n        asignVal_gender($option, $value);\n    });\n\n\n    //Link button controls\n    $('.btn-blocks').click(function() {\n        $option = $(this).attr('id');\n        $value = eval($(this).val());\n        //console.log($value);\n        asignVal_gender($option, $value);\n    });\n\n\n    function asignVal_gender(option, value) {\n        $(\"#buttons-blocks button\").removeClass(\"active\");\n        $('#' + option).addClass('active');\n        $(\"#gender\").empty();\n        makeChart_gender(eval(option));\n        $('#table_gender').html(table_html[value]);\n        //console.log(value);\n    };\n\n\n    function makeChart_gender(data_gender) {\n\n        var blockArray = [];\n        if (data_gender == multi) {\n            var index = [0, 1, 2, 3, 4, 5];\n        } else {\n            var index = [0, 0, 2, 3, 5, 5];\n        };\n        for (i = 0; i < 6; i++) {\n            var noOfBlocks_gender = Math.round(data_gender[i][1]);\n            var blocksAdded = 0;\n            blockArray_gender = addBlocks_gender(\"#gender\", noOfBlocks_gender, data_gender, blockArray, index);\n        }\n        addBlock_gender(\"#gender\", blockArray_gender, 0);\n    }\n\n    function addBlock_gender(id, blockArray, i) {\n        if (i < blockArray.length) {\n            $(id).append(blockArray[i]);\n            i++;\n            //timeout += 1;\n            // setTimeout(function() {\n            addBlock_gender(id, blockArray, i);\n            //})\n        }\n    }\n\n\n    function addBlocks_gender(id, noOfBlocks, data_gender, blockArray, index) {\n        for (b = 0; b < noOfBlocks; b++) {\n            var person_svg = '<svg class=\"block type_gender' + index[i] + ' data-index=' + data_gender[i][0] + ' width=\"25px\" height=\"25px\">'+'<path d=\"M4,12.6c0-0.7,0-1.5,0-2.2c0-1,0.5-1.8,1.4-2.2C6,7.9,6.6,7.8,7.3,7.8c0.7,0,1.4,0,2.1,0c0.7,0,1.4,0.2,2,0.6c0.7,0.4,1.1,1.1,1.1,2c0,1.5,0,3,0,4.5c0,0.9-0.2,1.8-0.8,2.6c-0.1,0.2-0.3,0.3-0.4,0.5c-0.1,0.1-0.1,0.2-0.2,0.3c-0.1,0.6-0.3,1.2-0.4,1.8c-0.2,1.3-0.4,2.6-0.6,3.8c-0.1,0.7-0.6,1.1-1.3,1.1c-0.4,0-0.8,0-1.2,0c-0.1,0-0.2,0-0.3,0c-0.5-0.1-0.9-0.5-1-1c-0.2-1.2-0.4-2.4-0.6-3.5c-0.1-0.6-0.2-1.2-0.3-1.8c-0.1-0.3-0.2-0.5-0.4-0.7c-0.4-0.3-0.6-0.8-0.7-1.3C4.1,15.9,4,15.3,4,14.7C4,14,4,13.3,4,12.6z\"/>'\n        + '<path d=\"M4.8,3.6c0-1.8,1.4-3.4,3.4-3.5c1.9,0,3.5,1.5,3.5,3.5c0,2-1.5,3.4-3.5,3.4C6.3,7,4.8,5.5,4.8,3.6z\"/></svg>';\n\n            // blockArray.push('<div class=\"block type' + i + '\">' + '<p>' + data[i][0] + '</p></div>');\n            //blockArray.push('<div class=\"block type_gender' + index[i] + ' data-index=' + data_gender[i][0] + '\">' + '</div>');\n            blockArray.push(person_svg);\n            // $(id).append('<div class=\"block type'+i+'\"><p>'+ data[i][0] +'</p></div>');\n        }\n        return blockArray;\n    }\n\n});\n\n\n// var $block = document.getElementByClassName('block');\n// $(\".block\").hover(function() { console.log($(this).dataset.index); });\n","(function() {\r\n\r\n    var width = 600;\r\n    var height = 300;\r\n    var margin = 50;\r\n    var selected;\r\n\r\n\r\n\r\n    //setup the svg\r\n\r\n    var $bars_age = d3.select(\"#changing_bars\").append(\"svg\")\r\n        .attr(\"width\", width + 100)\r\n        .attr(\"height\", height + 10); // adding some random padding\r\n    $bars_age.append(\"rect\")\r\n        .attr(\"width\", \"100%\")\r\n        .attr(\"height\", \"100%\")\r\n        .attr(\"fill\", \"none\");\r\n\r\n    var age_bar_color = d3.scale.ordinal()\r\n        .range([\"malFocus\", \"femFocus\"]);\r\n    var age_bar_label = d3.scale.ordinal()\r\n        .range([\"Male\", \"Female\"]);\r\n\r\n    var ages_label = $bars_age.append('text')\r\n        .text(\"Age\")\r\n        .attr(\"class\", \"vis-x-axis-label\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .attr(\"y\", 10)\r\n        .attr(\"x\", 10);\r\n\r\n    var chart_title = $bars_age.append('text');\r\n\r\n    var age_bars_legend = $bars_age.selectAll(\".vis-legend\")\r\n        .data(['male', 'female'])\r\n        .enter().append(\"g\");\r\n\r\n    age_bars_legend.append(\"rect\")\r\n        .attr(\"x\", 0)\r\n        .attr(\"width\", 20)\r\n        .attr(\"height\", 20)\r\n        .attr(\"class\", age_bar_color);\r\n    // .style(\"fill\", age_bar_color);\r\n\r\n\r\n\r\n    age_bars_legend.append(\"text\")\r\n        .attr(\"x\", 25)\r\n        .attr(\"y\", 9)\r\n        .attr(\"dy\", \".5em\")\r\n        .style(\"text-anchor\", \"start\")\r\n        .text(age_bar_label);\r\n\r\n    d3.csv(\"js/data/bars-age.csv\", function(error, data) {\r\n\r\n            var selected = \"percentOpiodDeaths\";\r\n            //console.log(column);\r\n            var dataset = drawGraph(data, selected); // you need to finish this function below.\r\n            //\r\n            // //console.log(column, dataset);\r\n            //\r\n\r\n\r\n            updateWidth();\r\n            redraw(dataset, selected);\r\n\r\n            window.addEventListener('resize', function() {\r\n                updateWidth();\r\n                redraw(dataset, selected);\r\n            });\r\n\r\n            d3.select(\"#POD\").classed(\"selected\", true);\r\n            $(\"#POD\").addClass(\"active\");\r\n\r\n            d3.select(\"#POD\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"percentOpiodDeaths\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n            d3.select(\"#DR\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"deathRate\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n            d3.select(\"#NOD\")\r\n                .on(\"click\", function(d, i) {\r\n                    selected = \"numberOpioidDeaths\"\r\n                    dataset = drawGraph(data, selected);\r\n                    redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n                    d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    $(\"#buttons-bar button\").removeClass(\"active\");\r\n\r\n                    d3.selectAll(\"#age18to24\").classed(\"selected\", false);\r\n                    $(\"#age18to24\").removeClass(\"active\");\r\n\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n\r\n            d3.select(\"#age18to24\")\r\n                .on(\"click\", function(d, i) {\r\n                    //selected = \"18to24\"\r\n                    // dataset = drawGraph(data, selected);\r\n                    // redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n\r\n                    //d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    //$(\"#buttons-bar button\").removeClass(\"active\");\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".bar.malFocus\")\r\n                        .classed(\"malSelector\", true);\r\n                    d3.selectAll(\".bar.femFocus\")\r\n                        .classed(\"femSelector\", true);\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", true);    \r\n\r\n                    d3.selectAll(\".bar.malFocus.age18to24\")\r\n                        .classed(\"malSelector\", false);\r\n                    d3.selectAll(\".bar.femFocus.age18to24\")\r\n                        .classed(\"femSelector\", false);\r\n                    \r\n                     d3.selectAll(\".vis-axis\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".vis-data-label\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"noageSelector\", false)\r\n                        .classed(\"ageSelector\", true);  \r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"ageSelector\", false);\r\n                });\r\n\r\n            d3.select(\"#age25to34\")\r\n                .on(\"click\", function(d, i) {\r\n                    //lected = \"18to24\"\r\n                    // dataset = drawGraph(data, selected);\r\n                    // redraw(dataset, selected);\r\n                    var thisButton = d3.select(this);\r\n\r\n                    //d3.selectAll(\"#buttons-bar button\").classed(\"selected\", false);\r\n                    //$(\"#buttons-bar button\").removeClass(\"active\");\r\n                    thisButton.classed(\"selected\", true);\r\n                    $(this).addClass(\"active\");\r\n\r\n                    d3.selectAll(\".bar.malFocus\")\r\n                        .classed(\"malSelector\", true);\r\n                    d3.selectAll(\".bar.femFocus\")\r\n                        .classed(\"femSelector\", true);\r\n                     \r\n\r\n                    d3.selectAll(\".bar.malFocus.age25to34\")\r\n                        .classed(\"malSelector\", false);\r\n                    d3.selectAll(\".bar.femFocus.age25to34\")\r\n                        .classed(\"femSelector\", false);\r\n\r\n                    d3.selectAll(\".vis-axis\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".vis-data-label\")\r\n                        .classed(\"noageSelector\", true);\r\n                    d3.selectAll(\".lab25to34\")\r\n                        .classed(\"noageSelector\", false)\r\n                        .classed(\"ageSelector\", true);                    \r\n                    d3.selectAll(\".lab18to24\")\r\n                        .classed(\"ageSelector\", false);\r\n\r\n\r\n                });\r\n\r\n            //setup our ui -- requires access to data variable, so inside csv\r\n            // d3.select(\"#menu select\")\r\n            //     .on(\"change\", function() {\r\n            //         column = d3.select(\"#menu select\").property(\"value\");\r\n            //         dataset = drawGraph(data, column);\r\n            //         //console.log(column, dataset);\r\n            //         redraw(dataset, column);\r\n            // });\r\n\r\n        }) // end csv\r\n\r\n\r\n    function updateWidth() {\r\n        width = document.querySelector(\"#changing_bars\").clientWidth - 100;\r\n        height = 300;\r\n        margin = 50;\r\n\r\n        $bars_age\r\n            .attr(\"width\", width + 100)\r\n            .attr(\"height\", height + 10); // adding some random padding\r\n    }\r\n\r\n    //make the bars for the first data set.  They will be red at first.\r\n\r\n    function drawGraph(data, column) {\r\n\r\n        return data.sort(function(a, b) {\r\n            return b[column] - a[column]; // descending order, biggest at the top!\r\n        }); // cut off the top 10!\r\n\r\n    }\r\n\r\n    // This function is used to draw and update the data. It takes different data each time.\r\n\r\n    function redraw(data, column) {\r\n\r\n        chart_title.text(toTitle(column))\r\n            .attr(\"class\", \"vis-label\")\r\n            .style(\"text-anchor\", \"end\")\r\n            .attr(\"y\", 12)\r\n            .attr(\"x\", width + margin + margin);\r\n\r\n        var max = d3.max(data, function(d) {\r\n            return +d[column];\r\n        });\r\n\r\n        xScale = d3.scale.linear()\r\n            .domain([0, max])\r\n            .range([0, width]);\r\n\r\n        yScale = d3.scale.ordinal()\r\n            .domain(d3.range(data.length))\r\n            .rangeBands([20, height], .2);\r\n\r\n        // yScale = function calc(e){return i[((u.get(e)||(\"range\"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]};\r\n\r\n\r\n        var bars = $bars_age.selectAll(\"rect.bar\")\r\n            .data(data, function(d) {\r\n                return d.gender_age;\r\n            }); // key function!\r\n\r\n\r\n\r\n        age_bars_legend\r\n            .attr(\"class\", \"vis-legend\")\r\n            .attr(\"transform\", function(d, i) {\r\n                return \"translate(\" + (width - 10) + \",\" + (height - (margin * 2) + (i * 24)) + \")\";\r\n            });\r\n\r\n\r\n        //update -- existing bars get blue when we \"redraw\". We don't change labels.\r\n        // bars\r\n        //   .attr(\"fill\", \"steelblue\");\r\n\r\n        //enter - new bars get set to darkorange when we \"redraw.\"\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"bar\");\r\n        // .attr(\"fill\", \"steelblue\");\r\n\r\n        //exit -- remove ones that aren't in the index set\r\n        bars.exit()\r\n            .transition()\r\n            .duration(200)\r\n            .ease(\"exp\")\r\n            .attr(\"width\", 0)\r\n            .remove();\r\n\r\n        //console.log(yScale);\r\n        // transition -- move the bars to proper widths and location\r\n        bars\r\n            .transition()\r\n            .duration(500)\r\n            .ease(\"quad\")\r\n            .attr(\"width\", function(d) {\r\n                return xScale(+d[column]);\r\n            })\r\n            .attr(\"height\", yScale.rangeBand())\r\n            .attr(\"transform\", function(d, i) {\r\n                return \"translate(\" + [(0 + margin), yScale(i)] + \")\";\r\n            })\r\n            .attr(\"class\", function(d, i) {\r\n                if (d.gender === 'Male' && d.age === '18 to 24') {\r\n                    return \"bar malFocus age18to24\";\r\n                } else if (d.gender === 'Female' && d.age === '18 to 24') {\r\n                    return \"bar femFocus age18to24\";\r\n                } else if (d.gender === 'Female' && d.age === '25 to 34') {\r\n                    return \"bar femFocus age25to34\";\r\n                } else if (d.gender === 'Male' && d.age === '25 to 34') {\r\n                    return \"bar malFocus age25to34\";\r\n                } else if (d.gender === 'Female' && d.age === '35 to 49') {\r\n                    return \"bar femFocus age35to49\";\r\n                } else if (d.gender === 'Male' && d.age === '35 to 49') {\r\n                    return \"bar malFocus age35to49\";\r\n                } else if (d.gender === 'Female' && d.age === '50 to 64') {\r\n                    return \"bar femFocus age50to64\";\r\n                } else if (d.gender === 'Male' && d.age === '50 to 64') {\r\n                    return \"bar malFocus age50to64\";\r\n                } else if (d.gender === 'Female') {\r\n                    return \"bar femFocus age65plus\";\r\n                } else if (d.gender === 'Male') {\r\n                    return \"bar malFocus age65plus\";\r\n                }\r\n            });\r\n        //.classed(\"18to24\", (d.age === '18 to 24'))\r\n\r\n        //   .attr(\"class\", function (d, i) {\r\n        //       if (d.age === '18 to 24') {\r\n        //           return \"18to24\";\r\n        //      } else if (d.age === '25 to 34') {\r\n        //           return \"25to34\";\r\n        //       }\r\n        //   });\r\n\r\n        //add legend\r\n\r\n\r\n        //  We are attaching the labels separately, not in a group with the bars...\r\n\r\n        var dataLabels = $bars_age.selectAll(\"text.vis-data-label\")\r\n            .data(data, function(d) {\r\n                //console.log(d.age)\r\n                return d.gender_age\r\n            });\r\n             // key function!\r\n\r\n        var axisLabels = $bars_age\r\n            .selectAll(\"text.vis-axis\")\r\n\r\n            .data(data, function(d) {\r\n                return d.gender_age\r\n            })\r\n            ;\r\n\r\n\r\n        // everything gets a class and a text field.  But we assign attributes in the transition.\r\n        axisLabels.enter()\r\n            .append(\"text\")\r\n            .attr(\"class\", function(d, i) {\r\n                if(d.age == '25 to 34'){\r\n                    return \"vis-axis lab25to34\"\r\n                }\r\n                else if(d.age == '18 to 24'){\r\n                    return \"vis-axis lab18to24\"\r\n                }\r\n                else{\r\n                    return \"vis-axis\"\r\n                }\r\n            });\r\n        axisLabels.exit()\r\n            .remove();\r\n\r\n        dataLabels.enter()\r\n            .append(\"text\")\r\n            .attr(\"class\", function(d, i) {\r\n                if(d.age == '25 to 34'){\r\n                    return \"vis-data-label lab25to34\"\r\n                }\r\n                else if(d.age == '18 to 24'){\r\n                    return \"vis-data-label lab18to24\"\r\n                }\r\n                else{\r\n                    return \"vis-data-label\"\r\n                }\r\n            });\r\n        dataLabels.exit()\r\n            .remove();\r\n\r\n        numberFormat = d3.format(\".0f\");\r\n        percentageFormat = d3.format(\".1f\");\r\n        rateFormat = d3.format(\".1f\");\r\n\r\n        dataLabels.transition()\r\n            .duration(500)\r\n            .attr(\"transform\", function(d, i) {\r\n                //console.log(xScale(+d[column]) + 50);\r\n                //console.log(d[column]);\r\n                return \"translate(\" + (xScale(+d[column]) + margin) + \",\" + (yScale(i) + 4) + \")\"\r\n            })\r\n            .text(function(d) {\r\n                // console.log(column);\r\n                if (column == \"percentOpiodDeaths\" && d.age == '65+') {\r\n                    return \"<1%\";\r\n                }\r\n                if (column == \"percentOpiodDeaths\" && d.age != '65+') {\r\n                    return percentageFormat(d[column]) + \"%\";\r\n                }\r\n                if (column == \"numberOpioidDeaths\") {\r\n                    return numberFormat(d[column]);\r\n                } else {\r\n                    return rateFormat(d[column]);\r\n                }\r\n            })\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"dx\", \"5px\");\r\n\r\n        axisLabels.transition()\r\n            .duration(500)\r\n            .attr(\"transform\", function(d, i) {\r\n                //return \"translate(\" + xScale(+d[column]) + \",\" + yScale(i) + \")\"\r\n                return \"translate(\" + 0 + \",\" + (yScale(i) + 5) + \")\"\r\n            })\r\n            .text(function(d) {\r\n                return d.age;\r\n            })\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"dx\", \"40px\");\r\n\r\n\r\n    } // end of draw function\r\n\r\n\r\n    function toTitle(key) {\r\n        var titleLookup = {\r\n            percentOpiodDeaths: 'Percent of Opioid Deaths among All Deaths',\r\n            deathRate: 'Opioid Death Rate per 100,000 People per Year',\r\n            numberOpioidDeaths: 'Number of Opioid Deaths from 2013 to 2014'\r\n        };\r\n        return titleLookup[key];\r\n    }\r\n})();","$(document).ready(function() {\n\n    dataset = [{\n        raceth: \"All\",\n        \"2014\": 19.9,\n        \"2015\": 23.3\n    }, {\n        raceth: \"White non-Hispanic\",\n        \"2014\": 23.3,\n        \"2015\": 27.5\n    }, {\n        raceth: \"Black non-Hispanic\",\n        \"2014\": 11.1,\n        \"2015\": 13.7\n    }, {\n        raceth: \"Hispanic\",\n        \"2014\": 15.3,\n        \"2015\": 18.8\n    }];\n\n    var color = d3.scale.ordinal()\n        .range([\"rgb(211, 211, 211)\", \"#78909C\"]);\n\n    var width, height, margin = {};\n\n    updateWidth();\n\n    var x0 = d3.scale.ordinal().rangeRoundBands([0, width], .1);\n\n    var x1 = d3.scale.ordinal().rangeBands([0, width], 0);\n\n    var y = d3.scale.linear()\n        .range([height, 0]);\n\n    var min2014 = [18.8, 22.0, 5.5, 12.4] \n    var max2014 = [20.9, 24.7, 18.5, 18.3]\n    var min2015 = [22.2, 26.0, 7.4, 15.7]\n    var max2015 = [24.5, 29.0, 21.9, 21.9] \n\n    var errorBarArea2014all = d3.svg.area()\n    var errorBarArea2015all = d3.svg.area()\n    var errorBarArea2014white = d3.svg.area()\n    var errorBarArea2015white = d3.svg.area()  \n    var errorBarArea2014black = d3.svg.area()\n    var errorBarArea2015black = d3.svg.area()\n    var errorBarArea2014hisp = d3.svg.area()\n    var errorBarArea2015hisp = d3.svg.area() \n\n    var errorBars2014all;\n    var errorBars2015all;\n    var errorBars2014white;\n    var errorBars2015white;\n    var errorBars2014black;\n    var errorBars2015black;\n    var errorBars2014hisp;\n    var errorBars2015hisp;        \n\n    var xAxis_bars = d3.svg.axis()\n        .scale(x0)\n        .orient(\"bottom\");\n\n    var yAxis_bars = d3.svg.axis()\n        .scale(y)\n        .orient(\"left\")\n        .tickFormat(d3.format(\".0f\"));\n\n    var divtooltip_raceeth = d3.select(\"#race_ethnicity_chart\").append(\"div\").classed(\"vis-tooltip hidden\", true);\n\n\n    var $svg = d3.select(\"#race_ethnicity_chart\").append(\"svg\")\n    var $bars_race = $svg\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n    var options = d3.keys(dataset[0]).filter(function(key) {\n        return key !== \"raceth\";\n    });\n\n    dataset.forEach(function(d) {\n        d.values = options.map(function(name) {\n            return {\n                name: name,\n                value: +d[name]\n            };\n        });\n    });\n\n    x0.domain(dataset.map(function(d) {\n        return d.raceth;\n    }));\n    x1.domain(options).rangeRoundBands([0, x0.rangeBand()]);\n    y.domain([0, d3.max(dataset, function(d) {\n        return d3.max(d.values, function(d) {\n            return d.value;\n        });\n    })]);\n\n    var xAxis = $bars_race.append(\"g\")\n        .attr(\"class\", \"vis-x-axis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\");\n\n    var yAxis = $bars_race.append(\"g\")\n        .attr(\"class\", \"vis-y-axis\");\n\n    var yAxisLabel = yAxis.append(\"text\")\n        .attr(\"y\", -35)\n        .attr(\"dy\", \".71em\")\n        .attr(\"class\", \"vis-y-axis-label\")\n        .text(\"Age Adjusted Rates per 100,000\");\n\n    var bar = $bars_race.selectAll(\".bar\")\n        .data(dataset)\n        .enter().append(\"g\")\n        .attr(\"class\", \"rect\")\n        .attr(\"transform\", function(d) {\n            return \"translate(\" + (x0(d.raceth) - 10) + \",0)\";\n        });\n\n\n    var bars = bar.selectAll(\"rect\")\n        .data(function(d) {\n            return d.values;\n        })\n        .enter().append(\"rect\");\n\n    bars\n        .attr(\"width\", x1.rangeBand())\n        .attr(\"x\", function(d) {\n            return x1(d.name) + 5;\n        })\n        .attr(\"y\", function(d) {\n            //console.log(d.value + \": \" + y(d.value))\n            return y(d.value);\n        })\n        .attr(\"value\", function(d) {\n            return d.name;\n        })\n        .attr(\"height\", function(d) {\n            //console.log(height - y(9.7));\n            return height - y(d.value);\n        })\n        .style(\"fill\", function(d) {\n\n            return color(d.name);\n        });\n\n    //bar.on(\n    //\"mouseover\", function(){\n    //d3.select(this).attr(\"fill\",\"red !important\");\n    //});\n\n    bar\n        .on(\"mousemove\", function(d) {\n            divtooltip_raceeth.style(\"left\", d3.event.pageX - $(\"#race_ethnicity_chart\").offset().left + \"px\");\n            divtooltip_raceeth.style(\"top\", d3.event.pageY - $(\"#race_ethnicity_chart\").offset().top + \"px\");\n            divtooltip_raceeth.classed(\"hidden\", false);\n            var x = d3.event.pageX,\n                y = d3.event.pageY\n            var elements = document.querySelectorAll(':hover');\n            l = elements.length\n            l = l - 1\n            elementData = elements[l].__data__\n                //divtooltip_raceeth.html(\"<rate>\" + (elementData.value) + \"</rate>\"  +\"<br>\" + \"<reth> - \" + (d.raceth) + \" - </reth>\" + \"<br>\" + \"<year>\" + (elementData.name) + \"</year>\");\n            divtooltip_raceeth.html(\"<rate>\" + (elementData.value) + \"</rate>\");\n\n        });\n\n    bar\n        .on(\"mouseout\", function(d) {\n            divtooltip_raceeth.classed(\"hidden\", true);\n        });\n\n\n\n    var legend = $bars_race.selectAll(\".vis-legend\")\n        .data(options.slice())\n        .enter().append(\"g\")\n        .attr(\"class\", \"vis-legend\")\n        .attr(\"transform\", function(d, i) {\n            return \"translate(0,\" + i * 20 + \")\";\n        });\n\n    var legendRect = legend.append(\"rect\")\n        .attr(\"x\", width - 24)\n        .attr(\"width\", 18)\n        .attr(\"height\", 18)\n        .style(\"fill\", color);\n\n    var legendText = legend.append(\"text\")\n        .attr(\"x\", width - 24)\n        .attr(\"y\", 9)\n        .attr(\"dy\", \".35em\")\n        .style(\"text-anchor\", \"end\")\n        .text(function(d) {\n            return d;\n        });\n   \n\n    errorBarArea2014all \n        .x(function(d) {return x0('All')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[0]); }) \n        .y1(function(d) {return y(max2014[0]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015all \n        .x(function(d) {return x0('All')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[0]); }) \n        .y1(function(d) {return y(max2015[0]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014white \n        .x(function(d) {return x0('White non-Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[1]); }) \n        .y1(function(d) {return y(max2014[1]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015white \n        .x(function(d) {return x0('White non-Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[1]); }) \n        .y1(function(d) {return y(max2015[1]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014black \n        .x(function(d) {return x0('Black non-Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[2]); }) \n        .y1(function(d) {return y(max2014[2]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015black \n        .x(function(d) {return x0('Black non-Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[2]); }) \n        .y1(function(d) {return y(max2015[2]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014hisp \n        .x(function(d) {return x0('Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[3]); }) \n        .y1(function(d) {return y(max2014[3]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015hisp \n        .x(function(d) {return x0('Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[3]); }) \n        .y1(function(d) {return y(max2015[3]); }) \n        .interpolate(\"linear\");\n\n    \n    //var errorBarSVG = d3.select(\"#race_ethnicity_chart\").append(\"svg\")\n    errorBars2014all = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2015all = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2014white = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2015white = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2014black = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2015black = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2014hisp = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n    errorBars2015hisp = $bars_race.append(\"g\").selectAll(\"path\").data(dataset);\n\n    //\n    errorBars2014all.enter().append(\"path\");\n    errorBars2015all.enter().append(\"path\");\n    errorBars2014white.enter().append(\"path\");\n    errorBars2015white.enter().append(\"path\");\n    errorBars2014black.enter().append(\"path\");\n    errorBars2015black.enter().append(\"path\");\n    errorBars2014hisp.enter().append(\"path\");\n    errorBars2015hisp.enter().append(\"path\");\n\n    //\n    errorBars2014all\n        .attr(\"d\", function(d){return errorBarArea2014all([d]);}) \n        .attr(\"class\", \"bars_race_error\");\n    errorBars2015all\n        .attr(\"d\", function(d){return errorBarArea2015all([d]);})\n        .attr(\"class\", \"bars_race_error\"); \n    errorBars2014white\n        .attr(\"d\", function(d){return errorBarArea2014white([d]);}) \n        .attr(\"class\", \"bars_race_error\");    \n    errorBars2015white\n        .attr(\"d\", function(d){return errorBarArea2015white([d]);})\n        .attr(\"class\", \"bars_race_error\"); \n    errorBars2014black\n        .attr(\"d\", function(d){return errorBarArea2014black([d]);}) \n        .attr(\"class\", \"bars_race_error\");    \n    errorBars2015black\n        .attr(\"d\", function(d){return errorBarArea2015black([d]);})\n        .attr(\"class\", \"bars_race_error\"); \n    errorBars2014hisp\n        .attr(\"d\", function(d){return errorBarArea2014hisp([d]);}) \n        .attr(\"class\", \"bars_race_error\");    \n    errorBars2015hisp\n        .attr(\"d\", function(d){return errorBarArea2015hisp([d]);})\n        .attr(\"class\", \"bars_race_error\"); \n\n    \n\n    function wrap(text, width) {\n        text.each(function() {\n            var text = d3.select(this),\n                words = text.text().split(/\\s+/).reverse(),\n                word,\n                line = [],\n                lineNumber = 0,\n                lineHeight = 1.1, // ems\n                y = text.attr(\"y\"),\n                dy = parseFloat(text.attr(\"dy\")),\n                tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n            while (word = words.pop()) {\n                line.push(word);\n                tspan.text(line.join(\" \"));\n                if (tspan.node().getComputedTextLength() > width) {\n                    line.pop();\n                    tspan.text(line.join(\" \"));\n                    line = [word];\n                    tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n                }\n            }\n        });\n    }\n\n\n    function render() {\n        updateWidth();\n\n        x1.rangeRoundBands([0, x0.rangeBand()]);\n\n        x0.rangeRoundBands([0, width], .1);\n        y.range([height, 0]);\n\n        xAxis_bars.scale(x0);\n        yAxis_bars.scale(y);\n\n        $svg.attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n\n        xAxis\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(xAxis_bars)\n            .selectAll(\".tick text\")\n            .call(wrap, x0.rangeBand());\n\n        yAxis.call(yAxis_bars);\n        yAxisLabel.attr(\"x\", -height/2);\n        legendRect.attr(\"x\", width - 18);\n        legendText.attr(\"x\", width - 24);\n\n        bar.attr(\"transform\", function(d) {\n            return \"translate(\" + (x0(d.raceth) - 10) + \",0)\";\n        });\n\n        bars.attr(\"width\", x1.rangeBand())\n            .attr(\"x\", function(d) {\n\n                return x1(d.name) + 10;\n            })\n            .attr(\"y\", function(d) {\n\n                return y(d.value);\n            })\n            .attr(\"value\", function(d) {\n                return d.name;\n            })\n            .attr(\"height\", function(d) {\n                return height - y(d.value);\n            });\n\n\n    errorBarArea2014all \n        .x(function(d) {return x0('All')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[0]); }) \n        .y1(function(d) {return y(max2014[0]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015all \n        .x(function(d) {return x0('All')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[0]); }) \n        .y1(function(d) {return y(max2015[0]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014white \n        .x(function(d) {return x0('White non-Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[1]); }) \n        .y1(function(d) {return y(max2014[1]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015white \n        .x(function(d) {return x0('White non-Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[1]); }) \n        .y1(function(d) {return y(max2015[1]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014black \n        .x(function(d) {return x0('Black non-Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[2]); }) \n        .y1(function(d) {return y(max2014[2]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015black \n        .x(function(d) {return x0('Black non-Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[2]); }) \n        .y1(function(d) {return y(max2015[2]); }) \n        .interpolate(\"linear\");\n    errorBarArea2014hisp \n        .x(function(d) {return x0('Hispanic')+x1.rangeBand()/2; }) \n        .y0(function(d) {return y(min2014[3]); }) \n        .y1(function(d) {return y(max2014[3]); }) \n        .interpolate(\"linear\");\n    errorBarArea2015hisp \n        .x(function(d) {return x0('Hispanic')+x1.rangeBand()/2+x1.rangeBand(); }) \n        .y0(function(d) {return y(min2015[3]); }) \n        .y1(function(d) {return y(max2015[3]); }) \n        .interpolate(\"linear\");\n\n    errorBars2014all\n        .attr(\"d\", function(d){return errorBarArea2014all([d]); });\n    errorBars2015all\n        .attr(\"d\", function(d){return errorBarArea2015all([d]); }); \n    errorBars2014white\n        .attr(\"d\", function(d){return errorBarArea2014white([d]); });    \n    errorBars2015white\n        .attr(\"d\", function(d){return errorBarArea2015white([d]); }); \n    errorBars2014black\n        .attr(\"d\", function(d){return errorBarArea2014black([d]); });    \n    errorBars2015black\n        .attr(\"d\", function(d){return errorBarArea2015black([d]); }); \n    errorBars2014hisp\n        .attr(\"d\", function(d){return errorBarArea2014hisp([d]); });    \n    errorBars2015hisp\n        .attr(\"d\", function(d){return errorBarArea2015hisp([d]); }); \n\n    }\n\n    function updateWidth() {\n        var w = document.querySelector('#race_ethnicity_chart').clientWidth;\n        margin = {\n                top: 50,\n                right: 10,\n                bottom: 60,\n                left: 50\n            },\n            width = w - margin.left - margin.right;\n\n        if (w < 500) {\n            height = 350 - margin.top - margin.bottom;\n            linemult = 1.4\n            linepad = 40\n        } else {\n            height = 500 - margin.top - margin.bottom;\n            linemult = 1.35\n            linepad = 30\n        }\n\n    }\n    render();\n    window.addEventListener('resize', render);\n});\n"],"sourceRoot":"/source/"}